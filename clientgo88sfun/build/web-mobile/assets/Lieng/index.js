window.__require=function e(t,o,n){function i(r,c){if(!o[r]){if(!t[r]){var s=r.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var d=o[r]={exports:{}};t[r][0].call(d.exports,function(e){return i(t[r][1][e]||e)},d,d.exports,e,t,o,n)}return o[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({"Lieng.CardUtil":[function(e,t,o){"use strict";cc._RF.push(t,"adeddIR2mpE+68QvIv7+42P","Lieng.CardUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.common=void 0;var n,i=cc._decorator;i.ccclass,i.property,function(e){var t=function(){function e(){}return e.getCardInfo=function(e){this.id=e,this.so=this.getSoById(e),this.chat=this.getChatById(e),this.diem=this.getDiemById(e)},e.getSoById=function(e){return Math.floor(e/4)},e.getDiemById=function(e){return Math.floor(e/4)<=8?Math.floor(e/4)+1:0},e.getChatById=function(e){return e%4},e.getNormalId=function(e){var t;return t=4>e?11:8>e?12:Math.floor(e/4)-2,3==(e=Math.floor(e%4))?e=2:2==e&&(e=3),4*t+e},e}();e.CardUtils=t}(n=o.common||(o.common={})),o.default=n.CardUtils,cc._RF.pop()},{}],"Lieng.Cmd":[function(e,t,o){"use strict";cc._RF.push(t,"92d28q7GaFM778OCwIitQ83","Lieng.Cmd");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.cmd=void 0;var a,r=e("../../Lobby/LobbyScript/Script/networks/Network.OutPacket"),c=e("../../Loading/src/Configs"),s=e("../../Lobby/LobbyScript/Script/networks/Network.InPacket");(function(e){var t=function(){function e(){}return e.LOGIN=1,e.TOPSERVER=1001,e.CMD_PINGPONG=1050,e.CMD_JOIN_ROOM=3001,e.CMD_RECONNECT_ROOM=3002,e.MONEY_BET_CONFIG=3003,e.JOIN_ROOM_FAIL=3004,e.CHAT_ROOM=3008,e.GET_LIST_ROOM=3014,e.JOIN_GAME_ROOM_BY_ID=3015,e.MOI_DAT_CUOC=3114,e.UPDATE_OWNER_ROOM=3117,e.NOTIFY_USER_GET_JACKPOT=3122,e.PLAYER_STATUS_OUT_GAME=0,e.PLAYER_STATUS_VIEWER=1,e.PLAYER_STATUS_SITTING=2,e.PLAYER_STATUS_PLAYING=3,e.SELECT_DEALER=3100,e.TAKE_TURN=3101,e.BUY_IN=3102,e.KET_THUC=3103,e.CHANGE_TURN=3104,e.NEW_ROUND=3105,e.DEAL_PRIVATE_CARD=3106,e.TU_DONG_BAT_DAU=3107,e.SHOW_CARD=3108,e.REQUEST_BUY_IN=3109,e.THONG_TIN_BAN_CHOI=3110,e.DANG_KY_THOAT_PHONG=3111,e.REQUEST_STAND_UP=3113,e.CHEAT_CARDS=3115,e.DANG_KY_CHOI_TIEP=3116,e.JOIN_ROOM_SUCCESS=3118,e.LEAVE_GAME=3119,e.NOTIFY_KICK_FROM_ROOM=3120,e.NEW_USER_JOIN=3121,e.UPDATE_MATCH=3123,e.REQUEST_INFO_TOUR=3990,e.UPDATE_TIME=3991,e.MAX_PLAYER=9,e.MAX_BUY_IN=250,e.GAME_ACTION_FOLD=0,e.GAME_ACTION_CHECK=1,e.GAME_ACTION_CALL=2,e.GAME_ACTION_RAISE=3,e.GAME_ACTION_ALL_IN=4,e.EG_SANH_VUA=0,e.EG_THUNG_PHA_SANH=1,e.EG_TU_QUY=2,e.EG_CU_LU=3,e.EG_THUNG=4,e.EG_SANH=5,e.EG_XAM_CO=6,e.EG_HAI_DOI=7,e.EG_DOI=8,e.EG_MAU_THAU=9,e.EG_SERVER_NGU=10,e.STATE_CHIA_BAI=1,e.STATE_JOIN_ROOM=2,e.STATE_END_GAME=3,e.STATE_NEW_USER_JOIN_ROOM=5,e.STATE_USER_LEAVE_ROOM=6,e.STATE_DEAL_CARD=7,e.STATE_SELECT_DEALER=8,e.STATE_CHANGE_TURN=9,e.STATE_NEW_BET_ROUND=10,e.STATE_NOTIFY_OUT_ROOM=11,e.STATE_BUY_IN=12,e.STATE_UPDATE_MATCH=13,e.STATE_GAME_INFO=14,e.STATE_SHOW_CARD=15,e.STATE_NOTIFY_BUY_IN=16,e.STATE_STAND_UP=17,e}();e.Code=t;var o=function(e){function o(o,n){var i=e.call(this)||this;return i.initData(100),i.setControllerId(1),i.setCmdId(t.LOGIN),i.packHeader(),i.putString(o),i.putString(n),i.updateSize(),i}return i(o,e),o}(r.default);e.CmdLogin=o;var n=function(e){function o(o,n,i){var a=e.call(this)||this;return a.initData(100),a.setControllerId(1),a.setCmdId(t.CMD_JOIN_ROOM),a.packHeader(),a.putInt(o),a.putInt(n),a.putLong(i),a.putInt(0),a.updateSize(),a}return i(o,e),o}(r.default);e.CmdJoinRoom=n;var a=function(e){function o(){var o=e.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(t.CMD_RECONNECT_ROOM),o.packHeader(),o.updateSize(),o}return i(o,e),o}(r.default);e.CmdReconnectRoom=a;var l=function(e){function o(){var o=e.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(t.DANG_KY_THOAT_PHONG),o.packHeader(),o.updateSize(),o}return i(o,e),o}(r.default);e.CmdSendRequestLeaveGame=l;var d=function(e){function o(){var o=e.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(t.DANG_KY_CHOI_TIEP),o.packHeader(),o.updateSize(),o}return i(o,e),o}(r.default);e.CmdSendHoldRoom=d;var u=function(e){function o(){var o=e.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(t.MONEY_BET_CONFIG),o.packHeader(),o.updateSize(),o}return i(o,e),o}(r.default);e.SendGetGameConfig=u;var h=function(e){function o(o){var n=e.call(this)||this;return n.initData(100),n.setControllerId(1),n.setCmdId(t.TOPSERVER),n.packHeader(),n.putByte(o),n.updateSize(),n}return i(o,e),o}(r.default);e.SendGetTopServer=h;var p=function(e){function o(o,n){var i=e.call(this)||this;if(i.initData(100),i.setControllerId(1),i.setCmdId(t.CHEAT_CARDS),i.packHeader(),i.putByte(o),i.putByte(0),i.putShort(n.length),o)for(var a=0;a<n.length;a++)i.putByte(n[a]);return i.updateSize(),i}return i(o,e),o}(r.default);e.SendCardCheat=p;var f=function(e){function o(){var o=e.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(t.CMD_PINGPONG),o.packHeader(),o.updateSize(),o}return i(o,e),o}(r.default);e.CmdSendPing=f;var y=function(e){function o(){var o=e.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(t.GET_LIST_ROOM),o.packHeader(),o.putInt(c.default.App.MONEY_TYPE),o.putInt(t.MAX_PLAYER),o.putLong(-1),o.putInt(0),o.putInt(0),o.putInt(50),o.updateSize(),o}return i(o,e),o}(r.default);e.SendGetListRoom=y;var g=function(e){function o(o){var n=e.call(this)||this;return n.initData(100),n.setControllerId(1),n.setCmdId(t.JOIN_GAME_ROOM_BY_ID),n.packHeader(),n.putInt(o),n.putString(""),n.updateSize(),n}return i(o,e),o}(r.default);e.SendJoinRoomById=g;var C=function(e){function o(o,n){var i=e.call(this)||this;return i.initData(100),i.setControllerId(1),i.setCmdId(t.CHAT_ROOM),i.packHeader(),i.putByte(o?1:0),i.putString(encodeURI(n)),i.updateSize(),i}return i(o,e),o}(r.default);e.SendChatRoom=C;var m=function(e){function o(o,n,i,a,r){var c=e.call(this)||this;return c.initData(100),c.setControllerId(1),c.setCmdId(t.TAKE_TURN),c.packHeader(),c.putByte(o),c.putByte(n),c.putByte(a),c.putByte(i),c.putByte(!1),c.putLong(r),c.updateSize(),c}return i(o,e),o}(r.default);e.SendTakeTurn=m;var v=function(e){function o(o,n){var i=e.call(this)||this;return i.initData(100),i.setControllerId(1),i.setCmdId(t.BUY_IN),i.packHeader(),i.putLong(o),i.putByte(n),i.updateSize(),i}return i(o,e),o}(r.default);e.SendBuyIn=v;var I=function(e){function o(){var o=e.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(t.SHOW_CARD),o.packHeader(),o.updateSize(),o}return i(o,e),o}(r.default);e.SendShowCard=I;var _=function(e){function o(o){var n=e.call(this)||this;return n.initData(100),n.setControllerId(1),n.setCmdId(t.REQUEST_INFO_TOUR),n.packHeader(),n.putByte(o),n.updateSize(),n}return i(o,e),o}(r.default);e.SendGetInfoTour=_;var S=function(e){function o(){var o=e.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(t.REQUEST_STAND_UP),o.packHeader(),o.updateSize(),o}return i(o,e),o}(r.default);e.SendDungDay=S;var B=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t}(s.default);e.ReceivedLogin=B;var R=function(e){function t(t){var o=e.call(this,t)||this;o.list=[];var n=o.getShort();o.list=[];for(var i=0;i<n;i++){var a={};a.id=o.getInt(),a.userCount=o.getByte(),a.limitPlayer=o.getByte(),a.maxUserPerRoom=o.getInt(),a.moneyType=o.getByte(),a.moneyBet=o.getInt(),a.requiredMoney=o.getInt(),a.rule=o.getByte(),a.nameRoom=o.getString(),a.key=o.getBool(),a.quyban=o.getLong(),o.list.push(a)}return o}return i(t,e),t}(s.default);e.ReceivedGetListRoom=R;var b=function(e){function t(t){var o=e.call(this,t)||this;o.myChair=o.getByte(),o.moneyBet=o.getLong(),o.roomOwner=o.getByte(),o.roomId=o.getInt(),o.gameId=o.getInt(),o.moneyType=o.getByte(),o.rule=o.getByte(),o.playerSize=o.getShort(),o.playerStatus=[];for(var n=0;n<o.playerSize;n++)o.playerStatus.push(o.getByte());for(o.playerSize=o.getShort(),o.playerInfos=[],n=0;n<o.playerSize;n++){var i={};i.avatar=o.getString(),i.nickName=o.getString(),i.currentMoney=o.getLong(),o.playerInfos.push(i)}for(o.gameAction=o.getByte(),o.handCardSizeSize=o.getShort(),o.handCardSizeList=[],n=0;n<o.handCardSizeSize;n++)o.handCardSizeList.push(o.getByte());return o.currentActionChair=o.getByte(),o.countDownTime=o.getByte(),o.minBuyInTiLe=o.getInt(),o.maxBuyInTiLe=o.getInt(),o}return i(t,e),t}(s.default);e.ReceivedJoinRoomSucceed=b;var L=function(e){function t(t){var o=e.call(this,t)||this;return o.isAutoStart=o.getBool(),o.timeAutoStart=o.getByte(),o}return i(t,e),t}(s.default);e.ReceivedAutoStart=L;var T=function(e){function t(t){var o=e.call(this,t)||this,n=0;for(o.cardSize=o.getShort(),o.cards=[],n=0;n<o.cardSize;n++)o.cards.push(o.getByte());return o.gameId=o.getInt(),o.timeChiaBai=o.getByte(),o}return i(t,e),t}(s.default);e.ReceivedChiaBai=T;var A=function(e){function t(t){var o=e.call(this,t)||this;return o.chair=o.getByte(),o.nickName=o.getString(),o}return i(t,e),t}(s.default);e.ReceivedUserLeaveRoom=A;var P=function(e){function t(t){var o=e.call(this,t)||this;return o.info={},o.info.nickName=o.getString(),o.info.avatar=o.getString(),o.info.money=o.getLong(),o.uChair=o.getByte(),o.uStatus=o.getByte(),o}return i(t,e),t}(s.default);e.ReceivedUserJoinRoom=P;var N=function(e){function o(o){var n=e.call(this,o)||this;n.chair=n.getByte(),n.hasInfoSize=n.getShort(),n.hasInfoList=[];for(var i=0;i<n.hasInfoSize;i++)n.hasInfoList.push(n.getByte());for(n.currentMoneyList=[],n.statusList=[],i=0;i<t.MAX_PLAYER;i++)n.hasInfoList[i]?(n.currentMoneyList.push(n.getLong()),n.statusList.push(n.getInt())):(n.currentMoneyList.push(0),n.statusList.push(0));return n}return i(o,e),o}(s.default);e.ReceivedUpdateMatch=N;var w=function(e){function t(t){var o=e.call(this,t)||this;return o.outChair=o.getByte(),o.isOutRoom=o.getBool(),o}return i(t,e),t}(s.default);e.ReceivedNotifyRegOutRoom=w;var E=function(e){function t(t){var o=e.call(this,t)||this;return o.reason=o.getByte(),o}return i(t,e),t}(s.default);e.ReceivedKickOff=E;var O=function(e){function t(t){var o=e.call(this,t)||this;return o.timeDatCuoc=o.getByte(),o}return i(t,e),t}(s.default);e.ReceivedMoiDatCuoc=O;var M=function(e){function t(t){var o=e.call(this,t)||this;return o.chairDatCuoc=o.getByte(),o.level=o.getByte(),o}return i(t,e),t}(s.default);e.ReceivedDatCuoc=M;var k=function(e){function t(t){var o=e.call(this,t)||this;o.chairMoBai=o.getByte(),o.cardSize=o.getShort(),o.cards=[];for(var n=0;n<o.cardSize;n++)o.cards.push(o.getByte());return o}return i(t,e),t}(s.default);e.ReceivedMoBai=k;var U=function(e){function o(o){var n=e.call(this,o)||this;n.potAmount=n.getLong(),n.rankSize=n.getShort(),n.rankList=[];for(var i=0;i<n.rankSize;i++)n.rankList.push(n.getLong());for(n.kqttSize=n.getShort(),n.kqttList=[],i=0;i<n.kqttSize;i++)n.kqttList.push(n.getLong());for(n.booleanWinerSize=n.getShort(),n.booleanWinerList=[],i=0;i<n.booleanWinerSize;i++)n.booleanWinerList.push(n.getByte());for(n.moneyArraySize=n.getShort(),n.currentMoney=[],i=0;i<n.moneyArraySize;i++)n.currentMoney.push(n.getLong());for(n.gameMoney=[],n.gameMoneySize=n.getShort(),i=0;i<n.gameMoneySize;i++)n.gameMoney.push(n.getLong());for(n.hasInfoSize=n.getShort(),n.hasInfoList=[],i=0;i<n.hasInfoSize;i++)n.hasInfoList.push(n.getByte());for(n.publicCardSize=n.getShort(),n.publicCards=[],i=0;i<n.publicCardSize;i++)n.publicCards.push(n.getInt());for(n.privateCardList=[],n.cardNameList=[],i=0;i<t.MAX_PLAYER;i++){var a=0,r=[];if(n.hasInfoList[i]||n.publicCards[i]){a=n.getShort();for(var c=0;c<a;c++)r.push(n.getByte());a=n.getByte()}else a=0;n.privateCardList.push(r),n.cardNameList.push(a)}return n}return i(o,e),o}(s.default);e.ReceivedEndGame=U;var H=function(e){function t(t){var o=e.call(this,t)||this;return o.chuongChair=o.getByte(),o}return i(t,e),t}(s.default);e.ReceivedDoiChuong=H;var G=function(e){function t(t){var o=e.call(this,t)||this;return o.chair=o.getByte(),o.isIcon=o.getBool(),o.content=decodeURI(o.getString()),o.nickname=o.getString(),o}return i(t,e),t}(s.default);e.ReceivedChatRoom=G;var D=function(e){function o(o){var n=e.call(this,o)||this;n.chair=n.getByte(),n.myCardSize=n.getShort(),n.myCards=[];for(var i=0;i<n.myCardSize;i++)n.myCards.push(n.getByte());for(n.publicCardSize=n.getShort(),n.publicCards=[],i=0;i<n.publicCardSize;i++)n.publicCards.push(n.getByte());for(n.dealerChair=n.getByte(),n.smallBlindChair=n.getByte(),n.bigBlindChair=n.getByte(),n.potAmount=n.getLong(),n.maxBet=n.getLong(),n.raiseStep=n.getLong(),n.roundId=n.getByte(),n.gameServerState=n.getByte(),n.gameAction=n.getByte(),n.countDownTime=n.getByte(),n.currentActiveChair=n.getByte(),n.moneyType=n.getByte(),n.bet=n.getLong(),n.gameId=n.getInt(),n.roomId=n.getInt(),n.hasInfoSize=n.getShort(),n.hasInfoList=[],i=0;i<n.hasInfoSize;i++)n.hasInfoList.push(n.getByte());for(n.playerInfoList=[],i=0;i<t.MAX_PLAYER;i++){if(n.hasInfoList[i]){var a=[];a.hasFold=n.getByte(),a.hasAllIn=n.getByte(),a.currentBet=n.getLong(),a.currentMoney=n.getLong(),a.status=n.getByte(),a.avatarUrl=n.getString(),a.nickName=n.getString()}else(a=[]).hasFold=0,a.hasAllIn=0,a.currentBet=0,a.currentMoney=0,a.status=0,a.avatarUrl="",a.nickName="";n.playerInfoList.push(a)}return n}return i(o,e),o}(s.default);e.ReceivedGameInfo=D;var F=function(e){function t(t){var o=e.call(this,t)||this;return o.actionChair=o.getByte(),o.action=o.getByte(),o.lastRaise=o.getLong(),o.currentBet=o.getLong(),o.maxBet=o.getLong(),o.currentMoney=o.getLong(),o.raiseStep=o.getLong(),o.raiseBlock=o.getByte(),o}return i(t,e),t}(s.default);e.ReceivedTakeTurn=F;var V=function(e){function o(o){var n=e.call(this,o)||this;n.dealerChair=n.getByte(),n.smallBlindChair=n.getByte(),n.bigBlindChair=n.getByte(),n.hasInfoSize=n.getShort(),n.hasInfoList=[];for(var i=0;i<n.hasInfoSize;i++){var a=n.getByte();n.hasInfoList.push(a)}for(n.playerStatusList=[],i=0;i<t.MAX_PLAYER;i++)n.hasInfoList[i]?(a=n.getByte(),n.playerStatusList.push(a),cc.log("i: "+i+" "+a)):n.playerStatusList.push(0);for(n.gameId=n.getInt(),n.isCheat=n.getByte(),n.currentMoneySize=n.getShort(),n.currentMoneyList=[],i=0;i<n.currentMoneySize;i++)n.currentMoneyList.push(n.getLong());for(n.size=n.getShort(),n.listBetBigBlind=[],a="",i=0;i<n.size;i++)n.listBetBigBlind.push(n.getByte()),a+=" "+n.listBetBigBlind[i];return n}return i(o,e),o}(s.default);e.ReceivedSelectDealer=V;var x=function(e){function t(t){var o=e.call(this,t)||this;return o.chair=o.getByte(),o.buyInMoney=o.getLong(),o}return i(t,e),t}(s.default);e.ReceivedBuyIn=x;var z=function(e){function t(t){var o=e.call(this,t)||this;return o.roundId=o.getByte(),o.chair=o.getByte(),o.betTime=o.getByte(),o}return i(t,e),t}(s.default);e.ReceivedChangeTurn=z;var Y=function(e){function t(t){var o=e.call(this,t)||this;o.chair=o.getByte(),o.sizeCard=o.getShort(),o.myCards=[];for(var n=0;n<o.sizeCard;n++)o.myCards.push(o.getByte());return o.boBaiId=o.getByte(),o}return i(t,e),t}(s.default);e.ReceivedDealCards=Y;var W=function(e){function t(t){var o=e.call(this,t)||this;o.roundId=o.getByte(),o.sizeCard=o.getShort(),o.plusCards=[];for(var n=0;n<o.sizeCard;n++)o.plusCards.push(o.getByte());return o.cardName=o.getByte(),o.potAmount=o.getLong(),o}return i(t,e),t}(s.default);e.ReceivedNewBetRound=W;var j=function(e){function t(t){var o=e.call(this,t)||this;return o.chair=o.getByte(),o}return i(t,e),t}(s.default);e.ReceivedShowCard=j;var q=function(e){function t(t){var o=e.call(this,t)||this;return o.isUp=o.getByte(),o}return i(t,e),t}(s.default);e.ReceivedStandUp=q;var J=function(e){function t(t){var o=e.call(this,t)||this;return o.chair=o.getByte(),o}return i(t,e),t}(s.default);e.ReceivedUpdateTime=J;var K=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t}(s.default);e.ReceivedJoinRoomFail=K})(a=o.cmd||(o.cmd={})),o.default=a,cc._RF.pop()},{"../../Loading/src/Configs":void 0,"../../Lobby/LobbyScript/Script/networks/Network.InPacket":void 0,"../../Lobby/LobbyScript/Script/networks/Network.OutPacket":void 0}],"Lieng.Controller":[function(e,t,o){"use strict";cc._RF.push(t,"8bd9eeyoExOCZRelG4QwJB6","Lieng.Controller");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../Lobby/LobbyScript/Script/common/BroadcastReceiver"),c=e("../../Lobby/LobbyScript/Script/common/Utils"),s=e("../../Lobby/LobbyScript/Script/common/App"),l=e("../../Lobby/LobbyScript/Script/networks/Network.InPacket"),d=e("../../Lobby/LobbyScript/Script/networks/Network.Cmd"),u=e("../../Loading/src/Configs"),h=e("./Lieng.Cmd"),p=e("./Lieng.NetworkClient"),f=e("./Lieng.CardUtil"),y=[],g=[[0,1,2,3,4,5,6,7,8],[1,2,3,4,5,6,7,8,0],[2,3,4,5,6,7,8,0,1],[3,4,5,6,7,8,0,1,2],[4,5,6,7,8,0,1,2,3],[5,6,7,8,0,1,2,3,4],[6,7,8,0,1,2,3,4,5],[7,8,0,1,2,3,4,5,6],[8,0,1,2,3,4,5,6,7]],C=cc._decorator,m=C.ccclass,v=C.property,I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UI_ChooseRoom=null,t.labelNickName=null,t.labelCoin=null,t.contentListRooms=null,t.prefabItemRoom=null,t.scrollListRoom=null,t.edtFindRoom=null,t.btnHideRoomFull=null,t.isInitedUIRoom=!1,t.UI_Playing=null,t.meCards=null,t.groupPlayers=null,t.spriteCards=[],t.spriteCardBack=null,t.matchPot=null,t.labelMatchPot=null,t.cardsDeal=null,t.cardsCenter=null,t.btnBet=null,t.btnCall=null,t.btnRaise=null,t.btnFollow=null,t.btnOpenCard=null,t.btnLeaveRoom=null,t.hubChips=null,t.labelRoomId=null,t.labelRoomBet=null,t.actionBetting=null,t.betChooseValue=null,t.betChooseValueTarget=null,t.FxDealer=null,t.btnBuyCashIn=null,t.popupBuyIn=null,t.labelBuyInMin=null,t.labelBuyInMax=null,t.edtBuyIn=null,t.toggleAutoBuyIn=null,t.notifyTimeStart=null,t.notifyTimeEnd=null,t.notifyTimeBet=null,t.UI_Chat=null,t.edtChatInput=null,t.popupNodity=null,t.labelNotifyContent=null,t.seatOwner=null,t.currentRoomBet=null,t.gameState=null,t.privateCards=null,t.listWins=null,t.maxBet=0,t.oldMaxBet=0,t.lastRaise=0,t.boBaiId=null,t.currentMoney=0,t.currentBet=0,t.hasMoBai=!1,t.hasAllIn=!1,t.action=null,t.raiseStep=0,t.raiseBlock=0,t.totalAllIn=0,t.totalFold=0,t.minutes=null,t.seconds=null,t.timeAutoStart=null,t.timeEnd=null,t.timeBet=null,t.timeThinking=null,t.intervalWaitting=null,t.intervalEnd=null,t.intervalBetting=null,t.intervalThinking=null,t.currentCard=null,t.currentCenterCard=null,t.numCardOpened=0,t.arrBetValue=[],t.arrBetPos=[-157.5,-52.5,52.5,157.5],t.currentBetSelectedIndex=0,t.currentMatchPotValue=0,t.timeoutEndGame=null,t.timeoutChiaBaiDone=null,t.minCashIn=null,t.maxCashIn=null,t}var o;return i(t,e),o=t,t.prototype.onLoad=function(){o.instance=this,this.seatOwner=-1,this.initConfigPlayer()},t.prototype.start=function(){this.showUIRooms(),s.default.instance.showErrLoading("\u0110ang k\u1ebft n\u1ed1i t\u1edbi server..."),p.default.getInstance().addOnOpen(function(){s.default.instance.showErrLoading("\u0110ang \u0111ang \u0111\u0103ng nh\u1eadp..."),p.default.getInstance().send(new d.default.SendLogin(u.default.Login.Nickname,u.default.Login.AccessToken))},this),p.default.getInstance().addOnClose(function(){s.default.instance.loadScene("Lobby")},this),p.default.getInstance().connect()},t.prototype.joinRoom=function(e){e.requiredMoney<u.default.Login.Coin?(s.default.instance.showLoading(!0),p.default.getInstance().send(new h.default.SendJoinRoomById(e.id))):s.default.instance.alertDialog.showMsg("B\u1ea1n c\u1ea7n c\xf3 t\u1ed1i thi\u1ec3u "+e.requiredMoney+" \u0111\u1ec3 v\xe0o b\xe0n.")},t.prototype.refeshListRoom=function(){this.contentListRooms.removeAllChildren(!0),p.default.getInstance().send(new h.default.SendGetListRoom)},t.prototype.findRoomId=function(){var e=this.edtFindRoom.string.trim();if(e.length>0)for(var t=parseInt(e),o=0;o<this.contentListRooms.childrenCount;o++)this.contentListRooms.children[o].getComponent("Lieng.ItemRoom").roomInfo.id!=t&&(this.contentListRooms.children[o].active=!1);else for(o=0;o<this.contentListRooms.childrenCount;o++)this.contentListRooms.children[o].active=!0},t.prototype.hideRoomFull=function(){if(this.btnHideRoomFull.isChecked)for(var e=0;e<this.contentListRooms.childrenCount;e++){var t=this.contentListRooms.children[e].getComponent("Lieng.ItemRoom");t.roomInfo.userCount==t.roomInfo.maxUserPerRoom&&(this.contentListRooms.children[e].active=!1)}else for(e=0;e<this.contentListRooms.childrenCount;e++)this.contentListRooms.children[e].active=!0},t.prototype.showUIRooms=function(){var e=this;this.UI_ChooseRoom.active=!0,this.UI_Playing.active=!1,this.isInitedUIRoom?r.default.send(r.default.USER_UPDATE_COIN):(this.labelNickName.string=u.default.Login.Nickname,r.default.register(r.default.USER_UPDATE_COIN,function(){e.labelCoin.string=c.default.formatNumber(u.default.Login.Coin)},this),r.default.send(r.default.USER_UPDATE_COIN),this.setupListener())},t.prototype.closeUIRoom=function(){this.UI_ChooseRoom.active=!1},t.prototype.createRoom=function(){s.default.instance.alertDialog.showMsg("T\xednh n\u0103ng t\u1ea1o b\xe0n \u0111ang t\u1eaft.")},t.prototype.playingNow=function(){for(var e=0;e<this.contentListRooms.childrenCount;e++){var t=this.contentListRooms.children[e].getComponent("Lieng.ItemRoom");if(t.roomInfo.userCount<t.roomInfo.maxUserPerRoom&&t.roomInfo.requiredMoney<u.default.Login.Coin)return this.joinRoom(t.roomInfo),void(e=1e5)}},t.prototype.showUIChat=function(){this.UI_Chat.active=!0,this.UI_Chat.runAction(cc.moveTo(.5,420,0))},t.prototype.closeUIChat=function(){this.UI_Chat.runAction(cc.moveTo(.5,1e3,0))},t.prototype.chatEmotion=function(e,t){p.default.getInstance().send(new h.default.SendChatRoom(1,t)),this.closeUIChat()},t.prototype.chatMsg=function(){this.edtChatInput.string.trim().length>0&&(p.default.getInstance().send(new h.default.SendChatRoom(0,this.edtChatInput.string)),this.edtChatInput.string="",this.closeUIChat())},t.prototype.backToLobby=function(){p.default.getInstance().close(),s.default.instance.loadScene("Lobby")},t.prototype.showUIPlaying=function(){this.UI_Playing.active=!0},t.prototype.closeUIPlaying=function(){this.actionLeaveRoom()},t.prototype.setupMatch=function(e){this.showUIPlaying(),this.closeUIChat();var t=e.myChair,o=e.moneyBet,n=e.roomOwner,i=e.roomId,a=(e.gameId,e.moneyType,e.rule,e.playerSize,e.playerStatus),r=e.playerInfos,s=(e.handCardSizeSize,e.handCardSizeList,e.minBuyInTiLe),l=e.maxBuyInTiLe;this.gameState=h.default.Code.STATE_JOIN_ROOM,this.labelRoomId.string="Lieng - PH\xd2NG: "+i,this.labelRoomBet.string="M\u1ee8C C\u01af\u1ee2C: "+c.default.formatNumber(o)+"$",this.currentRoomBet=o,this.resetCenterCards(),y[0].playerId=u.default.Login.Nickname,y[0].playerPos=t;for(var d=[],p=[],f=[],C=0;C<h.default.Code.MAX_PLAYER;C++)""!==r[C].nickName&&(d.push(C),p.push(r[C]),f.push(a[C]));this.resetHubChips();for(var m=0;m<y.length;m++)y[m].playerPos=g[t][m];for(C=0;C<y.length;C++){var v=d.indexOf(y[C].playerPos),I=y[C].seatId;this.getPlayerHouse(I).resetPlayerInfo(),v>-1?(0==I&&this.showPopupBuyIn(s,l,o),f[v]==h.default.Code.PLAYER_STATUS_SITTING||f[v]==h.default.Code.PLAYER_STATUS_PLAYING?(y[C].isViewer=!1,this.getPlayerHouse(I).setIsViewer(!1)):(y[C].isViewer=!0,this.getPlayerHouse(I).setIsViewer(!0)),this.setupSeatPlayer(I,p[v])):(this.getPlayerHouse(I).showBtnInvite(!0),y[C].isViewer=!0)}for(C=0;C<h.default.Code.MAX_PLAYER;C++)this.getPlayerHouse(C).setOwner(!1);var _=this.findPlayerSeatByPos(n);-1!==_&&(this.getPlayerHouse(_).setOwner(!0),this.seatOwner=_)},t.prototype.startThinkingCountDown=function(e,t){var o=this;this.timeThinking=t,this.unschedule(this.intervalThinking),this.schedule(this.intervalThinking=function(){o.timeThinking--;var n=(o.timeThinking/t).toFixed(2);o.getPlayerHouse(e).processThinking(n),o.timeThinking<1&&(o.unschedule(o.intervalThinking),o.getPlayerHouse(e).hidePlayCountdown())},1)},t.prototype.startWaittingCountDown=function(e){var t=this;this.timeAutoStart=e,this.setTimeWaittingCountDown(),this.notifyTimeStart.active=!0,this.unschedule(this.intervalWaitting),this.schedule(this.intervalWaitting=function(){t.timeAutoStart--,t.setTimeWaittingCountDown(),t.timeAutoStart<1&&(t.unschedule(t.intervalWaitting),t.notifyTimeStart.active=!1)},1)},t.prototype.setTimeWaittingCountDown=function(){this.seconds=Math.floor(this.timeAutoStart%60),this.notifyTimeStart.getComponent(cc.Label).string=" B\u1eaft \u0111\u1ea7u sau : "+this.seconds+"s "},t.prototype.startEndCountDown=function(e){var t=this;this.timeEnd=e,this.setTimeEndCountDown(),this.notifyTimeEnd.active=!0,this.unschedule(this.intervalEnd),this.schedule(this.intervalEnd=function(){t.timeEnd--,t.setTimeEndCountDown(),t.timeEnd<1&&(t.unschedule(t.intervalEnd),t.notifyTimeEnd.active=!1)},1)},t.prototype.setTimeEndCountDown=function(){this.seconds=Math.floor(this.timeEnd%60),this.notifyTimeEnd.getComponent(cc.Label).string=" K\u1ebft th\xfac sau : "+this.seconds+"s "},t.prototype.startBettingCountDown=function(e){var t=this;this.timeBet=e,this.actionBetting.active=!0,this.processBetting(1),this.unschedule(this.intervalBetting),this.schedule(this.intervalBetting=function(){t.timeBet--;var o=(t.timeBet/e).toFixed(1);t.processBetting(o),t.timeBet<1&&(t.unschedule(t.intervalBetting),t.actionBetting.active=!1)},1)},t.prototype.processBetting=function(e){this.actionBetting.children[0].getComponent(cc.Sprite).fillRange=e},t.prototype.openMeCard=function(e,t){var o=this,n=parseInt(t);this.getPlayerHouse(0).prepareCardReal(n);var i=f.default.getNormalId(this.currentCard[n]);this.getPlayerHouse(0).transformToCardReal(n,this.spriteCards[i]),this.numCardOpened+=1,3==this.numCardOpened&&(this.btnOpenCard.active=!1,this.getPlayerHouse(0).showCardName(this.getCardsScore()),setTimeout(function(){o.getPlayerHouse(0).resetCardReady()},200))},t.prototype.getCardsScore=function(){return null==this.boBaiId?"":this.boBaiId>=0&&this.boBaiId<=8?this.boBaiId+"\u0110i\u1ec3m":11==this.boBaiId?"9 \u0110i\u1ec3m":12==this.boBaiId?"\u1ea2nh":13==this.boBaiId?"Li\xeang":21==this.boBaiId?"S\xe1p \xc1t":this.boBaiId>=22&&this.boBaiId<=30?"S\xe1p "+(this.boBaiId-10):31==this.boBaiId?"S\xe1p J":32==this.boBaiId?"S\xe1p Q":33==this.boBaiId?"S\xe1p K":""},t.prototype.moveChipsToHubNow=function(e){this.hubChips.children[2*e].position=cc.v2(25,80),this.hubChips.children[2*e].scale=0,this.hubChips.children[2*e+1].position=cc.v2(25,80),this.hubChips.children[2*e+1].scale=0},t.prototype.fxMoveChips=function(e,t,o,n){e.runAction(cc.sequence(cc.delayTime(t),cc.scaleTo(0,1,1),cc.spawn(cc.moveTo(.8,o,n),cc.scaleTo(.8,0,0))))},t.prototype.resetHubChips=function(){for(var e=[70,280,280,260,100,-260,-375,-360],t=[-195,-150,-55,70,90,85,-30,-155],o=0;o<h.default.Code.MAX_PLAYER;o++)this.hubChips.children[2*o].position=cc.v2(e[o],t[o]),this.hubChips.children[2*o+1].position=cc.v2(e[o],t[o]);for(o=0;o<16;o++)this.hubChips.children[o].active=!1},t.prototype.setupBet=function(){this.currentBetSelectedIndex=0,this.betChooseValueTarget.y=this.arrBetPos[this.currentBetSelectedIndex]},t.prototype.showPopupBuyIn=function(e,t,o){this.minCashIn=e,this.maxCashIn=t,this.popupBuyIn.active=!0,this.labelBuyInMin.string=c.default.formatNumber(o*e),u.default.Login.Coin>o*t?this.labelBuyInMax.string=c.default.formatNumber(o*t):this.labelBuyInMax.string=c.default.formatNumber(u.default.Login.Coin),this.edtBuyIn.string="",this.toggleAutoBuyIn.isChecked=!0},t.prototype.closePopupBuyIn=function(){this.popupBuyIn.active=!1},t.prototype.textChange=function(e){if(e.length>0){for(var t="",o=0;o<e.length;o++)"0"!=e[o]&&"1"!=e[o]&&"2"!=e[o]&&"3"!=e[o]&&"4"!=e[o]&&"5"!=e[o]&&"6"!=e[o]&&"7"!=e[o]&&"8"!=e[o]&&"9"!=e[o]||(t+=e[o]);this.edtBuyIn.string=""!==t?c.default.formatNumber(parseInt(t)):""}},t.prototype.showOneCenterCards=function(e,t){for(var o=this,n=0;n<e.length;n++){var i=f.default.getNormalId(e[n]);this.cardsCenter.children[t].getComponent(cc.Sprite).spriteFrame=this.spriteCards[i],this.currentCenterCard.push(e[n])}setTimeout(function(){switch(t){case 0:o.cardsCenter.children[0].runAction(cc.spawn(cc.moveTo(.1,-170,-45),cc.scaleTo(.1,1,1)));break;case 1:o.cardsCenter.children[1].runAction(cc.sequence(cc.spawn(cc.moveTo(.1,-17,-45),cc.scaleTo(.1,1,1)),cc.delayTime(.1),cc.moveTo(.2,-85,-45)));break;case 2:o.cardsCenter.children[2].runAction(cc.sequence(cc.spawn(cc.moveTo(.1,-170,-45),cc.scaleTo(.1,1,1)),cc.delayTime(.1),cc.moveTo(.2,0,-45)));break;case 3:o.cardsCenter.children[3].runAction(cc.sequence(cc.delayTime(1),cc.spawn(cc.moveTo(.1,85,-45),cc.scaleTo(.1,1,1))));break;case 4:o.cardsCenter.children[4].runAction(cc.sequence(cc.delayTime(1.5),cc.spawn(cc.moveTo(.1,170,-45),cc.scaleTo(.1,1,1))))}},400)},t.prototype.showAllCenterCards=function(e){var t=this;this.currentCenterCard=e;for(var o=0;o<e.length;o++){var n=f.default.getNormalId(e[o]);this.cardsCenter.children[o].getComponent(cc.Sprite).spriteFrame=this.spriteCards[n]}setTimeout(function(){t.cardsCenter.children[0].runAction(cc.spawn(cc.moveTo(.1,-170,-45),cc.scaleTo(.1,1,1))),t.cardsCenter.children[1].runAction(cc.sequence(cc.spawn(cc.moveTo(.1,-17,-45),cc.scaleTo(.1,1,1)),cc.delayTime(.1),cc.moveTo(.2,-85,-45))),t.cardsCenter.children[2].runAction(cc.sequence(cc.spawn(cc.moveTo(.1,-170,-45),cc.scaleTo(.1,1,1)),cc.delayTime(.1),cc.moveTo(.2,0,-45))),t.currentCenterCard.length>3&&(t.cardsCenter.children[3].runAction(cc.sequence(cc.delayTime(1),cc.spawn(cc.moveTo(.1,85,-45),cc.scaleTo(.1,1,1)))),t.cardsCenter.children[4].runAction(cc.sequence(cc.delayTime(1.5),cc.spawn(cc.moveTo(.1,170,-45),cc.scaleTo(.1,1,1)))))},400)},t.prototype.setupListener=function(){var e=this;p.default.getInstance().addListener(function(t){switch(new l.default(t).getCmdId()){case h.default.Code.JOIN_ROOM_SUCCESS:s.default.instance.showLoading(!1);var o=new h.default.ReceivedJoinRoomSucceed(t);e.closeUIRoom(),e.setupMatch(o);break;case h.default.Code.THONG_TIN_BAN_CHOI:s.default.instance.showLoading(!1),o=new h.default.ReceivedGameInfo(t),e.closeUIRoom(),e.showUIPlaying(),e.closeUIChat();break;case h.default.Code.DANG_KY_THOAT_PHONG:s.default.instance.showLoading(!1);var n=(o=new h.default.ReceivedNotifyRegOutRoom(t)).outChair,i=(o.isOutRoom,e.findPlayerSeatByPos(n));-1!==i&&e.getPlayerHouse(i).showNotify("S\u1eafp r\u1eddi b\xe0n !");break;case h.default.Code.NEW_USER_JOIN:s.default.instance.showLoading(!1);for(var a=(o=new h.default.ReceivedUserJoinRoom(t)).info.nickName,d=o.info.avatar,C=o.info.money,m=o.uChair,v=o.uStatus,I=0;I<y.length;I++)if(y[I].playerPos==m){var _=y[I].seatId;e.getPlayerHouse(_).resetPlayerInfo();var S={avatar:d,nickName:a,currentMoney:C};e.setupSeatPlayer(_,S),v==h.default.Code.PLAYER_STATUS_VIEWER?(e.getPlayerHouse(_).setIsViewer(!0),y[_].isViewer=!0):(e.getPlayerHouse(_).setIsViewer(!1),y[_].isViewer=!1)}break;case h.default.Code.LEAVE_GAME:s.default.instance.showLoading(!1),m=(o=new h.default.ReceivedUserLeaveRoom(t)).chair;var B=e.findPlayerSeatByPos(m);if(-1!==B){for(I=0;I<y.length;I++)y[I].seatId==B&&(y[I].playerId=-1,y[I].isViewer=!0);e.getPlayerHouse(B).resetPlayerInfo(),e.getPlayerHouse(B).showBtnInvite(!0),1==e.getNumPlayers().length&&(e.resetPlayersPlaying(),e.resetCenterCards(),e.matchPot.active=!1),0==B&&(e.UI_Playing.active=!1,e.UI_ChooseRoom.active=!0)}break;case h.default.Code.TAKE_TURN:s.default.instance.showLoading(!1);var R=(o=new h.default.ReceivedTakeTurn(t)).actionChair,b=o.action,L=(o.lastRaise,o.currentBet),T=o.maxBet;e.action=b,C=o.currentMoney;var A=o.raiseStep,P=o.raiseBlock;e.oldMaxBet=e.maxBet,e.maxBet=T,e.oldMaxBet<e.maxBet&&(e.lastRaise=e.maxBet-e.oldMaxBet),e.raiseStep=A,e.raiseStep<e.currentRoomBet&&(e.raiseStep=e.currentRoomBet),e.raiseBlock=P;var N=e.findPlayerSeatByPos(R);if(0==N&&(e.currentBet=L,e.currentMoney=C,e.action==h.default.Code.GAME_ACTION_FOLD&&(e.hasMoBai=!0),e.action==h.default.Code.GAME_ACTION_ALL_IN&&(e.hasAllIn=!0)),-1!=N){var w="";switch(b){case h.default.Code.GAME_ACTION_FOLD:w="FOLD",e.totalFold+=1;break;case h.default.Code.GAME_ACTION_CHECK:w="CHECK";break;case h.default.Code.GAME_ACTION_CALL:w="CALL";break;case h.default.Code.GAME_ACTION_RAISE:w="RAISE";break;case h.default.Code.GAME_ACTION_ALL_IN:w="ALL-IN",e.totalAllIn+=1}e.getPlayerHouse(N).showActionState(w),e.getPlayerHouse(N).setGold(C),e.getPlayerHouse(N).setBet(L)}break;case h.default.Code.SELECT_DEALER:s.default.instance.showLoading(!1),o=new h.default.ReceivedSelectDealer(t),e.raiseBlock=0,e.boBaiId=null,e.numCardOpened=0;var E=o.dealerChair,O=(o.smallBlindChair,o.bigBlindChair,o.hasInfoSize,o.hasInfoList),M=(o.playerStatusList,o.gameId,o.isCheat,o.currentMoneySize,o.currentMoneyList);for(o.size,o.listBetBigBlind,e.raiseStep=e.oldMaxBet=e.maxBet=e.currentRoomBet,e.privateCards=null,e.listWins=null,e.hasAllIn=!1,e.hasMoBai=!1,e.totalFold=0,e.totalAllIn=0,I=e.lastRaise=0;I<h.default.Code.MAX_PLAYER;I++)e.getPlayerHouse(I).setDealer(!1),e.getPlayerHouse(I).setSmallBind(!1),e.getPlayerHouse(I).setBigBind(!1);var k=e.findPlayerSeatByPos(E);for(-1!=k&&e.getPlayerHouse(k).setDealer(!0),e.currentBet=0,I=0;I<h.default.Code.MAX_PLAYER;I++)if(!1===y[I].isViewer){var U=y[I].seatId;0==U&&(e.currentBet=e.currentRoomBet,e.currentMoney=e.currentMoney-e.currentRoomBet),e.getPlayerHouse(U).setBet(e.currentRoomBet)}for(I=0;I<M.length;I++)if(M[I]>0){var H=e.findPlayerSeatByPos(I);0==H&&(e.currentMoney=M[I]),e.getPlayerHouse(H).setGold(M[I]),e.getPlayerHouse(H).addChips()}break;case h.default.Code.BUY_IN:s.default.instance.showLoading(!1),m=(o=new h.default.ReceivedBuyIn(t)).chair;var G=o.buyInMoney,D=e.findPlayerSeatByPos(m);-1!=D&&(0==D&&(s.default.instance.showLoading(!1),e.currentMoney=G),e.getPlayerHouse(D).setGold(G));break;case h.default.Code.DEAL_PRIVATE_CARD:s.default.instance.showLoading(!1),m=(o=new h.default.ReceivedDealCards(t)).chair;var F=o.sizeCard,V=o.myCards,x=o.boBaiId;e.boBaiId=x,e.btnBet.active=!1,e.btnOpenCard.active=!1,e.matchPot.active=!0,e.currentCard=V;var z=e.getNumPlayers(),Y=z.length;for(I=0;I<2*h.default.Code.MAX_PLAYER;I++)e.cardsDeal.children[I].active=!(I>=2*Y),e.cardsDeal.children[I].position=cc.v2(0,0);for(var W=0;W<3;W++)for(var j=0;j<Y;j++){var q=z[j];if(-1!==q){var J=e.cardsDeal.children[W*Y+j],K=e.groupPlayers.children[q].position;J.runAction(cc.sequence(cc.delayTime(.15*(W*Y+j)),cc.moveTo(.2,K)))}}var X=1e3*(.4+.15*(1*Y+(Y-1)));clearTimeout(e.timeoutChiaBaiDone),e.timeoutChiaBaiDone=setTimeout(function(){for(var t=0;t<2*h.default.Code.MAX_PLAYER;t++)e.cardsDeal.children[t].active=!1;for(t=0;t<Y;t++){var o=z[t];-1!==o&&(0==o&&e.getPlayerHouse(o).resetCardReady(),e.getPlayerHouse(o).showCardReady(!0),e.getPlayerHouse(o).showCardReal(!1))}},X);break;case h.default.Code.NEW_ROUND:s.default.instance.showLoading(!1),(o=new h.default.ReceivedNewBetRound(t)).roundId,F=o.sizeCard;var Q=o.plusCards,Z=(o.cardName,o.potAmount);for(3==F?e.showAllCenterCards(Q):e.showOneCenterCards(Q,e.currentCenterCard.length),e.maxBet=0,e.currentBet=0,e.raiseStep=2*e.currentRoomBet,I=0;I<h.default.Code.MAX_PLAYER;I++)if(-1!=y[I].playerId){var $=e.findPlayerSeatByPos(I);e.getPlayerHouse(y[I].seatId).setBet(0)}e.matchPot.active=!0,e.currentMatchPotValue=Z,e.labelMatchPot.string=c.default.formatNumber(Z);break;case h.default.Code.CHANGE_TURN:s.default.instance.showLoading(!1),(o=new h.default.ReceivedChangeTurn(t)).roundId,m=o.chair;var ee=o.betTime,te=e.findPlayerSeatByPos(m);if(-1!=te){if(e.getPlayerHouse(te).showPlayCountdown(),e.startThinkingCountDown(te,ee),0==te)if(e.hasMoBai)e.btnBet.active=!1,e.btnOpenCard.active=!0;else if(e.hasAllIn)e.btnBet.active=!1,e.btnOpenCard.active=!1;else{if(e.maxBet==e.currentBet)e.btnCall.active=!1,e.btnRaise.active=!0,e.btnFollow.active=!0;else if(e.maxBet-e.currentBet>=e.currentMoney)e.btnCall.active=!1,e.btnRaise.active=!1,e.btnFollow.active=!1;else{var oe=0;for(I=0;I<h.default.Code.MAX_PLAYER;I++)0==y[I].isViewer&&(oe+=1);e.totalAllIn+e.totalFold+1<oe?(e.btnCall.active=!0,e.btnRaise.active=!0,e.btnFollow.active=!1):(e.btnCall.active=!0,e.btnRaise.active=!1,e.btnFollow.active=!1)}e.btnBet.active=!0,e.btnOpenCard.active=!1}for(e.arrBetValue=[],I=0;I<4;I++)e.arrBetValue.push((e.maxBet+e.raiseStep)*(I+1)),e.betChooseValue.children[I].children[0].getComponent(cc.Label).string=c.default.formatNumberMin((e.maxBet+e.raiseStep)*(4-I))}break;case h.default.Code.KET_THUC:s.default.instance.showLoading(!1),Z=(o=new h.default.ReceivedEndGame(t)).potAmount,o.rankSize,o.rankList,o.kqttSize;var ne=o.kqttList,ie=(o.booleanWinerSize,o.booleanWinerList),ae=(o.moneyArraySize,C=o.currentMoney,o.gameMoney),re=(o.gameMoneySize,o.publicCardSize,o.publicCards),ce=(o.hasInfoSize,O=o.hasInfoList,o.privateCardList);for(o.maxCardList,o.cardNameList,e.action=null,e.matchPot.active=!0,e.currentMatchPotValue=Z,e.labelMatchPot.string=c.default.formatNumber(Z),e.privateCards=ce,e.listWins=ie,I=0;I<re.length;I++)if(1===re[I]&&ce[I].length>0&&-1!=($=e.findPlayerSeatByPos(I))&&0!=$)for(W=0;W<3;W++){var se=f.default.getNormalId(ce[I][W]);e.getPlayerHouse($).prepareToTransform(),e.getPlayerHouse($).transformToCardReal(W,e.spriteCards[se])}for(I=0;I<h.default.Code.MAX_PLAYER;I++){var le=e.findPlayerSeatByPos(I);1==ie[I]?-1!=le&&(e.getPlayerHouse(le).fxWin({moneyChange:ne[I],currentMoney:C[I]}),0==le&&(e.currentMoney=C[I],e.btnBet.active=!1)):O[I]&&(e.getPlayerHouse(le).fxLose({moneyChange:ne[I],currentMoney:C[I]}),0==le&&(e.currentMoney=C[I])),0==le&&(u.default.Login.Coin=ae[I],r.default.send(r.default.USER_UPDATE_COIN))}e.currentCard;break;case h.default.Code.UPDATE_MATCH:s.default.instance.showLoading(!1),m=(o=new h.default.ReceivedUpdateMatch(t)).chair,o.hasInfoSize,O=o.hasInfoList,M=o.currentMoneyList;var de=o.statusList;for(I=0;I<h.default.Code.MAX_PLAYER;I++)1==O[we=y[I].playerPos]?(e.getPlayerHouse(I).setGold(M[we]),de[we]==h.default.Code.PLAYER_STATUS_SITTING||de[we]==h.default.Code.PLAYER_STATUS_PLAYING?(y[I].isViewer=!1,y[I].isViewer=!1,e.getPlayerHouse(I).setIsViewer(!1)):(y[I].isViewer=!0,y[I].isViewer=!0,e.getPlayerHouse(I).setIsViewer(!0))):(y[I].playerId=-1,y[I].isViewer=!0);break;case h.default.Code.SHOW_CARD:s.default.instance.showLoading(!1),m=(o=new h.default.ReceivedShowCard(t)).chair,$=e.findPlayerSeatByPos(m);var ue=e.privateCards[m];if(-1!=$&&0!=$)for(W=0;W<3;W++)se=f.default.getNormalId(ue[W]),e.getPlayerHouse($).prepareToTransform(),e.getPlayerHouse($).transformToCardReal(W,e.spriteCards[se]);break;case h.default.Code.REQUEST_BUY_IN:break;case h.default.Code.REQUEST_STAND_UP:s.default.instance.showLoading(!1),(o=new h.default.ReceivedStandUp(t)).isUp;break;case h.default.Code.LOGIN:s.default.instance.showLoading(!1),e.refeshListRoom(),p.default.getInstance().send(new h.default.CmdReconnectRoom);break;case h.default.Code.TOPSERVER:case h.default.Code.CMD_PINGPONG:case h.default.Code.CMD_JOIN_ROOM:case h.default.Code.CMD_RECONNECT_ROOM:case h.default.Code.CMD_RECONNECT_ROOM:case h.default.Code.MONEY_BET_CONFIG:s.default.instance.showLoading(!1);break;case h.default.Code.JOIN_ROOM_FAIL:s.default.instance.showLoading(!1);var he="L\u1ed7i "+(o=new h.default.ReceivedJoinRoomFail(t)).getError()+", kh\xf4ng x\xe1c \u0111\u1ecbnh.";switch(o.getError()){case 1:he="L\u1ed7i ki\u1ec3m tra th\xf4ng tin!";break;case 2:he="Kh\xf4ng t\xecm \u0111\u01b0\u1ee3c ph\xf2ng th\xedch h\u1ee3p. Vui l\xf2ng th\u1eed l\u1ea1i sau!";break;case 3:he="B\u1ea1n kh\xf4ng \u0111\u1ee7 ti\u1ec1n v\xe0o ph\xf2ng ch\u01a1i n\xe0y!";break;case 4:he="Kh\xf4ng t\xecm \u0111\u01b0\u1ee3c ph\xf2ng th\xedch h\u1ee3p. Vui l\xf2ng th\u1eed l\u1ea1i sau!";break;case 5:he="M\u1ed7i l\u1ea7n v\xe0o ph\xf2ng ph\u1ea3i c\xe1ch nhau 10 gi\xe2y!";break;case 6:he="H\u1ec7 th\u1ed1ng b\u1ea3o tr\xec!";break;case 7:he="Kh\xf4ng t\xecm th\u1ea5y ph\xf2ng ch\u01a1i!";break;case 8:he="M\u1eadt kh\u1ea9u ph\xf2ng ch\u01a1i kh\xf4ng \u0111\xfang!";break;case 9:he="Ph\xf2ng ch\u01a1i \u0111\xe3 \u0111\u1ee7 ng\u01b0\u1eddi!";break;case 10:he="B\u1ea1n b\u1ecb ch\u1ee7 ph\xf2ng kh\xf4ng cho v\xe0o b\xe0n!"}s.default.instance.alertDialog.showMsg(he);break;case h.default.Code.GET_LIST_ROOM:o=new h.default.ReceivedGetListRoom(t);for(var pe=0;pe<o.list.length;pe++){var fe=o.list[pe],ye=cc.instantiate(e.prefabItemRoom);ye.getComponent("Lieng.ItemRoom").initItem(fe),e.contentListRooms.addChild(ye)}e.scrollListRoom.scrollToTop(.2);break;case h.default.Code.JOIN_GAME_ROOM_BY_ID:s.default.instance.showLoading(!1);break;case h.default.Code.TU_DONG_BAT_DAU:s.default.instance.showLoading(!1),(o=new h.default.ReceivedAutoStart(t)).isAutoStart&&(e.resetCenterCards(),e.resetHubChips(),e.startWaittingCountDown(o.timeAutoStart),e.btnBet.active=!1,e.btnOpenCard.active=!1,e.matchPot.active=!1,e.currentMatchPotValue=0,e.labelMatchPot.string=c.default.formatNumber(0),e.resetPlayersPlaying());break;case h.default.Code.THONG_TIN_BAN_CHOI:s.default.instance.showLoading(!1),o=new h.default.ReceivedGameInfo(t),e.closeUIRoom(),e.showUIPlaying(),e.closeUIChat();var ge=o.myChair,Ce=o.chuongChair,me=o.cards,ve=(o.cuocDanhBienList,o.cuocKeCuaList,o.gameServerState,o.isAutoStart,o.gameAction),Ie=(o.countDownTime,o.moneyType,o.moneyBet),_e=(o.gameId,o.roomId),Se=o.hasInfo;o.players,e.labelRoomId.string="BA C\xc2Y - PH\xd2NG: "+_e,e.labelRoomBet.string="M\u1ee8C C\u01af\u1ee2C: "+c.default.formatNumber(Ie)+"$",e.currentRoomBet=Ie,e.gameState=ve,e.currentCard=me,y[0].playerId=u.default.Login.Nickname,y[0].playerPos=ge;var Be=[];for(I=0;I<Se.length;I++)Se[I]&&Be.push(I);for(W=0;W<y.length;W++)y[W].playerPos=g[ge][W];for(I=0;I<y.length;I++){var Re=Be.indexOf(y[I].playerPos),be=y[I].seatId;e.getPlayerHouse(be).resetPlayerInfo(),Re>-1?(e.getPlayerHouse(be).setIsViewer(!1),e.setupSeatPlayer(be,{nickName:"",avatar:c.default.randomRange(1,9),currentMoney:""})):(e.getPlayerHouse(be).showBtnInvite(!0),y[I].isViewer=!0)}for(I=0;I<h.default.Code.MAX_PLAYER;I++)e.getPlayerHouse(I).setOwner(!1);var Le=e.findPlayerSeatByPos(Ce);-1!==Le&&(e.getPlayerHouse(Le).setOwner(!0),e.seatOwner=Le),e.resetHubChips();break;case h.default.Code.MOI_DAT_CUOC:for(s.default.instance.showLoading(!1),o=new h.default.ReceivedMoiDatCuoc(t),e.startBettingCountDown(o.timeDatCuoc),e.arrBetValue=[],e.matchPot.active=!0,e.currentMatchPotValue=0,e.labelMatchPot.string="0",I=0;I<4;I++)e.arrBetValue.push(e.currentRoomBet*(I+1)),e.betChooseValue.children[I].children[0].getComponent(cc.Label).string=c.default.formatNumberMin(e.currentRoomBet*(4-I));for(I=0;I<y.length;I++)I===e.seatOwner||y[I].isViewer||-1===y[I].playerId||(e.getPlayerHouse(I).setBet(e.currentRoomBet),e.getPlayerHouse(I).addChips(),0!=I&&e.getPlayerHouse(I).setupBetValue(e.currentRoomBet));0==e.seatOwner?(e.btnOpenCard.active=!1,e.btnBet.active=!1):(e.btnBet.active=!0,e.btnOpenCard.active=!1,e.setupBet()),e.numCardOpened=0;break;case h.default.Code.CHEAT_CARDS:case h.default.Code.DANG_KY_CHOI_TIEP:case h.default.Code.UPDATE_OWNER_ROOM:s.default.instance.showLoading(!1);break;case h.default.Code.NOTIFY_KICK_FROM_ROOM:s.default.instance.showLoading(!1),o=new h.default.ReceivedKickOff(t);break;case h.default.Code.NEW_USER_JOIN:s.default.instance.showLoading(!1);var Te=(o=new h.default.ReceivedUserJoinRoom(t)).info,Ae=o.uChair,Pe=o.uStatus;for(I=0;I<y.length;I++)y[I].playerPos==Ae&&(_=y[I].seatId,e.getPlayerHouse(_).resetPlayerInfo(),S={avatar:Te.avatar,nickName:Te.nickName,currentMoney:Te.money},e.setupSeatPlayer(_,S),Pe==h.default.Code.PLAYER_STATUS_VIEWER?(e.getPlayerHouse(_).setIsViewer(!0),y[_].isViewer=!0):(e.getPlayerHouse(_).setIsViewer(!1),y[_].isViewer=!1));break;case h.default.Code.NOTIFY_USER_GET_JACKPOT:s.default.instance.showLoading(!1);break;case h.default.Code.UPDATE_MATCH:s.default.instance.showLoading(!1),ge=(o=new h.default.ReceivedUpdateMatch(t)).myChair,Se=o.hasInfo;var Ne=o.infos;for(I=0;I<Se.length;I++){var we;Se[we=y[I].playerPos]?(e.getPlayerHouse(I).setGold(Ne[we].money),y[I].playerId=Ne[we].nickName,Ne[we].status==h.default.Code.PLAYER_STATUS_SITTING||Ne[we].status==h.default.Code.PLAYER_STATUS_PLAYING?(y[I].isViewer=!1,e.getPlayerHouse(I).setIsViewer(!1)):(y[I].isViewer=!0,e.getPlayerHouse(I).setIsViewer(!0)),e.setupSeatPlayer(I,Ne[we])):(y[I].playerId=-1,y[I].isViewer=!0)}break;case h.default.Code.CHAT_ROOM:s.default.instance.showLoading(!1),m=(o=new h.default.ReceivedChatRoom(t)).chair;var Ee=o.isIcon,Oe=o.content;if(Ee){var Me=e.findPlayerSeatByPos(m);-1!=Me&&e.getPlayerHouse(Me).showChatEmotion(Oe)}else{var ke=e.findPlayerSeatByPos(m);-1!=ke&&e.getPlayerHouse(ke).showChatMsg(Oe)}}},this)},t.prototype.actionLeaveRoom=function(){p.default.getInstance().send(new h.default.CmdSendRequestLeaveGame)},t.prototype.actionOpenCard=function(){p.default.getInstance().send(new h.default.SendShowCard),this.btnOpenCard.active=!1},t.prototype.actionSendVaoGa=function(){},t.prototype.increaseBetValue=function(){this.currentBetSelectedIndex==this.arrBetValue.length-1||(this.currentBetSelectedIndex+=1),this.betChooseValueTarget.y=this.arrBetPos[this.currentBetSelectedIndex]},t.prototype.decreaseBetValue=function(){0==this.currentBetSelectedIndex||(this.currentBetSelectedIndex-=1),this.betChooseValueTarget.y=this.arrBetPos[this.currentBetSelectedIndex]},t.prototype.actionAll_In=function(){this.btnBet.active=!1,p.default.getInstance().send(new h.default.SendTakeTurn(0,0,0,1,0))},t.prototype.actionRaise=function(){this.btnBet.active=!1;var e=this.getPlayerHouse(0).userGold.string.replace(/\./g,""),t=parseInt(e),o=Math.min(this.arrBetValue[this.currentBetSelectedIndex],t);p.default.getInstance().send(new h.default.SendTakeTurn(0,0,0,0,o))},t.prototype.actionCheck=function(){this.btnBet.active=!1,p.default.getInstance().send(new h.default.SendTakeTurn(0,1,0,0,0))},t.prototype.actionCall=function(){this.btnBet.active=!1,p.default.getInstance().send(new h.default.SendTakeTurn(0,0,1,0,0))},t.prototype.actionFold=function(){this.btnBet.active=!1,p.default.getInstance().send(new h.default.SendTakeTurn(1,0,0,0,0))},t.prototype.actionBuyIn=function(){var e=this.edtBuyIn.string;if(e.length>0){for(var t="",o=0;o<e.length;o++)"0"!=e[o]&&"1"!=e[o]&&"2"!=e[o]&&"3"!=e[o]&&"4"!=e[o]&&"5"!=e[o]&&"6"!=e[o]&&"7"!=e[o]&&"8"!=e[o]&&"9"!=e[o]||(t+=e[o]);if(""!==t){if(u.default.Login.Coin<this.maxCashIn&&(this.maxCashIn=u.default.Login.Coin),parseInt(t)<this.minCashIn*this.currentRoomBet)return void s.default.instance.alertDialog.showMsg("S\u1ed1 ti\u1ec1n Buy In ph\u1ea3i l\u1edbn h\u01a1n "+c.default.formatNumber(this.minCashIn*this.currentRoomBet));if(parseInt(t)>this.maxCashIn*this.currentRoomBet)return void s.default.instance.alertDialog.showMsg("S\u1ed1 ti\u1ec1n Buy In ph\u1ea3i nh\u1ecf h\u01a1n "+c.default.formatNumber(this.maxCashIn*this.currentRoomBet));if(parseInt(t)>u.default.Login.Coin)return void s.default.instance.alertDialog.showMsg("B\u1ea1n kh\xf4ng \u0111\u1ee7 ti\u1ec1n.");this.toggleAutoBuyIn.isChecked?p.default.getInstance().send(new h.default.SendBuyIn(parseInt(t),1)):p.default.getInstance().send(new h.default.SendBuyIn(parseInt(t),0)),s.default.instance.showLoading(!0),this.closePopupBuyIn()}else s.default.instance.alertDialog.showMsg("S\u1ed1 ti\u1ec1n kh\xf4ng h\u1ee3p l\u1ec7.")}},t.prototype.initConfigPlayer=function(){for(var e=0;e<h.default.Code.MAX_PLAYER;e++)y.push({seatId:e,playerId:-1,playerPos:-1,isViewer:!0})},t.prototype.resetCenterCards=function(){for(var e=0;e<5;e++)this.cardsCenter.children[e].position=cc.v2(0,100),this.cardsCenter.children[e].scale=0,this.cardsCenter.children[e].color=cc.Color.WHITE},t.prototype.resetPlayersPlaying=function(){for(var e=0;e<h.default.Code.MAX_PLAYER;e++)this.getPlayerHouse(e).resetMatchHistory()},t.prototype.getCardsName=function(e){var t="";switch(e){case h.default.Code.EG_SANH_VUA:t="S\u1ea3nh Vua";break;case h.default.Code.EG_THUNG_PHA_SANH:t="Th\xf9ng Ph\xe1 S\u1ea3nh";break;case h.default.Code.EG_TU_QUY:t="T\u1ee9 Qu\xfd";break;case h.default.Code.EG_CU_LU:t="C\xf9 L\u0169";break;case h.default.Code.EG_THUNG:t="Th\xf9ng";break;case h.default.Code.EG_SANH:t="S\u1ea3nh";break;case h.default.Code.EG_XAM_CO:t="X\xe1m C\xf4";break;case h.default.Code.EG_HAI_DOI:t="Hai \u0110\xf4i";break;case h.default.Code.EG_DOI:t="\u0110\xf4i";break;case h.default.Code.EG_MAU_THAU:t="M\u1eadu Th\u1ea7u"}return t},t.prototype.setupSeatPlayer=function(e,t){y[e].playerId=t.nickName,this.getPlayerHouse(e).setAvatar(t.avatar),this.getPlayerHouse(e).setName(t.nickName),this.getPlayerHouse(e).setGold(t.currentMoney)},t.prototype.findPlayerSeatByUid=function(e){for(var t=-1,o=0;o<y.length;o++)y[o].playerId===e&&(t=y[o].seatId);return t},t.prototype.findPlayerPosBySeat=function(e){return y[e].playerPos},t.prototype.findPlayerSeatByPos=function(e){if(-1==e)return-1;for(var t=-1,o=0;o<y.length;o++)y[o].playerPos===e&&(t=y[o].seatId);return t},t.prototype.getPlayerHouse=function(e){return this.groupPlayers.children[e].getComponent("Lieng.Player")},t.prototype.getNumPlayers=function(){for(var e=[],t=0;t<y.length;t++)-1===y[t].playerId||y[t].isViewer||e.push(y[t].seatId);return e},t.prototype.update=function(){},t.instance=null,a([v(cc.Node)],t.prototype,"UI_ChooseRoom",void 0),a([v(cc.Label)],t.prototype,"labelNickName",void 0),a([v(cc.Label)],t.prototype,"labelCoin",void 0),a([v(cc.Node)],t.prototype,"contentListRooms",void 0),a([v(cc.Prefab)],t.prototype,"prefabItemRoom",void 0),a([v(cc.ScrollView)],t.prototype,"scrollListRoom",void 0),a([v(cc.EditBox)],t.prototype,"edtFindRoom",void 0),a([v(cc.Toggle)],t.prototype,"btnHideRoomFull",void 0),a([v(cc.Node)],t.prototype,"UI_Playing",void 0),a([v(cc.Node)],t.prototype,"meCards",void 0),a([v(cc.Node)],t.prototype,"groupPlayers",void 0),a([v(cc.SpriteFrame)],t.prototype,"spriteCards",void 0),a([v(cc.SpriteFrame)],t.prototype,"spriteCardBack",void 0),a([v(cc.Node)],t.prototype,"matchPot",void 0),a([v(cc.Label)],t.prototype,"labelMatchPot",void 0),a([v(cc.Node)],t.prototype,"cardsDeal",void 0),a([v(cc.Node)],t.prototype,"cardsCenter",void 0),a([v(cc.Node)],t.prototype,"btnBet",void 0),a([v(cc.Node)],t.prototype,"btnCall",void 0),a([v(cc.Node)],t.prototype,"btnRaise",void 0),a([v(cc.Node)],t.prototype,"btnFollow",void 0),a([v(cc.Node)],t.prototype,"btnOpenCard",void 0),a([v(cc.Button)],t.prototype,"btnLeaveRoom",void 0),a([v(cc.Node)],t.prototype,"hubChips",void 0),a([v(cc.Label)],t.prototype,"labelRoomId",void 0),a([v(cc.Label)],t.prototype,"labelRoomBet",void 0),a([v(cc.Node)],t.prototype,"actionBetting",void 0),a([v(cc.Node)],t.prototype,"betChooseValue",void 0),a([v(cc.Node)],t.prototype,"betChooseValueTarget",void 0),a([v(sp.Skeleton)],t.prototype,"FxDealer",void 0),a([v(cc.Node)],t.prototype,"btnBuyCashIn",void 0),a([v(cc.Node)],t.prototype,"popupBuyIn",void 0),a([v(cc.Label)],t.prototype,"labelBuyInMin",void 0),a([v(cc.Label)],t.prototype,"labelBuyInMax",void 0),a([v(cc.EditBox)],t.prototype,"edtBuyIn",void 0),a([v(cc.Toggle)],t.prototype,"toggleAutoBuyIn",void 0),a([v(cc.Node)],t.prototype,"notifyTimeStart",void 0),a([v(cc.Node)],t.prototype,"notifyTimeEnd",void 0),a([v(cc.Node)],t.prototype,"notifyTimeBet",void 0),a([v(cc.Node)],t.prototype,"UI_Chat",void 0),a([v(cc.EditBox)],t.prototype,"edtChatInput",void 0),a([v(cc.Node)],t.prototype,"popupNodity",void 0),a([v(cc.Label)],t.prototype,"labelNotifyContent",void 0),o=a([m],t)}(cc.Component);o.default=I,cc._RF.pop()},{"../../Loading/src/Configs":void 0,"../../Lobby/LobbyScript/Script/common/App":void 0,"../../Lobby/LobbyScript/Script/common/BroadcastReceiver":void 0,"../../Lobby/LobbyScript/Script/common/Utils":void 0,"../../Lobby/LobbyScript/Script/networks/Network.Cmd":void 0,"../../Lobby/LobbyScript/Script/networks/Network.InPacket":void 0,"./Lieng.CardUtil":"Lieng.CardUtil","./Lieng.Cmd":"Lieng.Cmd","./Lieng.NetworkClient":"Lieng.NetworkClient"}],"Lieng.ItemRoom":[function(e,t,o){"use strict";cc._RF.push(t,"2ff94A+5olPVpaMTr+lNUIb","Lieng.ItemRoom");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./Lieng.Controller"),c=e("../../Lobby/LobbyScript/Script/common/Utils"),s=cc._decorator,l=s.ccclass,d=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labelBet=null,t.labelBetMin=null,t.labelNumPlayers=null,t.roomInfo=null,t}return i(t,e),t.prototype.start=function(){},t.prototype.initItem=function(e){this.roomInfo=e,this.labelBet.string=c.default.formatNumber(e.moneyBet),this.labelBetMin.string=c.default.formatNumber(e.requiredMoney),this.labelNumPlayers.string=e.userCount+"/"+e.maxUserPerRoom},t.prototype.chooseRoom=function(){r.default.instance.joinRoom(this.roomInfo)},a([d(cc.Label)],t.prototype,"labelBet",void 0),a([d(cc.Label)],t.prototype,"labelBetMin",void 0),a([d(cc.Label)],t.prototype,"labelNumPlayers",void 0),a([l],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../Lobby/LobbyScript/Script/common/Utils":void 0,"./Lieng.Controller":"Lieng.Controller"}],"Lieng.NetworkClient":[function(e,t,o){"use strict";cc._RF.push(t,"8b705mH0hlGZ5A6/fYB7Vwj","Lieng.NetworkClient");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../Loading/src/Configs"),r=e("../../Lobby/LobbyScript/Script/networks/Network.NetworkClient"),c=e("../../Lobby/LobbyScript/Script/networks/Network.NetworkListener"),s=function(e){function t(){var t=e.call(this)||this;return t.listeners=new Array,t.isUseWSS=a.default.App.USE_WSS,t}return i(t,e),t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.connect=function(){e.prototype.connect.call(this,a.default.App.HOST_LIENG.host,a.default.App.HOST_LIENG.port)},t.prototype.onOpen=function(t){e.prototype.onOpen.call(this,t)},t.prototype.onMessage=function(e){for(var t=new Uint8Array(e.data),o=0;o<this.listeners.length;o++){var n=this.listeners[o];n.target&&n.target instanceof Object&&n.target.node?n.callback(t):(this.listeners.splice(o,1),o--)}},t.prototype.addListener=function(e,t){this.listeners.push(new c.default(t,e))},t.prototype.send=function(e){for(var t=new Int8Array(e._length),o=0;o<e._length;o++)t[o]=e._data[o];null!=this.ws&&this.isConnected()&&this.ws.send(t.buffer)},t}(r.default);o.default=s,cc._RF.pop()},{"../../Loading/src/Configs":void 0,"../../Lobby/LobbyScript/Script/networks/Network.NetworkClient":void 0,"../../Lobby/LobbyScript/Script/networks/Network.NetworkListener":void 0}],"Lieng.Player":[function(e,t,o){"use strict";cc._RF.push(t,"683d4aHZT9L/6QwjhXQGsDM","Lieng.Player");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../Lobby/LobbyScript/Script/common/App"),c=cc._decorator,s=c.ccclass,l=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnInvite=null,t.avatar=null,t.cardReady=null,t.cardReal=null,t.userName=null,t.userGold=null,t.dealer=null,t.smallBind=null,t.bigBind=null,t.owner=null,t.cardsName=null,t.actionState=null,t.actionAllIn=null,t.actionFold=null,t.actionViewer=null,t.actionThinking=null,t.actionWin=null,t.goldWin=null,t.actionLose=null,t.goldLose=null,t.hub=null,t.goldBet=null,t.prefabItemChip=null,t.notify=null,t.chatEmotion=null,t.chatMsg=null,t.shadowAvatar=null,t.shadowInfo=null,t.spriteCardBack=null,t.posCardOpened=null,t.timeoutNotify=null,t.timeoutShowCardName=null,t.timeoutChat=null,t}return i(t,e),t.prototype.start=function(){},t.prototype.updatePosCardOpened=function(e){this.posCardOpened=e},t.prototype.showChatEmotion=function(e){var t=this;this.node.children[7].active=!0,this.chatEmotion.active=!0,this.chatMsg.active=!1,clearTimeout(this.timeoutChat),this.chatEmotion.getComponent(sp.Skeleton).setAnimation(0,e,!0),this.timeoutChat=setTimeout(function(){t.chatEmotion.active=!1,t.chatMsg.active=!1},3e3)},t.prototype.showChatMsg=function(e){var t=this;this.node.children[7].active=!0,this.chatEmotion.active=!1,this.chatMsg.active=!0,clearTimeout(this.timeoutChat),this.chatMsg.children[1].getComponent(cc.Label).string=e,this.timeoutChat=setTimeout(function(){t.chatEmotion.active=!1,t.chatMsg.active=!1},3e3)},t.prototype.showBtnInvite=function(e){this.btnInvite.active=e},t.prototype.setOwner=function(e){this.owner.active=e},t.prototype.setDealer=function(e){this.dealer.active=e},t.prototype.setSmallBind=function(e){this.smallBind.active=e},t.prototype.setBigBind=function(e){this.bigBind.active=e},t.prototype.setAvatar=function(e){this.node.children[1].active=!0,this.avatar.getComponent(cc.Sprite).spriteFrame=r.default.instance.getAvatarSpriteFrame(e)},t.prototype.setIsViewer=function(e){this.shadowAvatar.active=e,this.shadowInfo.active=e},t.prototype.setName=function(e){this.node.children[3].active=!0,this.userName.string=e},t.prototype.showCardReady=function(e){this.node.children[2].active=!0,this.cardReady.active=e},t.prototype.showCardReal=function(e){this.node.children[2].active=!0,this.cardReal.active=e},t.prototype.prepareToTransform=function(){this.prepareCardReal(0),this.prepareCardReal(1),this.prepareCardReal(2)},t.prototype.prepareCardReal=function(e){this.cardReal.children[e].runAction(cc.scaleTo(0,0,1))},t.prototype.transformToCardReal=function(e,t){this.showCardReal(!0),this.cardReal.children[e].children[0].getComponent(cc.Sprite).spriteFrame=t,this.cardReady.children[e].runAction(cc.sequence(cc.scaleTo(.15,0,1),cc.callFunc(function(){}))),this.cardReal.children[e].runAction(cc.sequence(cc.delayTime(.15),cc.scaleTo(.15,1,1),cc.callFunc(function(){})))},t.prototype.showCardName=function(e){var t=this;this.cardsName.active=!0,this.cardsName.children[0].getComponent(cc.Label).string=e,clearTimeout(this.timeoutShowCardName),this.timeoutShowCardName=setTimeout(function(){t.cardsName.active=!1},4500)},t.prototype.setGold=function(e){this.actionViewer.active=!1,this.actionThinking.active=!1,this.showGold(!0),this.userGold.string=this.formatGold(e)},t.prototype.setBet=function(e){this.showPlayerBet(!0),this.goldBet.string=this.formatGold(e)},t.prototype.addChips=function(){var e=cc.instantiate(this.prefabItemChip),t=cc.instantiate(this.prefabItemChip);this.hub.addChild(e),this.hub.addChild(t)},t.prototype.showPlayerBet=function(e){this.node.children[5].active=e,e||this.hub.removeAllChildren(!0)},t.prototype.setCardReal01=function(e){this.cardReal.children[0].children[0].getComponent(cc.Sprite).spriteFrame=e},t.prototype.setCardReal02=function(e){this.cardReal.children[1].children[0].getComponent(cc.Sprite).spriteFrame=e},t.prototype.showPlayCountdown=function(){this.node.children[1].active=!0,this.actionThinking.active=!0,this.processThinking(0)},t.prototype.hidePlayCountdown=function(){this.actionThinking.active=!1},t.prototype.processThinking=function(e){this.actionThinking.getComponent(cc.Sprite).fillRange=e},t.prototype.showGold=function(e){this.node.children[3].children[2].active=e},t.prototype.prepareFxAction=function(){this.showGold(!1),this.node.children[4].active=!0,this.resetAction()},t.prototype.showActionState=function(e){this.node.children[4].active=!0,this.actionState.active=!0,this.actionState.children[1].getComponent(cc.Label).string=e},t.prototype.playFxFold=function(){this.actionFold.active=!0,this.actionFold.runAction(cc.sequence(cc.scaleTo(0,0),cc.scaleTo(.1,1.1,1.1),cc.scaleTo(.05,1,1)))},t.prototype.playFxAllIn=function(){this.actionAllIn.active=!0,this.actionAllIn.runAction(cc.sequence(cc.scaleTo(0,0),cc.scaleTo(.1,1.1,1.1),cc.scaleTo(.05,1,1)))},t.prototype.playFxViewer=function(){this.prepareFxAction(),this.actionViewer.active=!0},t.prototype.fxOtherPlayerFold=function(){this.cardReady.runAction(cc.moveBy(.5,0,-100))},t.prototype.fxMeFold=function(){this.shadowCardReal(!0),this.cardReal.runAction(cc.moveBy(.5,0,-20))},t.prototype.showEatGa=function(e){this.actionWin.children[3].active=e},t.prototype.fxWin=function(e){var t=this;this.node.children[4].active=!0,this.actionWin.active=!0,this.fxGoldChange(0,e.moneyChange,this.goldWin.node),this.setGold(this.formatGold(e.currentMoney)),setTimeout(function(){t.actionWin.active=!1,t.node.children[4].active=!1},2500)},t.prototype.fxLose=function(e){var t=this;this.node.children[4].active=!0,this.actionLose.active=!1,this.setGold(this.formatGold(e.currentMoney)),setTimeout(function(){t.actionLose.active=!1,t.node.children[4].active=!1},2500)},t.prototype.shadowCardReady=function(e){this.cardReady.children[0].color=e?cc.Color.GRAY:cc.Color.WHITE,this.cardReady.children[1].color=e?cc.Color.GRAY:cc.Color.WHITE,this.cardReady.children[2].color=e?cc.Color.GRAY:cc.Color.WHITE},t.prototype.shadowCardReal=function(e){this.cardReal.children[0].children[0].color=e?cc.Color.GRAY:cc.Color.WHITE,this.cardReal.children[1].children[0].color=e?cc.Color.GRAY:cc.Color.WHITE,this.cardReal.children[2].children[0].color=e?cc.Color.GRAY:cc.Color.WHITE},t.prototype.setCardWin=function(e,t){this.cardReal.children[e].children[0].color=t?cc.Color.WHITE:cc.Color.GRAY},t.prototype.showNotify=function(e){var t=this;this.notify.active=!0,this.notify.children[1].getComponent(cc.Label).string=e,clearTimeout(this.timeoutNotify),this.timeoutNotify=setTimeout(function(){t.notify.active=!1},1500)},t.prototype.resetAction=function(){for(var e=0;e<this.node.children[4].childrenCount;e++)this.node.children[4].children[e].active=!1},t.prototype.resetMatchHistory=function(){this.resetCardReady(),this.resetCardReal(),this.node.children[2].active=!1,this.showGold(!0),this.cardsName.active=!1,this.setDealer(!1),this.setBigBind(!1),this.setSmallBind(!1),this.resetAction(),this.node.children[5].active=!1,this.goldBet.string="0",this.hub.removeAllChildren(!0)},t.prototype.resetCardReady=function(){this.cardReady.children[0].scale=1,this.cardReady.children[1].scale=1,this.cardReady.children[2].scale=1,this.cardReady.active=!1},t.prototype.resetCardReal=function(){this.cardReal.active=!1,this.cardReal.y=0,this.cardReal.children[0].children[0].getComponent(cc.Sprite).spriteFrame=this.spriteCardBack,this.cardReal.children[1].children[0].getComponent(cc.Sprite).spriteFrame=this.spriteCardBack,this.cardReal.children[2].children[0].getComponent(cc.Sprite).spriteFrame=this.spriteCardBack,this.shadowCardReal(!1)},t.prototype.resetPlayerInfo=function(){for(var e=0;e<this.node.childrenCount;e++)this.node.children[e].active=!1;this.cardReal.children[0].children[0].getComponent(cc.Sprite).spriteFrame=this.spriteCardBack,this.cardReal.children[1].children[0].getComponent(cc.Sprite).spriteFrame=this.spriteCardBack,this.cardReal.children[2].children[0].getComponent(cc.Sprite).spriteFrame=this.spriteCardBack,this.cardReady.active=!1,this.cardReal.active=!1,this.setDealer(!1),this.setBigBind(!1),this.setSmallBind(!1),this.cardsName.active=!1,this.actionViewer.active=!1,this.actionThinking.active=!1,this.actionWin.active=!1,this.actionLose.active=!1,this.goldBet.string="0",this.hub.removeAllChildren(!0),this.setIsViewer(!0)},t.prototype.fxGoldChange=function(e,t,o){var n=this,i=t-e;o.getComponent(cc.Label).string=this.formatGold(e);var a=Math.floor(i/10),r=cc.repeat(cc.sequence(cc.delayTime(.05),cc.callFunc(function(){e+=a,o.getComponent(cc.Label).string=(i>0?"+":"")+n.formatGold(e)})),10),c=cc.sequence(r,cc.callFunc(function(){e=t,o.getComponent(cc.Label).string=(i>0?"+":"")+n.formatGold(e)}));o.runAction(c)},t.prototype.formatGold=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},a([l(cc.Node)],t.prototype,"btnInvite",void 0),a([l(cc.Node)],t.prototype,"avatar",void 0),a([l(cc.Node)],t.prototype,"cardReady",void 0),a([l(cc.Node)],t.prototype,"cardReal",void 0),a([l(cc.Label)],t.prototype,"userName",void 0),a([l(cc.Label)],t.prototype,"userGold",void 0),a([l(cc.Node)],t.prototype,"dealer",void 0),a([l(cc.Node)],t.prototype,"smallBind",void 0),a([l(cc.Node)],t.prototype,"bigBind",void 0),a([l(cc.Node)],t.prototype,"owner",void 0),a([l(cc.Node)],t.prototype,"cardsName",void 0),a([l(cc.Node)],t.prototype,"actionState",void 0),a([l(cc.Node)],t.prototype,"actionAllIn",void 0),a([l(cc.Node)],t.prototype,"actionFold",void 0),a([l(cc.Node)],t.prototype,"actionViewer",void 0),a([l(cc.Node)],t.prototype,"actionThinking",void 0),a([l(cc.Node)],t.prototype,"actionWin",void 0),a([l(cc.Label)],t.prototype,"goldWin",void 0),a([l(cc.Node)],t.prototype,"actionLose",void 0),a([l(cc.Label)],t.prototype,"goldLose",void 0),a([l(cc.Node)],t.prototype,"hub",void 0),a([l(cc.Label)],t.prototype,"goldBet",void 0),a([l(cc.Prefab)],t.prototype,"prefabItemChip",void 0),a([l(cc.Node)],t.prototype,"notify",void 0),a([l(cc.Node)],t.prototype,"chatEmotion",void 0),a([l(cc.Node)],t.prototype,"chatMsg",void 0),a([l(cc.Node)],t.prototype,"shadowAvatar",void 0),a([l(cc.Node)],t.prototype,"shadowInfo",void 0),a([l(cc.SpriteFrame)],t.prototype,"spriteCardBack",void 0),a([s],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../../Lobby/LobbyScript/Script/common/App":void 0}]},{},["Lieng.CardUtil","Lieng.Cmd","Lieng.Controller","Lieng.ItemRoom","Lieng.NetworkClient","Lieng.Player"]);