window.__require=function t(e,o,n){function i(r,c){if(!o[r]){if(!e[r]){var s=r.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var u=o[r]={exports:{}};e[r][0].call(u.exports,function(t){return i(e[r][1][t]||t)},u,u.exports,t,e,o,n)}return o[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({"BaCay.CardUtil":[function(t,e,o){"use strict";cc._RF.push(e,"2a9298AFAtMALw5rLYRifA2","BaCay.CardUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.common=void 0;var n,i=cc._decorator;i.ccclass,i.property,function(t){var e=function(){function t(){}return t.getCardInfo=function(t){this.id=t,this.so=this.getSoById(t),this.chat=this.getChatById(t),this.diem=this.getDiemById(t)},t.getSoById=function(t){return Math.floor(t/4)},t.getDiemById=function(t){return Math.floor(t/4)+1},t.getChatById=function(t){return t%4},t.getNormalId=function(t){var e;return e=4>t?11:8>t?12:Math.floor(t/4)-2,3==(t=Math.floor(t%4))?t=2:2==t&&(t=3),4*e+t},t}();t.CardUtils=e}(n=o.common||(o.common={})),o.default=n.CardUtils,cc._RF.pop()},{}],"BaCay.Cmd":[function(t,e,o){"use strict";cc._RF.push(e,"620d7luvxtKga1ndG6kqqBK","BaCay.Cmd");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.cmd=void 0;var a,r=t("../../Loading/src/Configs"),c=t("../../Lobby/LobbyScript/Script/networks/Network.InPacket"),s=t("../../Lobby/LobbyScript/Script/networks/Network.OutPacket");(function(t){var e=function(){function t(){}return t.LOGIN=1,t.TOPSERVER=1001,t.CMD_PINGPONG=1050,t.CMD_JOIN_ROOM=3001,t.CMD_RECONNECT_ROOM=3002,t.MONEY_BET_CONFIG=3003,t.JOIN_ROOM_FAIL=3004,t.CHAT_ROOM=3008,t.CREATE_ROOM=3013,t.GET_LIST_ROOM=3014,t.JOIN_GAME_ROOM_BY_ID=3015,t.MO_BAI=3101,t.BAT_DAU=3102,t.KET_THUC=3103,t.YEU_CAU_DANH_BIEN=3104,t.CHIA_BAI=3105,t.KE_CUA=3106,t.TU_DONG_BAT_DAU=3107,t.DONG_Y_DANH_BIEN=3108,t.DAT_CUOC=3109,t.THONG_TIN_BAN_CHOI=3110,t.DANG_KY_THOAT_PHONG=3111,t.VAO_GA=3112,t.DOI_CHUONG=3113,t.MOI_DAT_CUOC=3114,t.CHEAT_CARDS=3115,t.DANG_KY_CHOI_TIEP=3116,t.UPDATE_OWNER_ROOM=3117,t.JOIN_ROOM_SUCCESS=3118,t.LEAVE_GAME=3119,t.NOTIFY_KICK_FROM_ROOM=3120,t.NEW_USER_JOIN=3121,t.NOTIFY_USER_GET_JACKPOT=3122,t.UPDATE_MATCH=3123,t.PLAYER_STATUS_OUT_GAME=0,t.PLAYER_STATUS_VIEWER=1,t.PLAYER_STATUS_SITTING=2,t.PLAYER_STATUS_PLAYING=3,t.LOGOUT=2,t.MAX_PLAYER=8,t}();t.Code=e;var o=function(t){function o(o,n){var i=t.call(this)||this;return i.initData(100),i.setControllerId(1),i.setCmdId(e.LOGIN),i.packHeader(),i.putString(o),i.putString(n),i.updateSize(),i}return i(o,t),o}(s.default);t.CmdLogin=o;var n=function(t){function o(o,n,i){var a=t.call(this)||this;return a.initData(100),a.setControllerId(1),a.setCmdId(e.CMD_JOIN_ROOM),a.packHeader(),a.putInt(o),a.putInt(n),a.putLong(i),a.putInt(0),a.updateSize(),a}return i(o,t),o}(s.default);t.CmdJoinRoom=n;var a=function(t){function o(){var o=t.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(e.CMD_RECONNECT_ROOM),o.packHeader(),o.updateSize(),o}return i(o,t),o}(s.default);t.CmdReconnectRoom=a;var l=function(t){function o(){var o=t.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(e.VAO_GA),o.packHeader(),o.updateSize(),o}return i(o,t),o}(s.default);t.SendVaoGa=l;var u=function(t){function o(){var o=t.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(e.DANG_KY_THOAT_PHONG),o.packHeader(),o.updateSize(),o}return i(o,t),o}(s.default);t.CmdSendRequestLeaveGame=u;var d=function(t){function o(){var o=t.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(e.DANG_KY_CHOI_TIEP),o.packHeader(),o.updateSize(),o}return i(o,t),o}(s.default);t.CmdSendHoldRoom=d;var h=function(t){function o(){var o=t.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(e.MONEY_BET_CONFIG),o.packHeader(),o.updateSize(),o}return i(o,t),o}(s.default);t.SendGetGameConfig=h;var p=function(t){function o(o){var n=t.call(this)||this;return n.initData(100),n.setControllerId(1),n.setCmdId(e.TOPSERVER),n.packHeader(),n.putByte(o),n.updateSize(),n}return i(o,t),o}(s.default);t.SendGetTopServer=p;var f=function(t){function o(o,n,i,a,r,c,s,l){var u=t.call(this)||this;return u.initData(100),u.setControllerId(1),u.setCmdId(e.CREATE_ROOM),u.packHeader(),u.putInt(o),u.putInt(n),u.putLong(i),u.putInt(a),u.putInt(r),u.putString(c),u.putString(s),u.putLong(l),u.updateSize(),u}return i(o,t),o}(s.default);t.SendCreateRoom=f;var y=function(t){function o(o,n){var i=t.call(this)||this;if(i.initData(100),i.setControllerId(1),i.setCmdId(e.CHEAT_CARDS),i.packHeader(),i.putByte(o),i.putByte(0),i.putShort(n.length),o)for(var a=0;a<n.length;a++)i.putByte(n[a]);return i.updateSize(),i}return i(o,t),o}(s.default);t.SendCardCheat=y;var g=function(t){function o(o){var n=t.call(this)||this;return n.initData(100),n.setControllerId(1),n.setCmdId(e.DAT_CUOC),n.packHeader(),n.putByte(o),n.updateSize(),n}return i(o,t),o}(s.default);t.CmdSendDatCuoc=g;var m=function(t){function o(o,n){var i=t.call(this)||this;return i.initData(100),i.setControllerId(1),i.setCmdId(e.YEU_CAU_DANH_BIEN),i.packHeader(),i.putByte(o),i.putByte(n),i.updateSize(),i}return i(o,t),o}(s.default);t.CmdSendDanhBien=m;var C=function(t){function o(o,n){var i=t.call(this)||this;return i.initData(100),i.setControllerId(1),i.setCmdId(e.KE_CUA),i.packHeader(),i.putByte(o),i.putByte(n),i.updateSize(),i}return i(o,t),o}(s.default);t.CmdSendKeCua=C;var v=function(t){function o(o){var n=t.call(this)||this;return n.initData(100),n.setControllerId(1),n.setCmdId(e.DONG_Y_DANH_BIEN),n.packHeader(),n.putByte(o),n.updateSize(),n}return i(o,t),o}(s.default);t.CmdSendAcceptDanhBien=v;var b=function(t){function o(){var o=t.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(e.MO_BAI),o.packHeader(),o.updateSize(),o}return i(o,t),o}(s.default);t.CmdSendMoBai=b;var B=function(t){function o(){var o=t.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(e.CMD_PINGPONG),o.packHeader(),o.updateSize(),o}return i(o,t),o}(s.default);t.CmdSendPing=B;var R=function(t){function o(){var o=t.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(e.GET_LIST_ROOM),o.packHeader(),o.putInt(r.default.App.MONEY_TYPE),o.putInt(e.MAX_PLAYER),o.putLong(-1),o.putInt(0),o.putInt(0),o.putInt(50),o.updateSize(),o}return i(o,t),o}(s.default);t.SendGetListRoom=R;var I=function(t){function o(o){var n=t.call(this)||this;return n.initData(100),n.setControllerId(1),n.setCmdId(e.JOIN_GAME_ROOM_BY_ID),n.packHeader(),n.putInt(o),n.putString(""),n.updateSize(),n}return i(o,t),o}(s.default);t.SendJoinRoomById=I;var _=function(t){function o(o,n){var i=t.call(this)||this;return i.initData(100),i.setControllerId(1),i.setCmdId(e.CHAT_ROOM),i.packHeader(),i.putByte(o?1:0),i.putString(encodeURI(n)),i.updateSize(),i}return i(o,t),o}(s.default);t.SendChatRoom=_;var S=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e}(c.default);t.ReceivedLogin=S;var L=function(t){function e(e){var o=t.call(this,e)||this;o.list=[];var n=o.getShort();o.list=[];for(var i=0;i<n;i++){var a={};a.id=o.getInt(),a.userCount=o.getByte(),a.limitPlayer=o.getByte(),a.maxUserPerRoom=o.getInt(),a.moneyType=o.getByte(),a.moneyBet=o.getInt(),a.requiredMoney=o.getInt(),a.rule=o.getByte(),a.nameRoom=o.getString(),a.key=o.getBool(),a.quyban=o.getLong(),o.list.push(a)}return o}return i(e,t),e}(c.default);t.ReceivedGetListRoom=L;var w=function(t){function e(e){var o,n=t.call(this,e)||this;for(n.myChair=n.getByte(),n.chuongChair=n.getByte(),n.moneyBet=n.getLong(),n.roomId=n.getInt(),n.gameId=n.getInt(),n.moneyType=n.getByte(),n.rule=n.getByte(),n.playerSize=n.getShort(),n.playerStatus=[],o=0;o<n.playerSize;o++)n.playerStatus.push(n.getByte());for(n.playerSize=n.getShort(),n.playerInfos=[],o=0;o<n.playerSize;o++){var i={};i.nickName=n.getString(),i.avatar=n.getString(),i.money=n.getLong(),n.playerInfos.push(i)}return n.gameAction=n.getByte(),n.countDownTime=n.getByte(),n}return i(e,t),e}(c.default);t.ReceivedJoinRoomSucceed=w;var P=function(t){function e(e){var o=t.call(this,e)||this;return o.isAutoStart=o.getBool(),o.timeAutoStart=o.getByte(),o}return i(e,t),e}(c.default);t.ReceivedAutoStart=P;var T=function(t){function e(e){var o=t.call(this,e)||this,n=0;for(o.cardSize=o.getShort(),o.cards=[],n=0;n<o.cardSize;n++)o.cards.push(o.getByte());return o.gameId=o.getInt(),o.timeChiaBai=o.getByte(),o}return i(e,t),e}(c.default);t.ReceivedChiaBai=T;var N=function(t){function e(e){var o=t.call(this,e)||this;o.isRandom=o.getBool(),o.chair=o.getByte(),o.cardSize=o.getShort(),o.cards=[];for(var n=0;n<o.cardSize;n++)o.cards.push(o.getByte());return o}return i(e,t),e}(c.default);t.ReceivedFirstTurnDecision=N;var O=function(t){function e(e){var o=t.call(this,e)||this;return o.chair=o.getByte(),o.nickName=o.getString(),o}return i(e,t),e}(c.default);t.ReceivedUserLeaveRoom=O;var A=function(t){function e(e){var o=t.call(this,e)||this;return o.info={},o.info.nickName=o.getString(),o.info.avatar=o.getString(),o.info.money=o.getLong(),o.uChair=o.getByte(),o.uStatus=o.getByte(),o}return i(e,t),e}(c.default);t.ReceivedUserJoinRoom=A;var D=function(t){function e(e){var o=t.call(this,e)||this;o.myChair=o.getByte();var n=o.getShort();o.hasInfo=[];for(var i=0;i<n;i++)o.hasInfo.push(o.getBool());for(o.infos=[],i=0;i<n;i++){var a={};o.hasInfo[i]&&(a.nickName=o.getString(),a.avatar=o.getString(),a.money=o.getLong(),a.status=o.getInt()),o.infos.push(a)}return o}return i(e,t),e}(c.default);t.ReceivedUpdateMatch=D;var M=function(t){function e(e){var o=t.call(this,e)||this;o.listSize=o.getShort(),o.list=[];for(var n=0;n<o.listSize;n++){var i={};i.maxUserPerRoom=o.getByte(),i.moneyType=o.getByte(),i.moneyBet=o.getLong(),i.moneyRequire=o.getLong(),i.nPersion=o.getInt(),o.list.push(i)}return o}return i(e,t),e}(c.default);t.ReceivedBaCayConfig=M;var E=function(t){function e(e){var o=t.call(this,e)||this;return o.outChair=o.getByte(),o.isOutRoom=o.getBool(),o}return i(e,t),e}(c.default);t.ReceivedNotifyRegOutRoom=E;var k=function(t){function e(e){var o=t.call(this,e)||this;return o.reason=o.getByte(),o}return i(e,t),e}(c.default);t.ReceivedKickOff=k;var H=function(t){function e(e){var o=t.call(this,e)||this;return o.timeDatCuoc=o.getByte(),o}return i(e,t),e}(c.default);t.ReceivedMoiDatCuoc=H;var G=function(t){function e(e){var o=t.call(this,e)||this;return o.chairDatCuoc=o.getByte(),o.level=o.getByte(),o}return i(e,t),e}(c.default);t.ReceivedDatCuoc=G;var U=function(t){function e(e){var o=t.call(this,e)||this;return o.danhBienChair=o.getByte(),o.level=o.getByte(),o}return i(e,t),e}(c.default);t.ReceivedYeuCauDanhBien=U;var x=function(t){function e(e){var o=t.call(this,e)||this;return o.danhBienChair=o.getByte(),o.level=o.getByte(),o}return i(e,t),e}(c.default);t.ReceivedChapNhanDanhBien=x;var V=function(t){function e(e){var o=t.call(this,e)||this;return o.chairKeCuaFrom=o.getByte(),o.chairKeCuaTo=o.getByte(),o.level=o.getByte(),o}return i(e,t),e}(c.default);t.ReceivedKeCua=V;var W=function(t){function e(e){var o=t.call(this,e)||this;return o.chair=o.getByte(),o.chicKenBet=o.getLong(),o}return i(e,t),e}(c.default);t.ReceivedVaoGa=W;var Y=function(t){function e(e){var o=t.call(this,e)||this;o.chairMoBai=o.getByte(),o.cardSize=o.getShort(),o.cards=[];for(var n=0;n<o.cardSize;n++)o.cards.push(o.getByte());return o}return i(e,t),e}(c.default);t.ReceivedMoBai=Y;var F=function(t){function o(o){var n=t.call(this,o)||this,i=0,a=n.getShort();for(n.statusList=[],i=0;i<a;i++)n.statusList.push(n.getByte());for(n.cardList=[],i=0;i<n.statusList.length;i++){if(a=[],3==n.statusList[i])for(var r=n.getShort(),c=0;c<r;c++)a.push(n.getByte());n.cardList.push(a)}for(n.tienThangChuong=n.getLong(),n.tienThangGa=n.getLong(),n.keCuaMoneyList=[],n.danhBienMoneyList=[],a=n.getShort(),i=0;i<a;i++)n.keCuaMoneyList.push(n.getLong());for(a=n.getShort(),i=0;i<a;i++)n.danhBienMoneyList.push(n.getLong());for(n.tongTienCuoiVan=n.getLong(),n.tongTienCuocList=[],n.tongDanhBienList=[],n.tongKeCuaList=[],n.tongCuocGaList=[],n.tongCuoiVanList=[],n.currentMoneyList=[],n.getShort(),i=0;i<e.MAX_PLAYER;i++)a=0,3==n.statusList[i]&&(a=n.getLong()),n.tongTienCuocList.push(a);for(n.getShort(),i=0;i<e.MAX_PLAYER;i++)a=0,3==n.statusList[i]&&(a=n.getLong()),n.tongDanhBienList.push(a);for(n.getShort(),i=0;i<e.MAX_PLAYER;i++)a=0,3==n.statusList[i]&&(a=n.getLong()),n.tongKeCuaList.push(a);for(n.getShort(),i=0;i<e.MAX_PLAYER;i++)a=0,3==n.statusList[i]&&(a=n.getLong()),n.tongCuocGaList.push(a);for(n.getShort(),i=0;i<e.MAX_PLAYER;i++)a=0,3==n.statusList[i]&&(a=n.getLong()),n.tongCuoiVanList.push(a);for(n.getShort(),i=0;i<e.MAX_PLAYER;i++)a=0,3==n.statusList[i]&&(a=n.getLong()),n.currentMoneyList.push(a);return n.timeEndGame=n.getByte(),n}return i(o,t),o}(c.default);t.ReceivedEndGame=F;var j=function(t){function e(e){var o=t.call(this,e)||this;return o.chuongChair=o.getByte(),o}return i(e,t),e}(c.default);t.ReceivedDoiChuong=j;var K=function(t){function e(e){var o=t.call(this,e)||this;return o.chair=o.getByte(),o.isIcon=o.getBool(),o.content=decodeURI(o.getString()),o.nickname=o.getString(),o}return i(e,t),e}(c.default);t.ReceivedChatRoom=K;var q=function(t){function o(o){var n=t.call(this,o)||this;n.myChair=n.getByte(),n.chuongChair=n.getByte();var i=n.getShort();n.cards=[];for(var a=0;a<i;a++)n.cards.push(n.getByte());for(n.cuocDanhBienList=[],i=n.getShort(),a=0;a<i;a++)n.cuocDanhBienList[a]=n.getInt();for(n.cuocKeCuaList=[],i=n.getShort(),a=0;a<i;a++)n.cuocKeCuaList[a]=n.getInt();for(n.gameServerState=n.getByte(),n.isAutoStart=n.getBool(),n.gameAction=n.getByte(),n.countDownTime=n.getByte(),n.moneyType=n.getByte(),n.moneyBet=n.getLong(),n.gameId=n.getInt(),n.roomId=n.getInt(),n.hasInfo=[],i=n.getShort(),a=0;a<i;a++)n.hasInfo[a]=n.getBool();for(n.players=[],a=0;a<e.MAX_PLAYER;a++)n.hasInfo[a]?(n.players[a]=[],n.players[a].status=n.getByte(),n.players[a].money=n.getLong(),n.players[a].cuocGa=n.getInt(),n.players[a].cuocChuong=n.getInt(),n.players[a].avatar=n.getString(),n.players[a].nickName=n.getString()):(n.players[a]=[],n.players[a].status=0);return n}return i(o,t),o}(c.default);t.ReceivedGameInfo=q;var z=function(t){function e(e){var o=t.call(this,e)||this;return o.rankType=o.getByte(),o.topDay_money=o.getString(),o.topWeek_money=o.getString(),o.topMonth_money=o.getString(),o.topDay_number=o.getString(),o.topWeek_number=o.getString(),o.topMonth_number=o.getString(),o}return i(e,t),e}(c.default);t.ReceivedTopServer=z;var J=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e}(c.default);t.ReceivedJoinRoomFail=J})(a=o.cmd||(o.cmd={})),o.default=a,cc._RF.pop()},{"../../Loading/src/Configs":void 0,"../../Lobby/LobbyScript/Script/networks/Network.InPacket":void 0,"../../Lobby/LobbyScript/Script/networks/Network.OutPacket":void 0}],"BaCay.Controller":[function(t,e,o){"use strict";cc._RF.push(e,"d8c0clk/LdHK5HHnJP3Kgny","BaCay.Controller");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.NodeShowCard=void 0;var r,c=t("../../Loading/src/Configs"),s=t("../../Lobby/LobbyScript/Script/common/App"),l=t("../../Lobby/LobbyScript/Script/common/BroadcastReceiver"),u=t("../../Lobby/LobbyScript/Script/common/SPUtils"),d=t("../../Lobby/LobbyScript/Script/common/Utils"),h=t("../../Lobby/LobbyScript/Script/networks/Network.InPacket"),p=t("./BaCay.CardUtil"),f=t("./BaCay.Cmd"),y=t("./BaCay.NetworkClient"),g=t("./BaCay.Room"),m=cc.tween;(function(t){t[t.BG=0]="BG",t[t.LOSE=1]="LOSE",t[t.WIN=2]="WIN",t[t.CHIA_BAI=3]="CHIA_BAI",t[t.CHIP=4]="CHIP",t[t.CLOCK=5]="CLOCK",t[t.START_BET=6]="START_BET"})(r||(r={}));var C=[],v=[[0,1,2,3,4,5,6,7],[1,2,3,4,5,6,7,0],[2,3,4,5,6,7,0,1],[3,4,5,6,7,0,1,2],[4,5,6,7,0,1,2,3],[5,6,7,0,1,2,3,4],[6,7,0,1,2,3,4,5],[7,0,1,2,3,4,5,6]],b=cc._decorator,B=b.ccclass,R=b.property,I=function(){function t(){this.cardHide1=null,this.cardHide2=null,this.cardShow=null,this.userHand=null,this.userFinger=null,this.nodeThis=null,this.animHand=null}return t.prototype.setInfo=function(){var t=this;this.nodeThis.on(cc.Node.EventType.TOUCH_MOVE,function(e){t.animHand.node.active=!1;var o=e.getDelta();o.x>0&&t.cardShow.angle>-30&&(t.cardShow.angle<-12&&(t.cardHide2.angle-=o.x/40),t.cardShow.angle-=o.x/20,t.userFinger.angle-=o.x/20)}),this.nodeThis.on(cc.Node.EventType.TOUCH_END,function(){t.cardShow.angle<-20&&(t.hide(),_.instance.showCardReal())})},t.prototype.show=function(t){var e=this;this.animHand.node.active=!1,this.nodeThis.getChildByName("animHand").active=!0,this.cardHide2.angle=-2,this.cardShow.angle=-5,this.userFinger.angle=0,this.cardShow.getComponent("TienLen.Card").setCardData(t[0]),this.cardHide2.getComponent("TienLen.Card").setCardData(t[1]),this.cardHide1.getComponent("TienLen.Card").setCardData(t[2]),cc.Tween.stopAllByTarget(this.userHand),m(this.userHand).set({angle:90}).to(.5,{angle:0},{easing:cc.easing.sineOut}).call(function(){e.setInfo()}).start()},t.prototype.hide=function(){var t=this;m(this.userHand).to(.5,{angle:90},{easing:cc.easing.sineIn}).call(function(){t.nodeThis.active=!1}).start()},a([R(cc.Node)],t.prototype,"cardHide1",void 0),a([R(cc.Node)],t.prototype,"cardHide2",void 0),a([R(cc.Node)],t.prototype,"cardShow",void 0),a([R(cc.Node)],t.prototype,"userHand",void 0),a([R(cc.Node)],t.prototype,"userFinger",void 0),a([R(cc.Node)],t.prototype,"nodeThis",void 0),a([R(sp.Skeleton)],t.prototype,"animHand",void 0),a([B("BaCay.Controller.NodeShowCard")],t)}();o.NodeShowCard=I;var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isInitedUIRoom=!1,e.toggleMusic=null,e.toggleSound=null,e.nodeSetting=null,e.bgChat=null,e.contentChatNhanh=null,e.boxSetting=null,e.UI_Playing=null,e.meCards=null,e.groupPlayers=null,e.matchPot=null,e.labelMatchPot=null,e.cardsDeal=null,e.btnBet=null,e.btnOpenCard=null,e.btnLeaveRoom=null,e.hubChips=null,e.labelRoomId=null,e.labelRoomBet=null,e.actionBetting=null,e.betChooseValue=null,e.betChooseValueTarget=null,e.popupMatchResult=null,e.contentMatchResult=null,e.prefabItemResult=null,e.scrollMatchResult=null,e.notifyTimeStart=null,e.notifyTimeEnd=null,e.notifyTimeBet=null,e.UI_Chat=null,e.edtChatInput=null,e.popupGuide=null,e.soundManager=null,e.nodeShowCard=null,e.seatOwner=null,e.currentRoomBet=null,e.gameState=null,e.minutes=null,e.seconds=null,e.timeAutoStart=null,e.timeEnd=null,e.timeBet=null,e.intervalWaitting=null,e.intervalEnd=null,e.intervalBetting=null,e.currentCard=null,e.numCardOpened=0,e.arrBetValue=[],e.listDataRoom=[],e.listFullRoom=[],e.arrBetPos=[-157.5,-52.5,52.5,157.5],e.currentBetSelectedIndex=0,e.currentMatchPotValue=0,e.timeoutEndGame=null,e.timeoutChiaBaiDone=null,e.arrPosDanhBien=[],e.timeInBg=0,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.soundManager=g.default.instance.soundManager,this.seatOwner=-1,this.initConfigPlayer()},e.prototype.showSetting=function(){this.toggleMusic.isChecked=u.default.getMusicVolumn()>0,this.toggleSound.isChecked=u.default.getSoundVolumn()>0,this.nodeSetting.active=!0},e.prototype.hideSetting=function(){this.nodeSetting.active=!1},e.prototype.onBtnToggleMusic=function(){u.default.setMusicVolumn(this.toggleMusic.isChecked?1:0),l.default.send(l.default.ON_AUDIO_CHANGED)},e.prototype.onBtnToggleSound=function(){u.default.setSoundVolumn(this.toggleSound.isChecked?1:0),l.default.send(l.default.ON_AUDIO_CHANGED)},e.prototype.onBtnSetting=function(){this.boxSetting.active=!this.boxSetting.active},e.prototype.onBtnClickBgChat=function(){this.UI_Chat.opacity=100,this.bgChat.active=!1},e.prototype.onBtnClickBoxChat=function(){this.UI_Chat.opacity=255,this.bgChat.active=!0},e.prototype.start=function(){this.setupTimeRunInBg(),this.bgChat.active=!1;for(var t=this,e=function(){var e=o.contentChatNhanh.children[n];e.on("click",function(){t.chatNhanhMsg(e.children[0].getComponent(cc.Label).string)})},o=this,n=0;n<this.contentChatNhanh.childrenCount;n++)e();this.setupListener(),this.unschedule(this.intervalBetting),this.soundManager.stopAudioEffect()},e.prototype.setupTimeRunInBg=function(){var t=this;cc.game.on(cc.game.EVENT_HIDE,function(){t.timeInBg=cc.sys.now()}),cc.game.on(cc.game.EVENT_SHOW,function(){var e=cc.sys.now(),o=t.timeInBg;cc.director.getActionManager().update((e-o)/1e3),cc.Tween.stopAllByTag(1),(e-o)/1e3>15&&(t.node.active=!1,g.default.instance.node.active=!0,t.refeshListRoom(),s.default.instance.showToast(s.default.instance.getTextLang("txt_out_game")))})},e.prototype.genCardDeal=function(){if(1==this.cardsDeal.childrenCount)for(var t=1;t<24;t++)this.cardsDeal.addChild(cc.instantiate(this.cardsDeal.children[0]))},e.prototype.joinRoom=function(t){c.default.Login.Coin<t.requiredMoney?s.default.instance.alertDialog.showMsg(s.default.instance.getTextLang("txt_not_enough_money")):(s.default.instance.showLoading(!0),y.default.getInstance().send(new f.default.SendJoinRoomById(t.id)))},e.prototype.refeshListRoom=function(){y.default.getInstance().send(new f.default.SendGetListRoom)},e.prototype.toggleUIChat=function(){0==this.UI_Chat.active?this.showUIChat():this.closeUIChat()},e.prototype.showUIChat=function(){this.onBtnClickBoxChat(),this.UI_Chat.active=!0,this.UI_Chat.active=!0,cc.tween(this.UI_Chat).to(.3,{x:cc.winSize.width/2-this.UI_Chat.width/2},{easing:cc.easing.sineOut}).start()},e.prototype.closeUIChat=function(){var t=this;this.onBtnClickBgChat(),cc.tween(this.UI_Chat).to(.3,{x:cc.winSize.width/2+this.UI_Chat.width/2},{easing:cc.easing.sineIn}).call(function(){t.UI_Chat.active=!1}).start()},e.prototype.chatEmotion=function(t,e){y.default.getInstance().send(new f.default.SendChatRoom(1,e)),this.closeUIChat()},e.prototype.chatMsg=function(){this.edtChatInput.string.trim().length>0&&(y.default.getInstance().send(new f.default.SendChatRoom(0,this.edtChatInput.string)),this.edtChatInput.string="",this.closeUIChat())},e.prototype.chatNhanhMsg=function(t){t.trim().length>0&&(y.default.getInstance().send(new f.default.SendChatRoom(0,t)),this.closeUIChat())},e.prototype.showPopupGuide=function(){this.popupGuide.active=!0},e.prototype.closePopupGuide=function(){this.popupGuide.active=!1},e.prototype.closeUIPlaying=function(){this.actionLeaveRoom()},e.prototype.setupMatch=function(t){this.closePopupMatchResult(),this.closeUIChat();for(var e=1;e<8;e++)(B=this.getPlayerHouse(e)).showPopupBet(!1),B.closePopupRequestDanhBien();var o=t.chuongChair,n=t.countDownTime,i=t.gameAction,a=(t.gameId,t.moneyBet),r=(t.moneyType,t.myChair),s=t.playerInfos,l=(t.playerSize,t.playerStatus),u=t.roomId;t.rule,this.labelRoomId.string=u+"",this.labelRoomBet.string=d.default.formatNumber(a),this.currentRoomBet=a,this.gameState=i,C[0].playerId=c.default.Login.Nickname,C[0].playerPos=r;var h=[],p=[],y=[];for(e=0;e<s.length;e++)""!==s[e].nickName&&(h.push(e),p.push(s[e]),y.push(l[e]));this.resetHubChips();for(var g=0;g<C.length;g++)C[g].playerPos=v[r][g];for(e=0;e<C.length;e++){var m=h.indexOf(C[e].playerPos),b=C[e].seatId;(B=this.getPlayerHouse(b)).resetPlayerInfo(),m>-1?(y[m]==f.default.Code.PLAYER_STATUS_SITTING||y[m]==f.default.Code.PLAYER_STATUS_PLAYING?(C[e].isViewer=!1,B.setIsViewer(!1)):(C[e].isViewer=!0,B.setIsViewer(!0),B.playFxViewer()),this.setupSeatPlayer(b,p[m])):(B.showBtnInvite(!0),C[e].isViewer=!0)}for(e=0;e<8;e++){var B;(B=this.getPlayerHouse(e)).setOwner(!1)}var R=this.findPlayerSeatByPos(o),I=this.getPlayerHouse(R);-1!==R&&(I.setOwner(!0),this.seatOwner=R),n>0&&(1==this.gameState?this.startBettingCountDown(n):this.getNumPlayers().length<0&&this.startEndCountDown(n))},e.prototype.startWaittingCountDown=function(t){var e=this;this.timeAutoStart=t,this.setTimeWaittingCountDown(),this.notifyTimeStart.active=!0,this.notifyTimeStart.parent.active=!0,this.unschedule(this.intervalWaitting),this.unschedule(this.intervalEnd),this.schedule(this.intervalWaitting=function(){e.timeAutoStart--,e.setTimeWaittingCountDown(),e.timeAutoStart<1&&(e.unschedule(e.intervalWaitting),e.notifyTimeStart.active=!1,e.notifyTimeStart.parent.active=!1)},1)},e.prototype.setTimeWaittingCountDown=function(){this.seconds=Math.floor(this.timeAutoStart%60),this.notifyTimeStart.getComponent(cc.Label).string=" B\u1eaft \u0111\u1ea7u sau : "+this.seconds+"s "},e.prototype.startEndCountDown=function(t){var e=this;this.timeEnd=t,this.setTimeEndCountDown(),this.notifyTimeStart.active=!0,this.notifyTimeStart.parent.active=!0,this.unschedule(this.intervalEnd),this.unschedule(this.intervalWaitting),this.schedule(this.intervalEnd=function(){e.timeEnd--,e.setTimeEndCountDown(),e.timeEnd<1&&(e.unschedule(e.intervalEnd),e.notifyTimeEnd.active=!1,e.notifyTimeEnd.parent.active=!1)},1)},e.prototype.setTimeEndCountDown=function(){this.seconds=Math.floor(this.timeEnd%60),this.notifyTimeStart.getComponent(cc.Label).string=s.default.instance.getTextLang("txt_end_after")+" "+this.seconds+"s "},e.prototype.startBettingCountDown=function(t){var e=this;this.timeBet=t,this.actionBetting.active=!0,this.processBetting(1),this.unschedule(this.intervalBetting),this.soundManager.stopAudioEffect();var o=t/200,n=1;cc.Tween.stopAllByTarget(this.actionBetting),cc.tween(this.actionBetting).repeat(200,cc.tween().delay(o).call(function(){n-=.005,e.timeBet-=o,e.processBetting(n),e.timeBet<0&&(e.actionBetting.active=!1)})).start(),this.intervalBetting=this.schedule(function(){e.soundManager.playAudioEffect(r.CLOCK)},1,t)},e.prototype.stopBettingCountDown=function(){cc.Tween.stopAllByTarget(this.actionBetting),this.unschedule(this.intervalBetting),this.actionBetting.active=!1},e.prototype.processBetting=function(t){this.actionBetting.getChildByName("Step").getComponent(cc.Sprite).fillRange=t},e.prototype.openMeCard=function(){if(0==this.getPlayerHouse(0).isShowCard){this.nodeShowCard.nodeThis.active=!0;var t=[];this.currentCard.forEach(function(e){t.push(p.default.getNormalId(e))}),this.nodeShowCard.show(t)}},e.prototype.getCardsScore=function(t){for(var e=0,o=0;o<3;o++)e+=p.default.getDiemById(t[o]);return 0==(e%=10)&&(e=10),e},e.prototype.moveChipsToHubNow=function(t){this.hubChips.children[2*t].setPosition(25,80),this.hubChips.children[2*t].scale=0,this.hubChips.children[2*t+1].setPosition(25,80),this.hubChips.children[2*t+1].scale=0},e.prototype.fxMoveChips=function(t,e,o,n){t.runAction(cc.sequence(cc.delayTime(e),cc.scaleTo(0,1,1),cc.spawn(cc.moveTo(.8,o,n),cc.scaleTo(.8,0,0))))},e.prototype.resetHubChips=function(){for(var t=[70,280,280,260,100,-260,-375,-360],e=[-195,-150,-55,70,90,85,-30,-155],o=0;o<8;o++)this.hubChips.children[2*o].setPosition(t[o],e[o]),this.hubChips.children[2*o+1].setPosition(t[o],e[o]);for(o=0;o<16;o++)this.hubChips.children[o].active=!1},e.prototype.setupBet=function(){this.currentBetSelectedIndex=0,this.betChooseValueTarget.y=this.arrBetPos[this.currentBetSelectedIndex]},e.prototype.showPopupMatchResult=function(t){this.popupMatchResult.active=!0,this.contentMatchResult.removeAllChildren(!0);for(var e=0;e<t.length;e++){var o=cc.instantiate(this.prefabItemResult);o.getComponent("BaCay.ItemResult").initItem(t[e]),this.contentMatchResult.addChild(o)}this.scrollMatchResult.scrollToTop(.2)},e.prototype.closePopupMatchResult=function(){this.popupMatchResult.active=!1},e.prototype.setupListener=function(){var t=this;y.default.getInstance().addListener(function(e){switch(new h.default(e).getCmdId()){case f.default.Code.LOGIN:s.default.instance.showLoading(!1),t.refeshListRoom(),y.default.getInstance().send(new f.default.CmdReconnectRoom);break;case f.default.Code.TOPSERVER:s.default.instance.showLoading(!1),(v=new f.default.ReceivedTopServer(e)).rankType,v.topDay_money,v.topWeek_money,v.topMonth_money;break;case f.default.Code.CMD_PINGPONG:case f.default.Code.CMD_JOIN_ROOM:case f.default.Code.CMD_RECONNECT_ROOM:case f.default.Code.MONEY_BET_CONFIG:s.default.instance.showLoading(!1);break;case f.default.Code.MO_BAI:s.default.instance.showLoading(!1);var o=(v=new f.default.ReceivedMoBai(e)).chairMoBai,n=v.cards,i=t.findPlayerSeatByPos(o),a=t.getPlayerHouse(i);if(-1!=i&&0!=i&&!a.isShowCard){for(var u=0;u<3;u++){var m=p.default.getNormalId(n[u]);a.transformToCardReal(u,m,u),a.showCardReal(!0)}a.showCardName(t.getCardsScore(n)+" \u0110i\u1ec3m")}break;case f.default.Code.BAT_DAU:s.default.instance.showLoading(!1);var v=new f.default.ReceivedFirstTurnDecision(e);t.resetHubChips(),t.closePopupMatchResult();break;case f.default.Code.KET_THUC:s.default.instance.showLoading(!1),v=new f.default.ReceivedEndGame(e),t.unschedule(t.intervalEnd),t.notifyTimeEnd.active=!1,t.notifyTimeEnd.parent.active=!1;for(var b=v.cardList,B=(v.tienThangChuong,v.tienThangGa,v.keCuaMoneyList,v.danhBienMoneyList,v.tongTienCuoiVan,v.tongTienCuocList),R=v.tongDanhBienList,I=v.tongKeCuaList,_=v.tongCuocGaList,S=v.tongCuoiVanList,L=v.currentMoneyList,w=(v.timeEndGame,[]),P=0;P<8;P++)b[P].length>0&&w.push(P);var T=[];for(P=0;P<8;P++){var N=w.indexOf(C[P].playerPos);if(a=t.getPlayerHouse(P),-1!==N){n=b[w[N]];var O=a.node.children[2].children[0];if(!a.isShowCard){for(u=0;u<3;u++)1==O.children[u].scale&&(m=p.default.getNormalId(n[u]),a.transformToCardReal(u,m));a.showCardName(t.getCardsScore(n)+" \u0110i\u1ec3m")}T.push({userName:C[P].playerId,bet:B[w[N]],bien:R[w[N]],ke:I[w[N]],ga:_[w[N]],total:S[w[N]]});var A={moneyChange:S[w[N]],money:L[w[N]],ga:_[w[N]]};0==P&&(c.default.Login.Coin=A.money,l.default.send(l.default.USER_UPDATE_COIN)),A.moneyChange>=0?(0==P&&t.soundManager.playAudioEffect(r.WIN),a.fxWin(A)):(0==P&&t.soundManager.playAudioEffect(r.LOSE),a.fxLose(A))}}T.length>0&&setTimeout(function(){t.labelMatchPot.string="0"},4e3),t.nodeShowCard.hide(),t.stopBettingCountDown();break;case f.default.Code.YEU_CAU_DANH_BIEN:s.default.instance.showLoading(!1);var D=(v=new f.default.ReceivedYeuCauDanhBien(e)).danhBienChair,M=v.level;if(t.arrPosDanhBien.indexOf(D)>-1);else{var E=t.currentRoomBet*M,k=t.findPlayerSeatByPos(D);-1!=k&&t.getPlayerHouse(k).showPopupRequestDanhBien(E)}break;case f.default.Code.CHIA_BAI:for(s.default.instance.showLoading(!1),v=new f.default.ReceivedChiaBai(e),t.stopBettingCountDown(),t.btnBet.active=!1,t.btnOpenCard.active=!1,P=1;P<8;P++)(a=t.getPlayerHouse(P)).showPopupBet(!1),a.closePopupRequestDanhBien(),a.isShowCard=!1;t.getPlayerHouse(0).isShowCard=!1,t.matchPot.getComponent(cc.Button).interactable=!1,t.matchPot.children[0].color=cc.Color.GRAY,n=v.cards;var H=v.timeChiaBai;clearTimeout(t.timeoutEndGame),t.timeoutEndGame=setTimeout(function(){t.startEndCountDown(H)},2e3),t.currentCard=n;var G=t.getNumPlayers(),U=G.length;for(t.genCardDeal(),P=0;P<24;P++)t.cardsDeal.children[P].active=!(P>=3*U),t.cardsDeal.children[P].setPosition(0,0),t.cardsDeal.children[P].angle=0;for(u=0;u<3;u++)for(var x=0;x<U;x++){var V=G[x];if(-1!==V){var W=t.cardsDeal.children[u*U+x];W.active=!0;var Y=new cc.Vec2(t.groupPlayers.children[V].position.x,t.groupPlayers.children[V].position.y);cc.tween(W).delay(.1*(u*U+x)).parallel(cc.tween().call(function(){t.soundManager.playAudioEffect(r.CHIA_BAI)}),cc.tween().to(.2,{position:Y},{easing:cc.easing.sineIn}),cc.tween().by(.2,{angle:360},{easing:cc.easing.sineIn})).start()}}var F=1e3*(.4+.1*(2*U+(U-1)));clearTimeout(t.timeoutChiaBaiDone),t.timeoutChiaBaiDone=setTimeout(function(){for(var e=0;e<24;e++)t.cardsDeal.children[e].active=!1;for(e=0;e<U;e++){var o=G[e];-1!==o&&(0==o&&t.getPlayerHouse(o).resetCardReady(),t.getPlayerHouse(o).showCardReal(!0))}},F);break;case f.default.Code.KE_CUA:s.default.instance.showLoading(!1),(v=new f.default.ReceivedKeCua(e)).chairKeCuaFrom,v.chairKeCuaTo,M=v.level;break;case f.default.Code.TU_DONG_BAT_DAU:s.default.instance.showLoading(!1),(v=new f.default.ReceivedAutoStart(e)).isAutoStart&&(t.resetHubChips(),t.startWaittingCountDown(v.timeAutoStart),t.btnBet.active=!1,t.btnOpenCard.active=!1,t.matchPot.active=!1,t.matchPot.getComponent(cc.Button).interactable=!0,t.matchPot.children[0].color=cc.Color.WHITE,t.resetPlayersPlaying(),t.arrPosDanhBien=[]),t.closePopupMatchResult();break;case f.default.Code.DONG_Y_DANH_BIEN:s.default.instance.showLoading(!1),D=(v=new f.default.ReceivedChapNhanDanhBien(e)).danhBienChair,M=v.level,t.arrPosDanhBien.push(D);var j=t.findPlayerSeatByPos(D);-1!=j&&(t.getPlayerHouse(j).disableDanhBien(M),t.getPlayerHouse(j).playFxDanhBien());break;case f.default.Code.DAT_CUOC:s.default.instance.showLoading(!1);var K=(v=new f.default.ReceivedDatCuoc(e)).chairDatCuoc,q=(M=v.level,t.findPlayerSeatByPos(K));a=t.getPlayerHouse(q),-1!=q&&(a.setBet(t.arrBetValue[M-1]),a.addChips()),t.soundManager.playAudioEffect(r.CHIP);break;case f.default.Code.DANG_KY_THOAT_PHONG:s.default.instance.showLoading(!1);var z=(v=new f.default.ReceivedNotifyRegOutRoom(e)).outChair,J=v.isOutRoom,X=t.findPlayerSeatByPos(z);0==X&&(J?s.default.instance.showToast(s.default.instance.getTextLang("txt_room_leave")):s.default.instance.showToast(s.default.instance.getTextLang("txt_room_cancel_leave"))),-1!==X&&t.getPlayerHouse(X).showLeaveRoom(J);break;case f.default.Code.VAO_GA:t.soundManager.playAudioEffect(r.CHIP),s.default.instance.showLoading(!1);var Z=(v=new f.default.ReceivedVaoGa(e)).chair,Q=v.chicKenBet,$=t.findPlayerSeatByPos(Z);a=t.getPlayerHouse($),-1!=$&&(t.hubChips.children[2*$].active=!0,t.hubChips.children[2*$+1].active=!0,t.fxMoveChips(t.hubChips.children[2*$],.1,t.matchPot.x,t.matchPot.y),t.fxMoveChips(t.hubChips.children[2*$+1],.2,t.matchPot.x,t.matchPot.y),t.currentMatchPotValue+=Q,t.labelMatchPot.string=d.default.formatNumber(t.currentMatchPotValue),a.playFxVaoGa());break;case f.default.Code.DOI_CHUONG:for(s.default.instance.showLoading(!1),v=new f.default.ReceivedDoiChuong(e),P=0;P<8;P++)t.getPlayerHouse(P).setOwner(!1);var tt=t.findPlayerSeatByPos(v.chuongChair);-1!=tt&&(t.getPlayerHouse(tt).setOwner(!0),t.seatOwner=tt);break;case f.default.Code.MOI_DAT_CUOC:s.default.instance.showLoading(!1),v=new f.default.ReceivedMoiDatCuoc(e),t.startBettingCountDown(v.timeDatCuoc),t.showSliderBet(),t.numCardOpened=0,t.soundManager.playAudioEffect(r.START_BET);break;case f.default.Code.CHEAT_CARDS:case f.default.Code.DANG_KY_CHOI_TIEP:case f.default.Code.UPDATE_OWNER_ROOM:s.default.instance.showLoading(!1);break;case f.default.Code.LEAVE_GAME:s.default.instance.showLoading(!1),Z=(v=new f.default.ReceivedUserLeaveRoom(e)).chair;var et=t.findPlayerSeatByPos(Z);if(-1!==et){for(P=0;P<C.length;P++)C[P].seatId==et&&(C[P].playerId=-1,C[P].isViewer=!0);(a=t.getPlayerHouse(et)).resetPlayerInfo(),a.showBtnInvite(!0),1==t.getNumPlayers().length&&(t.resetPlayersPlaying(),t.matchPot.active=!1),0==et&&(t.node.active=!1,g.default.instance.node.active=!0,t.refeshListRoom())}break;case f.default.Code.NOTIFY_KICK_FROM_ROOM:s.default.instance.showLoading(!1),v=new f.default.ReceivedKickOff(e);break;case f.default.Code.NEW_USER_JOIN:s.default.instance.showLoading(!1),A=(v=new f.default.ReceivedUserJoinRoom(e)).info;var ot=v.uChair,nt=v.uStatus;for(P=0;P<C.length;P++){var it=C[P].seatId;if(a=t.getPlayerHouse(it),C[P].playerPos==ot){a.resetPlayerInfo();var at={avatar:A.avatar,nickName:A.nickName,money:A.money};t.setupSeatPlayer(it,at),nt==f.default.Code.PLAYER_STATUS_VIEWER?(C[it].isViewer=!0,a.setIsViewer(!0),a.playFxViewer()):(C[it].isViewer=!1,a.setIsViewer(!1))}}break;case f.default.Code.NOTIFY_USER_GET_JACKPOT:s.default.instance.showLoading(!1);break;case f.default.Code.UPDATE_MATCH:s.default.instance.showLoading(!1),(v=new f.default.ReceivedUpdateMatch(e)).myChair;var rt=v.hasInfo,ct=v.infos;for(P=0;P<rt.length;P++){var st=C[P].playerPos;rt[st]?(t.getPlayerHouse(P).setGold(ct[st].money),C[P].playerId=ct[st].nickName,ct[st].status==f.default.Code.PLAYER_STATUS_SITTING||ct[st].status==f.default.Code.PLAYER_STATUS_PLAYING?(C[P].isViewer=!1,t.getPlayerHouse(P).setIsViewer(!1)):(C[P].isViewer=!0,t.getPlayerHouse(P).setIsViewer(!0),t.getPlayerHouse(P).playFxViewer()),t.setupSeatPlayer(P,ct[st])):(C[P].playerId=-1,C[P].isViewer=!0)}break;case f.default.Code.CHAT_ROOM:s.default.instance.showLoading(!1),Z=(v=new f.default.ReceivedChatRoom(e)).chair;var lt=v.isIcon,ut=v.content;if(lt){var dt=t.findPlayerSeatByPos(Z);-1!=dt&&t.getPlayerHouse(dt).showChatEmotion(ut)}else{var ht=t.findPlayerSeatByPos(Z);-1!=ht&&t.getPlayerHouse(ht).showChatMsg(ut)}}},this)},e.prototype.actReJoinRoom=function(t){this.closePopupMatchResult(),this.closeUIChat();var e=t.myChair,n=t.chuongChair,i=t.cards,a=(t.cuocDanhBienList,t.cuocKeCuaList,t.gameServerState,t.isAutoStart,t.gameAction),r=t.countDownTime,s=(t.moneyType,t.moneyBet),l=(t.gameId,t.roomId),u=t.hasInfo,h=t.players;this.labelRoomId.string=l,this.labelRoomBet.string=d.default.formatNumber(s),this.currentRoomBet=s,this.gameState=a,this.currentCard=i,C[0].playerId=c.default.Login.Nickname,C[0].playerPos=e;for(var p=[],f=[],y=0;y<u.length;y++)u[y]&&(p.push(y),f.push(h[y]));for(var g=0;g<C.length;g++)C[g].playerPos=v[e][g];for(y=0;y<C.length;y++){var m=p.indexOf(C[y].playerPos),b=C[y].seatId,B=this.getPlayerHouse(b);B.resetPlayerInfo();var R=f[m];m>-1?(C[y].isViewer=!1,B.setIsViewer(!1),this.setupSeatPlayer(b,R),B.setBet(R.cuocChuong*s),B.addChips(),R.nickName==c.default.Login.Nickname&&0==R.cuocChuong&&1==this.gameState&&this.showSliderBet(),0!=R.cuocGa&&(this.currentMatchPotValue+=3*s,this.labelMatchPot.string=d.default.formatNumber(this.currentMatchPotValue),B.playFxVaoGa()),1==this.gameState&&B.resetCardReal()):(B.showBtnInvite(!0),C[y].isViewer=!0)}for(y=0;y<8;y++)this.getPlayerHouse(y).setOwner(!1);var I=this.findPlayerSeatByPos(n);-1!==I&&(this.getPlayerHouse(I).setOwner(!0),this.seatOwner=I),this.resetHubChips(),this.currentCard.length>0&&o.instance.showCardReal(),r>0&&(1==this.gameState?(this.matchPot.active=!0,this.startBettingCountDown(r)):this.startEndCountDown(r))},e.prototype.showSliderBet=function(){this.arrBetValue=[],this.matchPot.active=!0,this.currentMatchPotValue=0,this.labelMatchPot.string="0";for(var t=0;t<4;t++){this.arrBetValue.push(this.currentRoomBet*(t+1));var e=this.currentRoomBet*(4-t);this.betChooseValue.children[t].children[0].getComponent(cc.Label).string=1500==e?"1.5K":d.default.formatNumberMin(e)}this.getPlayerHouse(0).isViewing||(0==this.seatOwner?(this.btnOpenCard.active=!1,this.btnBet.active=!1,this.matchPot.getComponent(cc.Button).interactable=!1,this.matchPot.children[0].color=cc.Color.GRAY):(this.btnBet.active=!0,this.btnOpenCard.active=!1,this.matchPot.getComponent(cc.Button).interactable=!0,this.matchPot.children[0].color=cc.Color.WHITE,this.setupBet()))},e.prototype.actionLeaveRoom=function(){y.default.getInstance().send(new f.default.CmdSendRequestLeaveGame),this.soundManager.effSound.stop()},e.prototype.actionOpenCard=function(){y.default.getInstance().send(new f.default.CmdSendMoBai),this.btnOpenCard.active=!1},e.prototype.actionSendVaoGa=function(){y.default.getInstance().send(new f.default.SendVaoGa),this.matchPot.children[0].color=cc.Color.WHITE,this.matchPot.getComponent(cc.Button).interactable=!1},e.prototype.actionAcceptDanhBien=function(t,e){y.default.getInstance().send(new f.default.CmdSendAcceptDanhBien(C[e].playerPos)),this.getPlayerHouse(e).closePopupRequestDanhBien(!1)},e.prototype.increaseBetValue=function(){this.currentBetSelectedIndex==this.arrBetValue.length-1||(this.currentBetSelectedIndex+=1),this.betChooseValueTarget.y=this.arrBetPos[this.currentBetSelectedIndex]},e.prototype.actClickBetValue=function(t,e){e=parseInt(e),this.currentBetSelectedIndex=e,this.betChooseValueTarget.y=this.arrBetPos[this.currentBetSelectedIndex]},e.prototype.decreaseBetValue=function(){0==this.currentBetSelectedIndex||(this.currentBetSelectedIndex-=1),this.betChooseValueTarget.y=this.arrBetPos[this.currentBetSelectedIndex]},e.prototype.actionBet=function(){y.default.getInstance().send(new f.default.CmdSendDatCuoc(this.currentBetSelectedIndex+1)),this.btnBet.active=!1;for(var t=0;t<C.length;t++)t===this.seatOwner||C[t].isViewer||-1===C[t].playerId||(this.getPlayerHouse(t).setBet(this.currentRoomBet),this.getPlayerHouse(t).addChips(),0!=t&&(this.getPlayerHouse(t).showPopupBet(!0),this.getPlayerHouse(t).setupBetValue(this.currentRoomBet)))},e.prototype.actionDanhBien=function(t,e){var o=parseInt(e.substring(0,1)),n=parseInt(e.substring(1,2)),i=this.findPlayerPosBySeat(o);-1!=i&&(this.getPlayerHouse(o).disableDanhBien(n),this.getPlayerHouse(o).showChatMsg("\u0110\xe1nh bi\xean"),y.default.getInstance().send(new f.default.CmdSendDanhBien(i,n)))},e.prototype.actionKeCua=function(t,e){var o=parseInt(e.substring(0,1)),n=parseInt(e.substring(1,2))-2,i=this.findPlayerPosBySeat(o);-1!=i&&(this.getPlayerHouse(o).disableKeCua(n),y.default.getInstance().send(new f.default.CmdSendKeCua(i,n)))},e.prototype.initConfigPlayer=function(){C=[];for(var t=0;t<8;t++)C.push({seatId:t,playerId:-1,playerPos:-1,isViewer:!0})},e.prototype.resetPlayersPlaying=function(){for(var t=0;t<8;t++)this.getPlayerHouse(t).resetMatchHistory()},e.prototype.setupSeatPlayer=function(t,e){C[t].playerId=e.nickName;var o=this.getPlayerHouse(t);o.setAvatar(e.avatar),o.setName(e.nickName),o.setGold(e.money),this.gameState>0&&!o.isViewing&&o.showCardReal(!0)},e.prototype.findPlayerSeatByUid=function(t){for(var e=-1,o=0;o<C.length;o++)C[o].playerId===t&&(e=C[o].seatId);return e},e.prototype.findPlayerPosBySeat=function(t){return C[t].playerPos},e.prototype.findPlayerSeatByPos=function(t){if(-1==t)return-1;for(var e=-1,o=0;o<C.length;o++)C[o].playerPos===t&&(e=C[o].seatId);return e},e.prototype.getPlayerHouse=function(t){return this.groupPlayers.children[t].getComponent("BaCay.Player")},e.prototype.getNumPlayers=function(){for(var t=[],e=0;e<C.length;e++)-1===C[e].playerId||C[e].isViewer||t.push(C[e].seatId);return t},e.prototype.showCardReal=function(){this.getPlayerHouse(0).isShowCard=!0;for(var t=this.getPlayerHouse(0).cardReal,e=0;e<3;e++)t.children[e].children[0].getComponent("TienLen.Card").setCardData(p.default.getNormalId(this.currentCard[e]))},e.instance=null,a([R(cc.Toggle)],e.prototype,"toggleMusic",void 0),a([R(cc.Toggle)],e.prototype,"toggleSound",void 0),a([R(cc.Node)],e.prototype,"nodeSetting",void 0),a([R(cc.Node)],e.prototype,"bgChat",void 0),a([R(cc.Node)],e.prototype,"contentChatNhanh",void 0),a([R(cc.Node)],e.prototype,"boxSetting",void 0),a([R(cc.Node)],e.prototype,"UI_Playing",void 0),a([R(cc.Node)],e.prototype,"meCards",void 0),a([R(cc.Node)],e.prototype,"groupPlayers",void 0),a([R(cc.Node)],e.prototype,"matchPot",void 0),a([R(cc.Label)],e.prototype,"labelMatchPot",void 0),a([R(cc.Node)],e.prototype,"cardsDeal",void 0),a([R(cc.Node)],e.prototype,"btnBet",void 0),a([R(cc.Node)],e.prototype,"btnOpenCard",void 0),a([R(cc.Button)],e.prototype,"btnLeaveRoom",void 0),a([R(cc.Node)],e.prototype,"hubChips",void 0),a([R(cc.Label)],e.prototype,"labelRoomId",void 0),a([R(cc.Label)],e.prototype,"labelRoomBet",void 0),a([R(cc.Node)],e.prototype,"actionBetting",void 0),a([R(cc.Node)],e.prototype,"betChooseValue",void 0),a([R(cc.Node)],e.prototype,"betChooseValueTarget",void 0),a([R(cc.Node)],e.prototype,"popupMatchResult",void 0),a([R(cc.Node)],e.prototype,"contentMatchResult",void 0),a([R(cc.Prefab)],e.prototype,"prefabItemResult",void 0),a([R(cc.ScrollView)],e.prototype,"scrollMatchResult",void 0),a([R(cc.Node)],e.prototype,"notifyTimeStart",void 0),a([R(cc.Node)],e.prototype,"notifyTimeEnd",void 0),a([R(cc.Node)],e.prototype,"notifyTimeBet",void 0),a([R(cc.Node)],e.prototype,"UI_Chat",void 0),a([R(cc.EditBox)],e.prototype,"edtChatInput",void 0),a([R(cc.Node)],e.prototype,"popupGuide",void 0),a([R(I)],e.prototype,"nodeShowCard",void 0),o=a([B],e)}(cc.Component);o.default=_,cc._RF.pop()},{"../../Loading/src/Configs":void 0,"../../Lobby/LobbyScript/Script/common/App":void 0,"../../Lobby/LobbyScript/Script/common/BroadcastReceiver":void 0,"../../Lobby/LobbyScript/Script/common/SPUtils":void 0,"../../Lobby/LobbyScript/Script/common/Utils":void 0,"../../Lobby/LobbyScript/Script/networks/Network.InPacket":void 0,"./BaCay.CardUtil":"BaCay.CardUtil","./BaCay.Cmd":"BaCay.Cmd","./BaCay.NetworkClient":"BaCay.NetworkClient","./BaCay.Room":"BaCay.Room"}],"BaCay.ItemResult":[function(t,e,o){"use strict";cc._RF.push(e,"f8789ktNuxEQY435mcEk8v1","BaCay.ItemResult");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../Lobby/LobbyScript/Script/common/Utils"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelUserName=null,e.labelBet=null,e.labelBien=null,e.labelKe=null,e.labelGa=null,e.labelTotal=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.initItem=function(t){this.labelUserName.string=t.userName,this.labelBet.string=r.default.formatNumber(t.bet),this.labelBien.string=r.default.formatNumber(t.bien),this.labelKe.string=r.default.formatNumber(t.ke),this.labelGa.string=r.default.formatNumber(t.ga),this.labelTotal.string=r.default.formatNumber(t.total),this.labelBet.node.color=t.bet>0?cc.Color.YELLOW:cc.Color.WHITE,this.labelBien.node.color=t.bien>0?cc.Color.YELLOW:cc.Color.WHITE,this.labelKe.node.color=t.ke>0?cc.Color.YELLOW:cc.Color.WHITE,this.labelGa.node.color=t.ga>0?cc.Color.YELLOW:cc.Color.WHITE,this.labelTotal.node.color=t.total>0?cc.Color.YELLOW:cc.Color.WHITE},a([l(cc.Label)],e.prototype,"labelUserName",void 0),a([l(cc.Label)],e.prototype,"labelBet",void 0),a([l(cc.Label)],e.prototype,"labelBien",void 0),a([l(cc.Label)],e.prototype,"labelKe",void 0),a([l(cc.Label)],e.prototype,"labelGa",void 0),a([l(cc.Label)],e.prototype,"labelTotal",void 0),a([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../Lobby/LobbyScript/Script/common/Utils":void 0}],"BaCay.ItemRoom":[function(t,e,o){"use strict";cc._RF.push(e,"e07a8lBr39OXr5c0VekIC9q","BaCay.ItemRoom");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../Loading/src/Configs"),c=t("../../Lobby/LobbyScript/Script/common/App"),s=t("../../Lobby/LobbyScript/Script/common/Utils"),l=t("./BaCay.Room"),u=cc._decorator,d=u.ccclass,h=u.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelBet=null,e.labelBetMin=null,e.labelNumPlayers=null,e.progressNumPlayers=null,e.roomInfo=null,e.requireChip=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.initItem=function(t){this.roomInfo=t,this.labelBet.string=s.default.formatNumber(t.id),this.labelBetMin.string=s.default.formatNumber(t.requiredMoney),this.requireChip=t.requiredMoney,this.labelNumPlayers.string=t.userCount+"/"+t.maxUserPerRoom,this.progressNumPlayers.fillRange=t.userCount/t.maxUserPerRoom},e.prototype.chooseRoom=function(){r.default.Login.Coin>=this.requireChip?l.default.instance.joinRoom(this.roomInfo):this.roomInfo.userCount>=this.roomInfo.maxUserPerRoom?c.default.instance.showToast(c.default.instance.getTextLang("txt_room_err9")):c.default.instance.showToast(c.default.instance.getTextLang("txt_not_enough"))},a([h(cc.Label)],e.prototype,"labelBet",void 0),a([h(cc.Label)],e.prototype,"labelBetMin",void 0),a([h(cc.Label)],e.prototype,"labelNumPlayers",void 0),a([h(cc.Sprite)],e.prototype,"progressNumPlayers",void 0),a([d],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../Loading/src/Configs":void 0,"../../Lobby/LobbyScript/Script/common/App":void 0,"../../Lobby/LobbyScript/Script/common/Utils":void 0,"./BaCay.Room":"BaCay.Room"}],"BaCay.ItemRoomz":[function(t,e,o){"use strict";cc._RF.push(e,"3d685Zhk2hBh7Sp5YnmFxWr","BaCay.ItemRoomz");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BaCay.Controller"),c=t("../../Lobby/LobbyScript/Script/common/Utils"),s=cc._decorator,l=s.ccclass,u=s.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelBet=null,e.labelBetMin=null,e.labelNumPlayers=null,e.progressNumPlayers=null,e.roomInfo=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.initItem=function(t){this.roomInfo=t,this.labelBet.string=c.default.formatNumber(t.moneyBet),this.labelBetMin.string=c.default.formatNumber(t.requiredMoney),this.labelNumPlayers.string=t.userCount+"/"+t.maxUserPerRoom,this.progressNumPlayers.fillRange=t.userCount/t.maxUserPerRoom},e.prototype.chooseRoom=function(){r.default.instance.joinRoom(this.roomInfo)},a([u(cc.Label)],e.prototype,"labelBet",void 0),a([u(cc.Label)],e.prototype,"labelBetMin",void 0),a([u(cc.Label)],e.prototype,"labelNumPlayers",void 0),a([u(cc.Sprite)],e.prototype,"progressNumPlayers",void 0),a([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../Lobby/LobbyScript/Script/common/Utils":void 0,"./BaCay.Controller":"BaCay.Controller"}],"BaCay.NetworkClient":[function(t,e,o){"use strict";cc._RF.push(e,"d86bcBhKaBPX7iIPcz+pM23","BaCay.NetworkClient");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../Loading/src/Configs"),r=t("../../Lobby/LobbyScript/Script/networks/Network.NetworkClient"),c=t("../../Lobby/LobbyScript/Script/networks/Network.NetworkListener"),s=function(t){function e(){var e=t.call(this)||this;return e.listeners=new Array,e.isUseWSS=a.default.App.USE_WSS,e}return i(e,t),e.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},e.prototype.connect=function(){t.prototype.connect.call(this,a.default.App.HOST_BACAY.host,a.default.App.HOST_BACAY.port)},e.prototype.onOpen=function(e){t.prototype.onOpen.call(this,e)},e.prototype.onMessage=function(t){for(var e=new Uint8Array(t.data),o=0;o<this.listeners.length;o++){var n=this.listeners[o];n.target&&n.target instanceof Object&&n.target.node?n.callback(e):(this.listeners.splice(o,1),o--)}},e.prototype.addListener=function(t,e){this.listeners.push(new c.default(e,t))},e.prototype.send=function(t){for(var e=new Int8Array(t._length),o=0;o<t._length;o++)e[o]=t._data[o];null!=this.ws&&this.isConnected()&&this.ws.send(e.buffer)},e}(r.default);o.default=s,cc._RF.pop()},{"../../Loading/src/Configs":void 0,"../../Lobby/LobbyScript/Script/networks/Network.NetworkClient":void 0,"../../Lobby/LobbyScript/Script/networks/Network.NetworkListener":void 0}],"BaCay.Player":[function(t,e,o){"use strict";cc._RF.push(e,"a69f2nHXcZBJ4K9vYGrZxlY","BaCay.Player");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../Lobby/LobbyScript/Script/common/App"),c=t("../../Lobby/LobbyScript/Script/common/Utils"),s=cc.tween,l=cc._decorator,u=l.ccclass,d=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnInvite=null,e.avatar=null,e.cardReady=null,e.cardReal=null,e.userName=null,e.userGold=null,e.owner=null,e.cardsName=null,e.actionVaoGa=null,e.actionDanhBien=null,e.actionViewer=null,e.actionThinking=null,e.actionWin=null,e.goldWin=null,e.actionLose=null,e.goldLose=null,e.hub=null,e.goldBet=null,e.prefabItemChip=null,e.notify=null,e.chatEmotion=null,e.chatMsg=null,e.popupBet=null,e.popupRequestDanhBien=null,e.labelValueDanhBien=null,e.dataAnimWin=null,e.fontNumber=[],e.posCardOpened=null,e.timeoutNotify=null,e.timeoutShowCardName=null,e.timeoutChat=null,e.animWinLose=null,e.isShowCard=!1,e.isViewing=!1,e.status=0,e}return i(e,t),e.prototype.start=function(){for(var t=0;t<this.cardReal.childrenCount;t++){var e=this.cardReal.children[t].children[0];e.initPos=e.getPosition()}},e.prototype.updatePosCardOpened=function(t){this.posCardOpened=t},e.prototype.showChatEmotion=function(t){var e=this;this.node.children[7].active=!0,this.chatEmotion.active=!0,this.chatMsg.active=!1,clearTimeout(this.timeoutChat),this.chatEmotion.getComponent(sp.Skeleton).setAnimation(0,t,!0),this.timeoutChat=setTimeout(function(){e.chatEmotion.active=!1,e.chatMsg.active=!1},3e3)},e.prototype.showChatMsg=function(t){var e=this;this.node.children[7].active=!0,this.chatEmotion.active=!1,this.chatMsg.active=!0,clearTimeout(this.timeoutChat),this.chatMsg.getComponentInChildren(cc.Label).string=t,this.timeoutChat=setTimeout(function(){e.chatEmotion.active=!1,e.chatMsg.active=!1},5e3)},e.prototype.showPopupBet=function(t){this.popupBet.active=t,t&&(this.popupBet.children[2].active=!0,this.popupBet.children[3].active=!0,this.popupBet.children[5].active=!0,this.popupBet.children[6].active=!0,this.setCanDanhBien(!0),this.setCanKeCua(!0))},e.prototype.setupBetValue=function(t){this.popupBet.children[2].children[1].getComponent(cc.Label).string=c.default.formatNumber(t),this.popupBet.children[3].children[1].getComponent(cc.Label).string=c.default.formatNumber(2*t),this.popupBet.children[5].children[1].getComponent(cc.Label).string=c.default.formatNumber(t),this.popupBet.children[6].children[1].getComponent(cc.Label).string=c.default.formatNumber(2*t)},e.prototype.disableDanhBien=function(t){1==t?this.popupBet.children[3].active=!1:this.popupBet.children[2].active=!1,this.setCanDanhBien(!1)},e.prototype.disableKeCua=function(t){1==t?this.popupBet.children[6].active=!1:this.popupBet.children[5].active=!1,this.setCanKeCua(!1)},e.prototype.setCanDanhBien=function(t){this.popupBet.children[2].getComponent(cc.Button).interactable=t,this.popupBet.children[3].getComponent(cc.Button).interactable=t},e.prototype.setCanKeCua=function(t){this.popupBet.children[5].getComponent(cc.Button).interactable=t,this.popupBet.children[6].getComponent(cc.Button).interactable=t},e.prototype.showBtnInvite=function(t){this.btnInvite.active=t},e.prototype.setOwner=function(t){this.owner.active=t},e.prototype.setAvatar=function(t){this.node.children[1].active=!0,this.avatar.getComponent(cc.Sprite).spriteFrame=r.default.instance.getAvatarSpriteFrame(t)},e.prototype.setIsViewer=function(t){this.isViewing=t,this.avatar.color=t?cc.Color.GRAY:cc.Color.WHITE,cc.find("Info/BG",this.node).color=t?cc.Color.GRAY:cc.Color.WHITE,cc.find("Info/UserName",this.node).color=t?cc.Color.GRAY:cc.Color.WHITE,cc.find("Info/userGold",this.node).color=t?cc.Color.GRAY:cc.Color.WHITE},e.prototype.setName=function(t){this.node.children[3].active=!0,this.userName.string=t},e.prototype.showCardReady=function(t){this.node.children[2].active=!0,this.cardReady.active=t},e.prototype.showCardReal=function(t){this.cardsName.active=!1,this.node.children[2].active=!0,this.cardReal.active=t},e.prototype.prepareToTransform=function(){this.prepareCardReal(0),this.prepareCardReal(1),this.prepareCardReal(2)},e.prototype.prepareCardReal=function(t){this.cardReal.children[t].runAction(cc.scaleTo(0,0,1))},e.prototype.transformToCardReal=function(t,e,o){void 0===o&&(o=null),this.cardReady.children[t];var n=this.cardReal.children[t].children[0].getComponent("TienLen.Card"),i=.1*o;this.effCard(n,i,e),this.isShowCard=!0},e.prototype.effCard=function(t,e,o){var n=t.node.initPos;cc.Tween.stopAllByTarget(t.node),s(t.node).delay(e).to(.15,{scaleX:0,scaleY:1.05,skewX:0,skewY:-15},{easing:cc.easing.cubicOut}).call(function(){t.setCardData(52),t.node.skewY=15}).to(.15,{scale:1.05,skewX:0,skewY:0},{easing:cc.easing.cubicOut}).to(.15,{scaleX:0,scaleY:1.05,skewX:0,skewY:-15},{easing:cc.easing.cubicOut}).call(function(){t.setCardData(o),t.node.skewY=15}).to(.15,{scale:1,skewX:0,skewY:0},{easing:cc.easing.cubicOut}).call(function(){}).start(),s(t.node).delay(e).to(.3,{position:cc.v2(n.x,n.y+30)},{easing:cc.easing.cubicOut}).to(.3,{position:n},{easing:cc.easing.cubicOut}).start()},e.prototype.showCardName=function(t){this.cardsName.active=!0,this.cardsName.children[0].getComponent(cc.Label).string=t},e.prototype.setGold=function(t){this.actionThinking.active=!1,this.showGold(!0),this.userGold.string=this.formatGold(t)},e.prototype.setBet=function(t){this.showPlayerBet(!0),this.goldBet.string=this.formatGold(t)},e.prototype.addChips=function(){var t=cc.instantiate(this.prefabItemChip),e=cc.instantiate(this.prefabItemChip);this.hub.addChild(t),this.hub.addChild(e)},e.prototype.showPlayerBet=function(t){this.node.children[5].active=t,t||this.hub.removeAllChildren(!0)},e.prototype.setCardReal01=function(t){this.cardReal.children[0].children[0].getComponent(cc.Sprite).spriteFrame=t},e.prototype.setCardReal02=function(t){this.cardReal.children[1].children[0].getComponent(cc.Sprite).spriteFrame=t},e.prototype.showPlayCountdown=function(){this.node.children[4].active=!0,this.actionThinking.active=!0,this.processThinking(0)},e.prototype.hidePlayCountdown=function(){this.actionThinking.active=!1},e.prototype.processThinking=function(t){this.actionThinking.getComponent(cc.Sprite).fillRange=t},e.prototype.showGold=function(t){this.node.children[3].children[2].active=t},e.prototype.showPopupRequestDanhBien=function(t){this.popupRequestDanhBien.active=!0,this.labelValueDanhBien.string=this.formatGold(t)},e.prototype.closePopupRequestDanhBien=function(){this.popupRequestDanhBien.active=!1},e.prototype.prepareFxAction=function(){this.node.children[4].active=!0,this.resetAction()},e.prototype.playFxDanhBien=function(){this.node.children[4].active=!0,this.actionDanhBien.active=!0,this.actionDanhBien.runAction(cc.sequence(cc.scaleTo(0,0),cc.scaleTo(.1,1.1,1.1),cc.scaleTo(.05,1,1)))},e.prototype.playFxVaoGa=function(){this.node.children[4].active=!0,this.actionVaoGa.active=!0,this.actionVaoGa.runAction(cc.sequence(cc.scaleTo(0,0),cc.scaleTo(.1,1.1,1.1),cc.scaleTo(.05,1,1)))},e.prototype.playFxViewer=function(){this.prepareFxAction(),this.actionViewer.active=!0},e.prototype.fxOtherPlayerFold=function(){this.cardReady.runAction(cc.moveBy(.5,0,-100))},e.prototype.fxMeFold=function(){this.shadowCardReal(!0),this.cardReal.runAction(cc.moveBy(.5,0,-20))},e.prototype.showEatGa=function(t){var e=this.node.getChildByName("Action").getChildByName("Fx An Ga");e.active=t,s(e).set({y:48}).to(1,{y:100},{easing:cc.easing.backOut}).start()},e.prototype.fxWin=function(t){var e=this;this.node.children[4].active=!0,this.actionWin.active=!0,this.fxGoldChange(0,t.moneyChange,this.goldWin.node),this.setGold(this.formatGold(t.money)),this.showEatGa(t.ga>0),setTimeout(function(){e.actionWin.active=!1,e.node.children[4].active=!1,e.hideAnimWinLose()},3e3),this.showAnimWinLose(!0)},e.prototype.fxLose=function(t){var e=this;this.node.children[4].active=!0,this.actionLose.active=!0,this.fxGoldChange(0,t.moneyChange,this.goldLose.node),this.setGold(this.formatGold(t.money)),setTimeout(function(){e.actionLose.active=!1,e.node.children[4].active=!1,e.hideAnimWinLose()},3e3),this.showAnimWinLose(!1)},e.prototype.shadowCardReady=function(t){this.cardReady.children[0].color=t?cc.Color.GRAY:cc.Color.WHITE,this.cardReady.children[1].color=t?cc.Color.GRAY:cc.Color.WHITE,this.cardReady.children[2].color=t?cc.Color.GRAY:cc.Color.WHITE},e.prototype.shadowCardReal=function(t){this.cardReal.children[0].children[0].color=t?cc.Color.GRAY:cc.Color.WHITE,this.cardReal.children[1].children[0].color=t?cc.Color.GRAY:cc.Color.WHITE,this.cardReal.children[2].children[0].color=t?cc.Color.GRAY:cc.Color.WHITE},e.prototype.setCardWin=function(t,e){this.cardReal.children[t].children[0].color=e?cc.Color.WHITE:cc.Color.GRAY},e.prototype.showNotify=function(t){var e=this;this.notify.active=!0,this.notify.children[1].getComponent(cc.Label).string=t,clearTimeout(this.timeoutNotify),this.timeoutNotify=setTimeout(function(){e.notify.active=!1},1500)},e.prototype.showLeaveRoom=function(t){this.notify.active=t},e.prototype.resetAction=function(){for(var t=0;t<this.node.children[4].childrenCount;t++)this.node.children[4].children[t].active=!1},e.prototype.resetMatchHistory=function(){this.resetCardReady(),this.resetCardReal(),this.node.children[2].active=!1,this.showGold(!0),this.cardsName.active=!1,this.resetAction(),this.node.children[5].active=!1,this.goldBet.string="0",this.hub.removeAllChildren(!0)},e.prototype.resetCardReady=function(){this.cardReady.children[0].scale=1,this.cardReady.children[1].scale=1,this.cardReady.children[2].scale=1,this.cardReady.active=!1},e.prototype.resetCardReal=function(){this.cardReal.active=!1,this.cardReal.y=0,this.cardReal.children[0].children[0].getComponent("TienLen.Card").setCardData(52),this.cardReal.children[1].children[0].getComponent("TienLen.Card").setCardData(52),this.cardReal.children[2].children[0].getComponent("TienLen.Card").setCardData(52),this.shadowCardReal(!1)},e.prototype.resetPlayerInfo=function(){for(var t=0;t<this.node.childrenCount;t++)this.node.children[t].active=!1;this.cardReal.children[0].children[0].getComponent("TienLen.Card").setCardData(52),this.cardReal.children[1].children[0].getComponent("TienLen.Card").setCardData(52),this.cardReal.children[2].children[0].getComponent("TienLen.Card").setCardData(52),this.cardReady.active=!1,this.cardReal.active=!1,this.cardsName.active=!1,this.actionVaoGa.active=!1,this.actionDanhBien.active=!1,this.actionViewer.active=!1,this.actionThinking.active=!1,this.actionWin.active=!1,this.actionLose.active=!1,this.goldBet.string="0",this.hub.removeAllChildren(!0),this.setIsViewer(!0)},e.prototype.fxGoldChange=function(t,e,o){var n=this,i=e-t;o.getComponent(cc.Label).string=this.formatGold(t),o.getComponent(cc.Label).font=i>0?this.fontNumber[0]:this.fontNumber[1],o.getComponent(cc.Label).fontSize=20,o.y=i>0?16:21;var a=Math.floor(i/10),r=cc.repeat(cc.sequence(cc.delayTime(.05),cc.callFunc(function(){t+=a,o.getComponent(cc.Label).string=(i>0?"+":"")+n.formatGold(t)})),10),c=cc.sequence(r,cc.callFunc(function(){t=e,o.getComponent(cc.Label).string=(i>0?"+":"")+n.formatGold(t)}));o.runAction(c)},e.prototype.formatGold=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},e.prototype.showAnimWinLose=function(t){null==this.animWinLose&&(this.animWinLose=new cc.Node("animWinLose").addComponent(sp.Skeleton),this.animWinLose.skeletonData=this.dataAnimWin,this.animWinLose.node.parent=this.node),this.animWinLose.node.active=!0;var e=t?"th\u1eafng3":"thua";this.animWinLose.node.scale=t?.6:.7;var o=t?cc.v2(0,-87):cc.v2(-40,-87);this.animWinLose.node.setPosition(o),this.animWinLose.setAnimation(0,e,!0)},e.prototype.hideAnimWinLose=function(){null!=this.animWinLose&&(this.animWinLose.node.active=!1)},a([d(cc.Node)],e.prototype,"btnInvite",void 0),a([d(cc.Node)],e.prototype,"avatar",void 0),a([d(cc.Node)],e.prototype,"cardReady",void 0),a([d(cc.Node)],e.prototype,"cardReal",void 0),a([d(cc.Label)],e.prototype,"userName",void 0),a([d(cc.Label)],e.prototype,"userGold",void 0),a([d(cc.Node)],e.prototype,"owner",void 0),a([d(cc.Node)],e.prototype,"cardsName",void 0),a([d(cc.Node)],e.prototype,"actionVaoGa",void 0),a([d(cc.Node)],e.prototype,"actionDanhBien",void 0),a([d(cc.Node)],e.prototype,"actionViewer",void 0),a([d(cc.Node)],e.prototype,"actionThinking",void 0),a([d(cc.Node)],e.prototype,"actionWin",void 0),a([d(cc.Label)],e.prototype,"goldWin",void 0),a([d(cc.Node)],e.prototype,"actionLose",void 0),a([d(cc.Label)],e.prototype,"goldLose",void 0),a([d(cc.Node)],e.prototype,"hub",void 0),a([d(cc.Label)],e.prototype,"goldBet",void 0),a([d(cc.Prefab)],e.prototype,"prefabItemChip",void 0),a([d(cc.Node)],e.prototype,"notify",void 0),a([d(cc.Node)],e.prototype,"chatEmotion",void 0),a([d(cc.Node)],e.prototype,"chatMsg",void 0),a([d(cc.Node)],e.prototype,"popupBet",void 0),a([d(cc.Node)],e.prototype,"popupRequestDanhBien",void 0),a([d(cc.Label)],e.prototype,"labelValueDanhBien",void 0),a([d(sp.SkeletonData)],e.prototype,"dataAnimWin",void 0),a([d([cc.BitmapFont])],e.prototype,"fontNumber",void 0),a([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../Lobby/LobbyScript/Script/common/App":void 0,"../../Lobby/LobbyScript/Script/common/Utils":void 0}],"BaCay.Room":[function(t,e,o){"use strict";cc._RF.push(e,"bef07HH7BlP/btnMHOsS2YX","BaCay.Room");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.SoundManager=void 0;var r,c=t("../../Loading/src/Configs"),s=t("../../Lobby/LobbyScript/Script/common/App"),l=t("../../Lobby/LobbyScript/Script/common/BroadcastReceiver"),u=t("../../Lobby/LobbyScript/Script/common/SPUtils"),d=t("../../Lobby/LobbyScript/Script/common/Utils"),h=t("../../Lobby/LobbyScript/Script/networks/Network.InPacket"),p=t("./BaCay.Cmd"),f=t("./BaCay.NetworkClient"),y=t("../../Lobby/LobbyScript/Script/networks/Network.Cmd"),g=t("../../Lobby/LobbyScript/Script/common/Common.AudioManager");(function(t){t[t.BG=0]="BG",t[t.LOSE=1]="LOSE",t[t.WIN=2]="WIN",t[t.CHIA_BAI=3]="CHIA_BAI",t[t.CHIP=4]="CHIP",t[t.CLOCK=5]="CLOCK",t[t.START_BET=6]="START_BET"})(r||(r={}));var m=cc._decorator,C=m.ccclass,v=m.property,b=function(){function t(){this.bgMusic=null,this.effSound=null,this.listAudio=[]}return t.prototype.playBgMusic=function(){g.default.getInstance().playBackgroundMusic(this.listAudio[r.BG])},t.prototype.playAudioEffect=function(t){u.default.getSoundVolumn()>0&&cc.audioEngine.play(this.listAudio[t],!1,1)},t.prototype.stopAudioEffect=function(){cc.audioEngine.stopAll()},t.prototype.stopBgMusic=function(){this.bgMusic.stop()},a([v(cc.AudioSource)],t.prototype,"bgMusic",void 0),a([v(cc.AudioSource)],t.prototype,"effSound",void 0),a([v([cc.AudioClip])],t.prototype,"listAudio",void 0),a([C("BaCay.Room.SoundManager")],t)}();o.SoundManager=b;var B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemListTemp=null,e.contentListRooms=null,e.labelNickName=null,e.labelCoin=null,e.scrRoom=null,e.UI_Playing=null,e.uiInGamePr=null,e.btnHideRoomFull=null,e.edtFindRoom=null,e.soundManager=null,e.listDataRoom=[],e.listFullRoom=[],e.isInitedUIRoom=!1,e.isSortRoom=!1,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this},e.prototype.start=function(){this.showUIRooms(),s.default.instance.showErrLoading("\u0110ang k\u1ebft n\u1ed1i t\u1edbi server..."),f.default.getInstance().addOnOpen(function(){s.default.instance.showErrLoading("\u0110ang \u0111\u0103ng nh\u1eadp..."),f.default.getInstance().send(new y.default.SendLogin(c.default.Login.Nickname,c.default.Login.AccessToken))},this),f.default.getInstance().addOnClose(function(){s.default.instance.loadScene("Lobby")},this),f.default.getInstance().connect(),this.soundManager.playBgMusic()},e.prototype.showUIRooms=function(){var t=this;this.isInitedUIRoom?l.default.send(l.default.USER_UPDATE_COIN):(this.isInitedUIRoom=!0,this.labelNickName.string=c.default.Login.Nickname,l.default.register(l.default.USER_UPDATE_COIN,function(){t.labelCoin.string=d.default.formatNumber(c.default.Login.Coin)},this),l.default.send(l.default.USER_UPDATE_COIN),this.setupListener())},e.prototype.refeshListRoom=function(){s.default.instance.showLoading(!0),f.default.getInstance().send(new p.default.SendGetListRoom)},e.prototype.setupListener=function(){var t=this;f.default.getInstance().addListener(function(e){switch(new h.default(e).getCmdId()){case p.default.Code.LOGIN:t.refeshListRoom(),f.default.getInstance().send(new p.default.CmdReconnectRoom);break;case p.default.Code.TOPSERVER:(n=new p.default.ReceivedTopServer(e)).rankType,n.topDay_money,n.topWeek_money,n.topMonth_money;break;case p.default.Code.CMD_PINGPONG:case p.default.Code.CMD_JOIN_ROOM:case p.default.Code.CMD_RECONNECT_ROOM:case p.default.Code.MONEY_BET_CONFIG:break;case p.default.Code.JOIN_ROOM_FAIL:var o="L\u1ed7i "+(n=new p.default.ReceivedJoinRoomFail(e)).getError()+", kh\xf4ng x\xe1c \u0111\u1ecbnh.";switch(n.getError()){case 1:o=s.default.instance.getTextLang("txt_room_err1");break;case 3:o=s.default.instance.getTextLang("txt_room_err3");break;case 2:case 4:o=s.default.instance.getTextLang("txt_room_err2");break;case 5:o=s.default.instance.getTextLang("txt_room_err5");break;case 6:o=s.default.instance.getTextLang("txt_room_err6");break;case 7:o=s.default.instance.getTextLang("txt_room_err7");break;case 8:o=s.default.instance.getTextLang("txt_room_err8");break;case 9:o=s.default.instance.getTextLang("txt_room_err9");break;case 10:o=s.default.instance.getTextLang("txt_room_err10")}s.default.instance.alertDialog.showMsg(o),s.default.instance.showLoading(!1);break;case p.default.Code.GET_LIST_ROOM:var n=new p.default.ReceivedGetListRoom(e);t.listDataRoom=n.list,t.listDataRoom.sort(function(t,e){return t.moneyBet-e.moneyBet}),t.reloadListRoom(t.listDataRoom);break;case p.default.Code.JOIN_GAME_ROOM_BY_ID:break;case p.default.Code.JOIN_ROOM_SUCCESS:n=new p.default.ReceivedJoinRoomSucceed(e);var i=function(e){t.UI_Playing.getComponent("BaCay.Controller").setupMatch(e)};t.showUIPlaying(n,i);break;case p.default.Code.THONG_TIN_BAN_CHOI:s.default.instance.showLoading(!1),n=new p.default.ReceivedGameInfo(e),i=function(e){t.UI_Playing.getComponent("BaCay.Controller").actReJoinRoom(e)},t.showUIPlaying(n,i);break;case p.default.Code.LOGOUT:}},this)},e.prototype.showUIPlaying=function(t,e){var o=this;null==this.UI_Playing?(s.default.instance.showLoading(!0),cc.assetManager.getBundle("BaCay").load("prefabs/UI_Play",cc.Prefab,function(){},function(n,i){s.default.instance.showLoading(!1),o.UI_Playing=cc.instantiate(i),o.UI_Playing.parent=o.node.parent,o.UI_Playing.active=!0,o.node.active=!1,e(t),o.closeUIRoom()})):(s.default.instance.showLoading(!1),this.UI_Playing.active=!0,this.node.active=!1,e(t))},e.prototype.createRoom=function(){f.default.getInstance().send(new p.default.SendCreateRoom(1,8,500,0,8,"","",1e4))},e.prototype.hideRoomFull=function(){var t=this;this.listFullRoom=[],this.btnHideRoomFull.isChecked?(this.listDataRoom.forEach(function(e){e.roomInfo.userCount==e.roomInfo.maxUserPerRoom&&t.listFullRoom.push(e)}),this.reloadListRoom(this.listFullRoom)):this.reloadListRoom(this.listDataRoom)},e.prototype.findRoomId=function(){var t=this.edtFindRoom.string.trim();if(t.length>0){var e,o=parseInt(t);e=this.listDataRoom.find(function(t){return t.id==o}),this.reloadListRoom([e])}else this.reloadListRoom(this.listDataRoom)},e.prototype.backToLobby=function(){f.default.getInstance().close(),s.default.instance.loadScene("Lobby")},e.prototype.reloadListRoom=function(t){this.listDataRoom=t,s.default.instance.showLoading(!1);for(var e=t.length>this.contentListRooms.children.length?t.length:this.contentListRooms.children.length,o=0;o<e;o++){var n=t[o],i=this.contentListRooms.children[o];n?(i||((i=cc.instantiate(this.itemListTemp)).parent=this.contentListRooms),i.active=!0,i.getComponent("BaCay.ItemRoom").initItem(n)):i&&(i.active=!1)}},e.prototype.onBtnSortRoomId=function(){0==this.isSortRoom?this.listDataRoom&&this.listDataRoom.sort(function(t,e){return t.id-e.id}):this.listDataRoom&&this.listDataRoom.sort(function(t,e){return e.id-t.id}),this.isSortRoom=!this.isSortRoom,this.reloadListRoom(this.listDataRoom)},e.prototype.onBtnSortRoomMoney=function(){0==this.isSortMoney?this.listDataRoom&&this.listDataRoom.sort(function(t,e){return t.requiredMoney-e.requiredMoney}):this.listDataRoom&&this.listDataRoom.sort(function(t,e){return e.requiredMoney-t.requiredMoney}),this.isSortMoney=!this.isSortMoney,this.reloadListRoom(this.listDataRoom)},e.prototype.joinRoom=function(t){c.default.Login.Coin<t.requiredMoney?s.default.instance.alertDialog.showMsg(s.default.instance.getTextLang("txt_not_enough_money")):(s.default.instance.showLoading(!0),f.default.getInstance().send(new p.default.SendJoinRoomById(t.id)))},e.prototype.playingNow=function(){for(var t=[],e=0;e<this.contentListRooms.childrenCount;e++)(n=this.contentListRooms.children[e].getComponent("BaCay.ItemRoom")).roomInfo.requiredMoney<c.default.Login.Coin&&t.push(e);if(t.length>0){var o=t[0];for(e=0;e<t.length;e++){var n=this.contentListRooms.children[t[e]].getComponent("BaCay.ItemRoom"),i=this.contentListRooms.children[o].getComponent("BaCay.ItemRoom");n.roomInfo.userCount>i.roomInfo.userCount&&(o=t[e])}var a=this.contentListRooms.children[o].getComponent("BaCay.ItemRoom");this.joinRoom(a.roomInfo)}else s.default.instance.alertDialog.showMsg(s.default.instance.getTextLang("txt_not_enough_money"))},e.prototype.closeUIRoom=function(){this.node.active=!1},e.instance=null,a([v(cc.Prefab)],e.prototype,"itemListTemp",void 0),a([v(cc.Node)],e.prototype,"contentListRooms",void 0),a([v(cc.Label)],e.prototype,"labelNickName",void 0),a([v(cc.Label)],e.prototype,"labelCoin",void 0),a([v(cc.ScrollView)],e.prototype,"scrRoom",void 0),a([v(cc.Node)],e.prototype,"UI_Playing",void 0),a([v(cc.Prefab)],e.prototype,"uiInGamePr",void 0),a([v(cc.Toggle)],e.prototype,"btnHideRoomFull",void 0),a([v(cc.EditBox)],e.prototype,"edtFindRoom",void 0),a([v(b)],e.prototype,"soundManager",void 0),o=a([C],e)}(cc.Component);o.default=B,cc._RF.pop()},{"../../Loading/src/Configs":void 0,"../../Lobby/LobbyScript/Script/common/App":void 0,"../../Lobby/LobbyScript/Script/common/BroadcastReceiver":void 0,"../../Lobby/LobbyScript/Script/common/Common.AudioManager":void 0,"../../Lobby/LobbyScript/Script/common/SPUtils":void 0,"../../Lobby/LobbyScript/Script/common/Utils":void 0,"../../Lobby/LobbyScript/Script/networks/Network.Cmd":void 0,"../../Lobby/LobbyScript/Script/networks/Network.InPacket":void 0,"./BaCay.Cmd":"BaCay.Cmd","./BaCay.NetworkClient":"BaCay.NetworkClient"}]},{},["BaCay.CardUtil","BaCay.Cmd","BaCay.Controller","BaCay.ItemResult","BaCay.ItemRoom","BaCay.ItemRoomz","BaCay.NetworkClient","BaCay.Player","BaCay.Room"]);