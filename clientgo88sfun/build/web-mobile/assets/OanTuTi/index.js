window.__require=function t(e,i,o){function n(r,s){if(!i[r]){if(!e[r]){var l=r.split("/");if(l=l[l.length-1],!e[l]){var c="function"==typeof __require&&__require;if(!s&&c)return c(l,!0);if(a)return a(l,!0);throw new Error("Cannot find module '"+r+"'")}r=l}var p=i[r]={exports:{}};e[r][0].call(p.exports,function(t){return n(e[r][1][t]||t)},p,p.exports,t,e,i,o)}return i[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)n(o[r]);return n}({"OanTuTi.OanTuTiController":[function(t,e,i){"use strict";cc._RF.push(e,"efd21JpQ3BI1om0o4SIUbj2","OanTuTi.OanTuTiController");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,o){var n,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,i,r):n(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../../Loading/src/Configs"),s=t("../../Lobby/LobbyScript/MiniGame"),l=t("../../Lobby/LobbyScript/Script/common/App"),c=t("../../Lobby/LobbyScript/Script/common/BroadcastReceiver"),p=t("../../Lobby/LobbyScript/Script/common/Utils"),u=t("../../Lobby/LobbyScript/Script/networks/ShootFishNetworkClient"),h=t("./OanTuTi.PopupCoinTransfer"),d=t("../../Loading/src/Http"),g=t("../../Lobby/LobbyScript/Script/common/SPUtils"),b=cc._decorator,f=b.ccclass,m=b.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lblCoin=null,e.lblBet=null,e.btnBets=[],e.btnPlayNow=null,e.panelSelectBet=null,e.players=null,e.mePlayer=null,e.otherPlayer=null,e.panelSearchingMatch=null,e.panelPlaying=null,e.panelResult=null,e.lblSearching=null,e.btnCancel=null,e.lblTime=null,e.progressTime=null,e.btnPlays=[],e.sprPlaysActive=[],e.sprPlaysNormal=[],e.sprResults=[],e.toggleAuto=null,e.popups=[],e.popupCoinTransfer=null,e.listBet=[1e3,5e3,1e4,5e4,1e5],e.timePlaying=10,e.remainTime=0,e.lastBetValue=0,e.isPlaying=!1,e}return n(e,t),e.prototype.start=function(){var t=this;c.default.register(c.default.USER_UPDATE_COIN,function(){t.node.active&&(t.lblCoin.string=p.default.formatNumber(r.default.Login.CoinFish))},this),c.default.send(c.default.USER_UPDATE_COIN),u.default.getInstance().addListener(function(e,i){if(t.node.active)switch(["OttOnMatching","OttOnMatchStart","OttOnMatchEnd","OttOnMatchSolved"].indexOf(e),e){case"OttOnMatching":var o="",n="";i.userId1==r.default.Login.UserIdFish?(o=i.nickname2,n=i.avatar2):(o=i.nickname1,n=i.avatar1),t.panelSelectBet.active=!1,t.panelPlaying.active=!1,t.players.active=!0,t.lblSearching.string="\u0110\xc3 T\xccM TH\u1ea4Y \u0110\u1ed0I TH\u1ee6",t.btnCancel.node.active=!1,t.otherPlayer.active=!0,t.otherPlayer.getChildByName("lblNickname").getComponent(cc.Label).string=o,t.otherPlayer.getChildByName("sprAvatar").getComponent(cc.Sprite).spriteFrame=l.default.instance.getAvatarSpriteFrame(n),t.lblBet.string="C\u01af\u1ee2C: "+Math.floor(i.blind/1e3)+"K";break;case"OttOnMatchStart":t.panelSearchingMatch.active=!1,t.panelPlaying.active=!0,t.panelResult.active=!1,t.players.active=!0,t.remainTime=t.timePlaying,t.lblTime.node.parent.active=!0,t.progressTime.fillRange=1;for(var a=0;a<t.btnPlays.length;a++)t.btnPlays[a].interactable=!0,t.btnPlays[a].getComponent(cc.Sprite).spriteFrame=t.sprPlaysActive[a];break;case"OttOnMatchEnd":var s=i.result,u=i.changeCash1,h=i.changeCash2,d=i.blind,g=t.panelResult.getChildByName("lblWin"),b=t.panelResult.getChildByName("lblLose");i.userId1==r.default.Login.UserIdFish?(0!=s&&(1==s?g.getComponent(cc.Label).string="+"+p.default.formatNumber(u):b.getComponent(cc.Label).string=p.default.formatNumber(-d)),r.default.Login.CoinFish=i.cash1):(0!=s&&(2==s?g.getComponent(cc.Label).string="+"+p.default.formatNumber(h):b.getComponent(cc.Label).string=p.default.formatNumber(-d)),r.default.Login.CoinFish=i.cash2),c.default.send(c.default.USER_UPDATE_COIN),t.scheduleOnce(function(){t.resetView(),t.toggleAuto.isChecked?t.selectBet(t.lastBetValue):t.isPlaying=!1},5);case"OttOnMatchSolved":t.panelResult.active=!0,t.lblTime.node.parent.active=!1,s=i.result;var f=i.choice1,m=i.choice2,y=t.panelResult.getChildByName("meValue"),v=t.panelResult.getChildByName("otherValue"),C=y.getChildByName("active"),L=v.getChildByName("active");(g=t.panelResult.getChildByName("lblWin")).active=!1,(b=t.panelResult.getChildByName("lblLose")).active=!1;var S=t.panelResult.getChildByName("hoa");S.active=!1;var P=t.panelResult.getChildByName("thang");P.active=!1;var T=t.panelResult.getChildByName("thua");if(T.active=!1,i.userId1==r.default.Login.UserIdFish){for(y.getComponent(cc.Sprite).spriteFrame=t.sprResults[f],v.getComponent(cc.Sprite).spriteFrame=t.sprResults[m],a=0;a<t.btnPlays.length;a++)t.btnPlays[a].interactable=!1,t.btnPlays[a].getComponent(cc.Sprite).spriteFrame=f==a?t.sprPlaysActive[a]:t.sprPlaysNormal[a];0==s?(S.active=!0,S.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),C.active=!0,L.active=!0):1==s?(P.active=!0,P.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),g.active=!0,C.active=!0,L.active=!1):(T.active=!0,T.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),b.active=!0,C.active=!1,L.active=!0)}else{for(y.getComponent(cc.Sprite).spriteFrame=t.sprResults[m],v.getComponent(cc.Sprite).spriteFrame=t.sprResults[f],a=0;a<t.btnPlays.length;a++)t.btnPlays[a].interactable=!1,t.btnPlays[a].getComponent(cc.Sprite).spriteFrame=m==a?t.sprPlaysActive[a]:t.sprPlaysNormal[a];0==s?(S.active=!0,S.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),C.active=!0,L.active=!0):2==s?(P.active=!0,P.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),g.active=!0,C.active=!0,L.active=!1):(T.active=!0,T.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),b.active=!0,C.active=!1,L.active=!0)}}},this);for(var e=function(e){i.btnBets[e].node.on("click",function(){t.selectBet(t.listBet[e])})},i=this,o=0;o<this.btnBets.length;o++)e(o);var n=function(e){a.btnPlays[e].node.on("click",function(){t.play(e)})},a=this;for(o=0;o<this.btnPlays.length;o++)n(o)},e.prototype.update=function(t){if(this.remainTime>0){this.remainTime=Math.max(0,this.remainTime-t);var e=Math.round(this.remainTime);this.lblTime.string=(e>9?"":"0")+e,this.progressTime.fillRange=this.remainTime/this.timePlaying}},e.prototype.show=function(){this.node.active?this.reOrder():(t.prototype.show.call(this),this.toggleAuto.isChecked=!1,this.resetView())},e.prototype._onShowed=function(){var e=this;t.prototype._onShowed.call(this),u.default.getInstance().checkConnect(function(t){e.node.active&&(t?(c.default.send(c.default.USER_UPDATE_COIN),r.default.Login.CoinFish<=0&&l.default.instance.confirmDialog.show3("Ti\u1ec1n trong game c\u1ee7a b\u1ea1n \u0111\xe3 h\u1ebft, b\u1ea1n c\xf3 mu\u1ed1n chuy\u1ec3n ti\u1ec1n v\xe0o kh\xf4ng?","C\xf3",function(t){t&&e.popupCoinTransfer.show()})):e.dismiss())})},e.prototype.actBack=function(){this.isPlaying?l.default.instance.alertDialog.showMsg("B\u1ea1n \u0111ang ch\u01a1i kh\xf4ng th\u1ec3 tho\xe1t."):(cc.audioEngine.stopAll(),l.default.instance.loadScene("Lobby"))},e.prototype.actLogin=function(){var t=this,e=r.default.Login.Username,i=r.default.Login.Password;l.default.instance.showLoading(!0),d.default.get(r.default.App.API,{c:3,un:e,pw:md5(i)},function(o,n){if(l.default.instance.showLoading(!1),null==o)switch(parseInt(n.errorCode)){case 0:r.default.Login.AccessToken=n.accessToken,r.default.Login.SessionKey=n.sessionKey,r.default.Login.Username=e,r.default.Login.Password=i,r.default.Login.IsLogin=!0;var a=JSON.parse(base64.decode(r.default.Login.SessionKey));r.default.Login.Nickname=a.nickname,r.default.Login.Avatar=a.avatar,r.default.Login.Coin=a.vinTotal,r.default.Login.LuckyWheel=a.luckyRotate,r.default.Login.IpAddress=a.ipAddress,r.default.Login.CreateTime=a.createTime,r.default.Login.Birthday=a.birthday,r.default.Login.Birthday=a.birthday,r.default.Login.VipPoint=a.vippoint,r.default.Login.VipPointSave=a.vippointSave,g.default.setUserName(r.default.Login.Username),g.default.setUserPass(r.default.Login.Password),l.default.instance.buttonMiniGame.show(),c.default.send(c.default.USER_INFO_UPDATED);break;case 1007:l.default.instance.alertDialog.showMsg("Th\xf4ng tin \u0111\u0103ng nh\u1eadp kh\xf4ng h\u1ee3p l\u1ec7.");break;case 2001:t.popupUpdateNickname.show2(e,i);break;default:l.default.instance.alertDialog.showMsg("\u0110\u0103ng nh\u1eadp kh\xf4ng th\xe0nh c\xf4ng vui l\xf2ng th\u1eed l\u1ea1i sau.")}else l.default.instance.alertDialog.showMsg("\u0110\u0103ng nh\u1eadp kh\xf4ng th\xe0nh c\xf4ng, vui l\xf2ng ki\u1ec3m tra l\u1ea1i k\u1ebft n\u1ed1i.")})},e.prototype.dismiss=function(){if(this.isPlaying)l.default.instance.alertDialog.showMsg("B\u1ea1n \u0111ang ch\u01a1i kh\xf4ng th\u1ec3 tho\xe1t.");else{t.prototype.dismiss.call(this);for(var e=0;e<this.popups.length;e++)this.popups[e].active=!1}},e.prototype.resetView=function(){this.lblBet.string="CH\u1eccN C\u01af\u1ee2C",this.panelSelectBet.active=!0,this.panelPlaying.active=!1,this.panelResult.active=!1,this.players.active=!1,this.panelSearchingMatch.active=!1,this.mePlayer.active=!0,this.mePlayer.getChildByName("sprAvatar").getComponent(cc.Sprite).spriteFrame=l.default.instance.getAvatarSpriteFrame(r.default.Login.Avatar),this.otherPlayer.active=!1,this.otherPlayer.getChildByName("lblNickname").getComponent(cc.Label).string="",this.interactableBtnBets(!0)},e.prototype.playNow=function(){this.selectBet(0)},e.prototype.selectBet=function(t){var e=this;this.interactableBtnBets(!1),this.isPlaying=!0,u.default.getInstance().request("OTT1",{userId:r.default.Login.UserIdFish,nickname:r.default.Login.Nickname,blind:t},function(i){if(200!=i.code){switch(i.code){case 302:l.default.instance.alertDialog.showMsg("S\u1ed1 d\u01b0 kh\xf4ng \u0111\u1ee7.");break;default:l.default.instance.alertDialog.showMsg("L\u1ed7i "+i.code+", kh\xf4ng x\xe1c \u0111\u1ecbnh.")}return e.interactableBtnBets(!0),void(e.isPlaying=!1)}if(e.lastBetValue=t,t<=0)e.lblBet.string="C\u01af\u1ee2C: __";else{var o=Math.floor(t/1e3);e.lblBet.string="C\u01af\u1ee2C: "+p.default.formatNumber(o)+"K"}e.panelSelectBet.active=!1,e.panelSearchingMatch.active=!0,e.players.active=!0,e.lblSearching.string="\u0110ANG T\xccM KI\u1ebeM \u0110\u1ed0I TH\u1ee6...",e.btnCancel.node.active=!0},this)},e.prototype.play=function(t){var e=this;u.default.getInstance().request("OTT2",{userId:r.default.Login.UserIdFish,choice:t},function(i){if(200!=i.code)return l.default.instance.alertDialog.showMsg("L\u1ed7i "+i.code+", kh\xf4ng x\xe1c \u0111\u1ecbnh."),void e.interactableBtnBets(!0);for(var o=0;o<e.btnPlays.length;o++)e.btnPlays[o].interactable=!1,e.btnPlays[o].getComponent(cc.Sprite).spriteFrame=o==t?e.sprPlaysActive[o]:e.sprPlaysNormal[o]},this)},e.prototype.interactableBtnBets=function(t){for(var e=0;e<this.btnBets.length;e++)this.btnBets[e].interactable=t;this.btnPlayNow.interactable=t},e.prototype.actCancel=function(){var t=this;u.default.getInstance().request("OTT11",{},function(e){200==e.code?(t.resetView(),t.isPlaying=!1):l.default.instance.alertDialog.showMsg("L\u1ed7i "+e.code+", kh\xf4ng x\xe1c \u0111\u1ecbnh.")},this)},a([m(cc.Label)],e.prototype,"lblCoin",void 0),a([m(cc.Label)],e.prototype,"lblBet",void 0),a([m([cc.Button])],e.prototype,"btnBets",void 0),a([m(cc.Button)],e.prototype,"btnPlayNow",void 0),a([m(cc.Node)],e.prototype,"panelSelectBet",void 0),a([m(cc.Node)],e.prototype,"players",void 0),a([m(cc.Node)],e.prototype,"mePlayer",void 0),a([m(cc.Node)],e.prototype,"otherPlayer",void 0),a([m(cc.Node)],e.prototype,"panelSearchingMatch",void 0),a([m(cc.Node)],e.prototype,"panelPlaying",void 0),a([m(cc.Node)],e.prototype,"panelResult",void 0),a([m(cc.Label)],e.prototype,"lblSearching",void 0),a([m(cc.Button)],e.prototype,"btnCancel",void 0),a([m(cc.Label)],e.prototype,"lblTime",void 0),a([m(cc.Sprite)],e.prototype,"progressTime",void 0),a([m([cc.Button])],e.prototype,"btnPlays",void 0),a([m([cc.SpriteFrame])],e.prototype,"sprPlaysActive",void 0),a([m([cc.SpriteFrame])],e.prototype,"sprPlaysNormal",void 0),a([m([cc.SpriteFrame])],e.prototype,"sprResults",void 0),a([m(cc.Toggle)],e.prototype,"toggleAuto",void 0),a([m([cc.Node])],e.prototype,"popups",void 0),a([m(h.default)],e.prototype,"popupCoinTransfer",void 0),a([f],e)}(s.default);i.default=y,cc._RF.pop()},{"../../Loading/src/Configs":void 0,"../../Loading/src/Http":void 0,"../../Lobby/LobbyScript/MiniGame":void 0,"../../Lobby/LobbyScript/Script/common/App":void 0,"../../Lobby/LobbyScript/Script/common/BroadcastReceiver":void 0,"../../Lobby/LobbyScript/Script/common/SPUtils":void 0,"../../Lobby/LobbyScript/Script/common/Utils":void 0,"../../Lobby/LobbyScript/Script/networks/ShootFishNetworkClient":void 0,"./OanTuTi.PopupCoinTransfer":"OanTuTi.PopupCoinTransfer"}],"OanTuTi.PopupCoinTransfer":[function(t,e,i){"use strict";cc._RF.push(e,"d70b9QEdnNK6LswYvb78XXC","OanTuTi.PopupCoinTransfer");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,o){var n,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,i,r):n(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0}),i.TabCashOut=i.TabCashIn=void 0;var r=t("../../Loading/src/Configs"),s=t("../../Lobby/LobbyScript/Lobby.Cmd"),l=t("../../Lobby/LobbyScript/Script/common/App"),c=t("../../Lobby/LobbyScript/Script/common/BroadcastReceiver"),p=t("../../Lobby/LobbyScript/Script/common/Dialogz"),u=t("../../Lobby/LobbyScript/Script/common/Utils"),h=t("../../Lobby/LobbyScript/Script/networks/MiniGameNetworkClient"),d=t("../../Lobby/LobbyScript/Script/networks/ShootFishNetworkClient"),g=cc._decorator,b=g.ccclass,f=g.property,m=function(){function t(){this.lblBalance=null,this.edbCoin=null,this.quickButtons=null,this.popup=null,this.values=[5e4,1e5,2e5,5e5,1e6,2e6,5e6,1e7,2e7]}return t.prototype.start=function(t){var e=this;this.popup=t,this.edbCoin.node.on("editing-did-ended",function(){var t=u.default.stringToInt(e.edbCoin.string);e.edbCoin.string=u.default.formatNumber(t)});for(var i,o=function(t){i=n.quickButtons.children[t];var o=n.values[t];i.getComponentInChildren(cc.Label).string=u.default.formatNumber(o),i.on("click",function(){e.edbCoin.string=u.default.formatNumber(o)})},n=this,a=0;a<this.quickButtons.childrenCount;a++)o(a)},t.prototype.submit=function(){var t=this,e=u.default.stringToInt(this.edbCoin.string);e<=0?l.default.instance.alertDialog.showMsg("S\u1ed1 ti\u1ec1n \u0111\xe3 nh\u1eadp kh\xf4ng h\u1ee3p l\u1ec7."):(l.default.instance.showLoading(!0),d.default.getInstance().request("xxengCashin",{ccash:e},function(e){l.default.instance.showLoading(!1),e.ok?(r.default.Login.CoinFish=e.newCash,c.default.send(c.default.USER_UPDATE_COIN),l.default.instance.alertDialog.showMsg("Thao t\xe1c th\xe0nh c\xf4ng."),t.reset(),h.default.getInstance().send(new s.default.ReqGetMoneyUse)):l.default.instance.alertDialog.showMsg("Thao t\xe1c th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i sau.")},this.popup))},t.prototype.reset=function(){this.edbCoin.string="",this.lblBalance.string=u.default.formatNumber(r.default.Login.Coin)},a([f(cc.Label)],t.prototype,"lblBalance",void 0),a([f(cc.EditBox)],t.prototype,"edbCoin",void 0),a([f(cc.Node)],t.prototype,"quickButtons",void 0),a([b("OanTuTi.PopupCoinTransfer.TabCashIn")],t)}();i.TabCashIn=m;var y=function(){function t(){this.lblBalance=null,this.edbCoin=null,this.quickButtons=null,this.popup=null,this.values=[5e4,1e5,2e5,5e5,1e6,2e6,5e6,1e7,2e7]}return t.prototype.start=function(t){var e=this;this.popup=t,this.edbCoin.node.on("editing-did-ended",function(){var t=u.default.stringToInt(e.edbCoin.string);e.edbCoin.string=u.default.formatNumber(t)});for(var i,o=function(t){i=n.quickButtons.children[t];var o=n.values[t];i.getComponentInChildren(cc.Label).string=u.default.formatNumber(o),i.on("click",function(){e.edbCoin.string=u.default.formatNumber(o)})},n=this,a=0;a<this.quickButtons.childrenCount;a++)o(a)},t.prototype.submit=function(){var t=this,e=u.default.stringToInt(this.edbCoin.string);e<=0?l.default.instance.alertDialog.showMsg("S\u1ed1 ti\u1ec1n \u0111\xe3 nh\u1eadp kh\xf4ng h\u1ee3p l\u1ec7."):(l.default.instance.showLoading(!0),d.default.getInstance().request("xxengCashin",{ccash:-e},function(e){l.default.instance.showLoading(!1),e.ok?(r.default.Login.CoinFish=e.newCash,c.default.send(c.default.USER_UPDATE_COIN),l.default.instance.alertDialog.showMsg("Thao t\xe1c th\xe0nh c\xf4ng."),t.reset(),h.default.getInstance().send(new s.default.ReqGetMoneyUse)):l.default.instance.alertDialog.showMsg("Thao t\xe1c th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i sau.")},this.popup))},t.prototype.reset=function(){this.edbCoin.string="",this.lblBalance.string=u.default.formatNumber(r.default.Login.CoinFish)},a([f(cc.Label)],t.prototype,"lblBalance",void 0),a([f(cc.EditBox)],t.prototype,"edbCoin",void 0),a([f(cc.Node)],t.prototype,"quickButtons",void 0),a([b("OanTuTi.PopupCoinTransfer.TabCashOut")],t)}();i.TabCashOut=y;var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tabs=null,e.tabContents=null,e.tabCashIn=null,e.tabCashOut=null,e.tabSelectedIdx=0,e}return n(e,t),e.prototype.start=function(){for(var t=this,e=function(e){i.tabs.toggleItems[e].node.on("toggle",function(){t.tabSelectedIdx=e,t.onTabChanged()})},i=this,o=0;o<this.tabs.toggleItems.length;o++)e(o);c.default.register(c.default.USER_UPDATE_COIN,function(){t.tabCashIn.lblBalance.string=u.default.formatNumber(r.default.Login.Coin),t.tabCashOut.lblBalance.string=u.default.formatNumber(r.default.Login.CoinFish)},this),this.tabCashIn.start(this),this.tabCashOut.start(this)},e.prototype.show=function(){t.prototype.show.call(this),this.tabSelectedIdx=0,this.tabs.toggleItems[this.tabSelectedIdx].isChecked=!0,this.onTabChanged()},e.prototype.onTabChanged=function(){for(var t=0;t<this.tabContents.childrenCount;t++)this.tabContents.children[t].active=t==this.tabSelectedIdx;switch(this.tabSelectedIdx){case 0:this.tabCashIn.reset();break;case 1:this.tabCashOut.reset()}},e.prototype.actSubmitCashIn=function(){this.tabCashIn.submit()},e.prototype.actSubmitCashOut=function(){this.tabCashOut.submit()},e.prototype.actClearCashIn=function(){this.tabCashIn.edbCoin.string="0"},e.prototype.actClearCashOut=function(){this.tabCashOut.edbCoin.string="0"},a([f(cc.ToggleContainer)],e.prototype,"tabs",void 0),a([f(cc.Node)],e.prototype,"tabContents",void 0),a([f(m)],e.prototype,"tabCashIn",void 0),a([f(y)],e.prototype,"tabCashOut",void 0),a([b],e)}(p.default);i.default=v,cc._RF.pop()},{"../../Loading/src/Configs":void 0,"../../Lobby/LobbyScript/Lobby.Cmd":void 0,"../../Lobby/LobbyScript/Script/common/App":void 0,"../../Lobby/LobbyScript/Script/common/BroadcastReceiver":void 0,"../../Lobby/LobbyScript/Script/common/Dialogz":void 0,"../../Lobby/LobbyScript/Script/common/Utils":void 0,"../../Lobby/LobbyScript/Script/networks/MiniGameNetworkClient":void 0,"../../Lobby/LobbyScript/Script/networks/ShootFishNetworkClient":void 0}],"OanTuTi.PopupHistory":[function(t,e,i){"use strict";cc._RF.push(e,"f1670dR+nNIG7R6Pfw6NB+L","OanTuTi.PopupHistory");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,o){var n,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,i,r):n(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../../Loading/src/Configs"),s=t("../../Lobby/LobbyScript/Script/common/App"),l=t("../../Lobby/LobbyScript/Script/common/Dialogz"),c=t("../../Lobby/LobbyScript/Script/common/Utils"),p=t("../../Lobby/LobbyScript/Script/networks/ShootFishNetworkClient"),u=cc._decorator,h=u.ccclass,d=u.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lblPage=null,e.itemTemplate=null,e.page=1,e.maxPage=1,e.items=new Array,e.data=null,e}return n(e,t),e.prototype.show=function(){t.prototype.show.call(this);for(var e=0;e<this.items.length;e++)this.items[e].active=!1;null!=this.itemTemplate&&(this.itemTemplate.active=!1)},e.prototype.dismiss=function(){t.prototype.dismiss.call(this);for(var e=0;e<this.items.length;e++)this.items[e].active=!1},e.prototype._onShowed=function(){t.prototype._onShowed.call(this),this.page=1,this.maxPage=1,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData()},e.prototype.actNextPage=function(){this.page<this.maxPage&&(this.page++,this.lblPage.string=this.page+"/"+this.maxPage,this.loadDataLocal())},e.prototype.actPrevPage=function(){this.page>1&&(this.page--,this.lblPage.string=this.page+"/"+this.maxPage,this.loadDataLocal())},e.prototype.loadData=function(){var t=this;s.default.instance.showLoading(!0),p.default.getInstance().request("OTT3",{userId:r.default.Login.UserIdFish},function(e){if(s.default.instance.showLoading(!1),200==e.code){if(0==t.items.length){for(var i=0;i<10;i++){var o=cc.instantiate(t.itemTemplate);o.parent=t.itemTemplate.parent,t.items.push(o)}t.itemTemplate.destroy(),t.itemTemplate=null}t.data=e.data,t.maxPage=Math.ceil(t.data.length/10),t.page=1,t.loadDataLocal()}},this)},e.prototype.loadDataLocal=function(){if(null!=this.data){this.lblPage.string=this.page+"/"+this.maxPage;var t=10*(this.page-1),e=10;t+e>this.data.length&&(e=this.data.length-t);for(var i=0;i<this.items.length;i++){var o=this.items[i];if(i<e){var n=this.data[t+i];if(o.getChildByName("bg").opacity=i%2==0?10:0,o.getChildByName("Session").getComponent(cc.Label).string=n.Id,o.getChildByName("Time").getComponent(cc.Label).string=n.GameTime,n.Nickname1==r.default.Login.Nickname){o.getChildByName("Choice").getComponent(cc.Label).string=this.getChoiceName(n.Choice1),o.getChildByName("OtherPlayer").getComponent(cc.Label).string=n.Nickname2;var a="Ho\xe0";1==n.Result?(o.getChildByName("Receive").getComponent(cc.Label).string="+"+c.default.formatNumber(n.CashChange1),a="Th\u1eafng"):2==n.Result?(o.getChildByName("Receive").getComponent(cc.Label).string=c.default.formatNumber(-n.Blind),a="Thua"):o.getChildByName("Receive").getComponent(cc.Label).string="+"+c.default.formatNumber(n.Blind),o.getChildByName("Result").getComponent(cc.Label).string=a}else o.getChildByName("Choice").getComponent(cc.Label).string=this.getChoiceName(n.Choice2),o.getChildByName("OtherPlayer").getComponent(cc.Label).string=n.Nickname1,a="Ho\xe0",2==n.Result?(o.getChildByName("Receive").getComponent(cc.Label).string="+"+c.default.formatNumber(n.CashChange2),a="Th\u1eafng"):1==n.Result?(o.getChildByName("Receive").getComponent(cc.Label).string=c.default.formatNumber(-n.Blind),a="Thua"):o.getChildByName("Receive").getComponent(cc.Label).string="+"+c.default.formatNumber(n.Blind),o.getChildByName("Result").getComponent(cc.Label).string=a;o.getChildByName("Bet").getComponent(cc.Label).string=c.default.formatNumber(n.Blind),o.active=!0}else o.active=!1}}},e.prototype.getChoiceName=function(t){switch(t){case 0:return"K\xe9o";case 1:return"Bao";case 2:return"B\xfaa"}},a([d(cc.Label)],e.prototype,"lblPage",void 0),a([d(cc.Node)],e.prototype,"itemTemplate",void 0),a([h],e)}(l.default);i.default=g,cc._RF.pop()},{"../../Loading/src/Configs":void 0,"../../Lobby/LobbyScript/Script/common/App":void 0,"../../Lobby/LobbyScript/Script/common/Dialogz":void 0,"../../Lobby/LobbyScript/Script/common/Utils":void 0,"../../Lobby/LobbyScript/Script/networks/ShootFishNetworkClient":void 0}],"OanTuTi.PopupHonors":[function(t,e,i){"use strict";cc._RF.push(e,"dbd49yYsz1BmZQ6ZieAMc2B","OanTuTi.PopupHonors");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,o){var n,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,i,r):n(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../../Loading/src/Configs"),s=t("../../Lobby/LobbyScript/Script/common/App"),l=t("../../Lobby/LobbyScript/Script/common/Dialogz"),c=t("../../Lobby/LobbyScript/Script/common/Utils"),p=t("../../Lobby/LobbyScript/Script/networks/ShootFishNetworkClient"),u=cc._decorator,h=u.ccclass,d=u.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lblPage=null,e.itemTemplate=null,e.page=1,e.maxPage=1,e.items=new Array,e.data=null,e}return n(e,t),e.prototype.show=function(){t.prototype.show.call(this);for(var e=0;e<this.items.length;e++)this.items[e].active=!1;null!=this.itemTemplate&&(this.itemTemplate.active=!1)},e.prototype.dismiss=function(){t.prototype.dismiss.call(this);for(var e=0;e<this.items.length;e++)this.items[e].active=!1},e.prototype._onShowed=function(){t.prototype._onShowed.call(this),this.page=1,this.maxPage=1,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData()},e.prototype.actNextPage=function(){this.page<this.maxPage&&(this.page++,this.lblPage.string=this.page+"/"+this.maxPage,this.loadDataLocal())},e.prototype.actPrevPage=function(){this.page>1&&(this.page--,this.lblPage.string=this.page+"/"+this.maxPage,this.loadDataLocal())},e.prototype.loadData=function(){var t=this;s.default.instance.showLoading(!0),p.default.getInstance().request("OTT4",{userId:r.default.Login.UserIdFish},function(e){if(s.default.instance.showLoading(!1),200==e.code){if(0==t.items.length){for(var i=0;i<10;i++){var o=cc.instantiate(t.itemTemplate);o.parent=t.itemTemplate.parent,t.items.push(o)}t.itemTemplate.destroy(),t.itemTemplate=null}t.data=e.data,t.maxPage=Math.ceil(t.data.length/10),t.page=1,t.loadDataLocal()}},this)},e.prototype.loadDataLocal=function(){if(null!=this.data){this.lblPage.string=this.page+"/"+this.maxPage;var t=10*(this.page-1),e=10;t+e>this.data.length&&(e=this.data.length-t);for(var i=0;i<this.items.length;i++){var o=this.items[i];if(i<e){var n=this.data[t+i];o.getChildByName("bg").opacity=i%2==0?10:0,o.getChildByName("Time").getComponent(cc.Label).string=n.GameTime,o.getChildByName("Bet").getComponent(cc.Label).string=c.default.formatNumber(n.Blind),o.getChildByName("Player").getComponent(cc.Label).string=n.Nickname1,o.getChildByName("Choice").getComponent(cc.Label).string=this.getChoiceName(n.Choice1),o.getChildByName("OtherPlayer").getComponent(cc.Label).string=n.Nickname2,o.getChildByName("OtherChoice").getComponent(cc.Label).string=this.getChoiceName(n.Choice2),o.getChildByName("Receive").getComponent(cc.Label).string=n.CashChange1>n.CashChange2?c.default.formatNumber(n.CashChange1):c.default.formatNumber(n.CashChange2),o.active=!0}else o.active=!1}}},e.prototype.getChoiceName=function(t){switch(t){case 0:return"K\xe9o";case 1:return"Bao";case 2:return"B\xfaa"}},a([d(cc.Label)],e.prototype,"lblPage",void 0),a([d(cc.Node)],e.prototype,"itemTemplate",void 0),a([h],e)}(l.default);i.default=g,cc._RF.pop()},{"../../Loading/src/Configs":void 0,"../../Lobby/LobbyScript/Script/common/App":void 0,"../../Lobby/LobbyScript/Script/common/Dialogz":void 0,"../../Lobby/LobbyScript/Script/common/Utils":void 0,"../../Lobby/LobbyScript/Script/networks/ShootFishNetworkClient":void 0}]},{},["OanTuTi.OanTuTiController","OanTuTi.PopupCoinTransfer","OanTuTi.PopupHistory","OanTuTi.PopupHonors"]);