window.__require=function t(e,o,n){function i(r,c){if(!o[r]){if(!e[r]){var s=r.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var u=o[r]={exports:{}};e[r][0].call(u.exports,function(t){return i(e[r][1][t]||t)},u,u.exports,t,e,o,n)}return o[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({"BaiCao.CardUtil":[function(t,e,o){"use strict";cc._RF.push(e,"3fe3e/9gF9ElZ/vmUvBqR4d","BaiCao.CardUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.common=void 0;var n,i=cc._decorator;i.ccclass,i.property,function(t){var e=function(){function t(){}return t.getCardInfo=function(t){this.id=t,this.so=this.getSoById(t),this.chat=this.getChatById(t),this.diem=this.getDiemById(t)},t.getSoById=function(t){return Math.floor(t/4)},t.getDiemById=function(t){var e=Math.floor(t/4)+1;return 11!=e&&12!=e&&13!=e||(e=10),e},t.getChatById=function(t){return t%4},t.getNormalId=function(t){var e;return e=4>t?11:8>t?12:Math.floor(t/4)-2,3==(t=Math.floor(t%4))?t=2:2==t&&(t=3),4*e+t},t}();t.CardUtils=e}(n=o.common||(o.common={})),o.default=n.CardUtils,cc._RF.pop()},{}],"BaiCao.Card":[function(t,e,o){"use strict";cc._RF.push(e,"b0c79CT2hJMwaWDZSLTdtS6","BaiCao.Card");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BaiCao.Res"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spr=null,e.posY=0,e.offsetY=20,e.isSelected=!1,e.callback=null,e.index=null,e}return i(e,t),e.prototype.onLoad=function(){this.spr=this.node.getComponent(cc.Sprite),this.posY=this.node.y},e.prototype.onSelect=function(){this.node.y+=this.isSelected?-this.offsetY:this.offsetY,this.isSelected=!this.isSelected,this.isSelected&&this.callback&&this.callback(this.index)},e.prototype.setCardData=function(t,e){void 0===e&&(e=null),this.index=t,this.spr.spriteFrame=r.default.getInstance().getCardFace(t),this.callback=e},e.prototype.getCardIndex=function(){return this.index},e.prototype.select=function(){this.node.y=this.posY+this.offsetY,this.isSelected=!0},e.prototype.deSelect=function(){this.node.y=this.posY,this.isSelected=!1},a([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"./BaiCao.Res":"BaiCao.Res"}],"BaiCao.Cmd":[function(t,e,o){"use strict";cc._RF.push(e,"95fbb1H6RtD4Jqh4piu2Geo","BaiCao.Cmd");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.cmd=void 0;var a,r=t("../../Lobby/LobbyScript/Script/networks/Network.OutPacket"),c=t("../../Loading/src/Configs"),s=t("../../Lobby/LobbyScript/Script/networks/Network.InPacket");(function(t){var e=function(){function t(){}return t.LOGIN=1,t.TOPSERVER=1001,t.CMD_PINGPONG=1050,t.CMD_JOIN_ROOM=3001,t.CMD_RECONNECT_ROOM=3002,t.MONEY_BET_CONFIG=3003,t.JOIN_ROOM_FAIL=3004,t.CHAT_ROOM=3008,t.GET_LIST_ROOM=3014,t.JOIN_GAME_ROOM_BY_ID=3015,t.MO_BAI=3101,t.BAT_DAU=3102,t.KET_THUC=3103,t.YEU_CAU_DANH_BIEN=3104,t.CHIA_BAI=3105,t.KE_CUA=3106,t.TU_DONG_BAT_DAU=3107,t.DONG_Y_DANH_BIEN=3108,t.DAT_CUOC=3109,t.THONG_TIN_BAN_CHOI=3110,t.DANG_KY_THOAT_PHONG=3111,t.VAO_GA=3112,t.DOI_CHUONG=3113,t.MOI_DAT_CUOC=3114,t.CHEAT_CARDS=3115,t.DANG_KY_CHOI_TIEP=3116,t.UPDATE_OWNER_ROOM=3117,t.JOIN_ROOM_SUCCESS=3118,t.LEAVE_GAME=3119,t.NOTIFY_KICK_FROM_ROOM=3120,t.NEW_USER_JOIN=3121,t.NOTIFY_USER_GET_JACKPOT=3122,t.UPDATE_MATCH=3123,t.PLAYER_STATUS_OUT_GAME=0,t.PLAYER_STATUS_VIEWER=1,t.PLAYER_STATUS_SITTING=2,t.PLAYER_STATUS_PLAYING=3,t.MAX_PLAYER=8,t}();t.Code=e;var o=function(t){function o(o,n){var i=t.call(this)||this;return i.initData(100),i.setControllerId(1),i.setCmdId(e.LOGIN),i.packHeader(),i.putString(o),i.putString(n),i.updateSize(),i}return i(o,t),o}(r.default);t.CmdLogin=o;var n=function(t){function o(o,n,i){var a=t.call(this)||this;return a.initData(100),a.setControllerId(1),a.setCmdId(e.CMD_JOIN_ROOM),a.packHeader(),a.putInt(o),a.putInt(n),a.putLong(i),a.putInt(0),a.updateSize(),a}return i(o,t),o}(r.default);t.CmdJoinRoom=n;var a=function(t){function o(){var o=t.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(e.CMD_RECONNECT_ROOM),o.packHeader(),o.updateSize(),o}return i(o,t),o}(r.default);t.CmdReconnectRoom=a;var l=function(t){function o(){var o=t.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(e.VAO_GA),o.packHeader(),o.updateSize(),o}return i(o,t),o}(r.default);t.SendVaoGa=l;var u=function(t){function o(){var o=t.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(e.DANG_KY_THOAT_PHONG),o.packHeader(),o.updateSize(),o}return i(o,t),o}(r.default);t.CmdSendRequestLeaveGame=u;var d=function(t){function o(){var o=t.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(e.DANG_KY_CHOI_TIEP),o.packHeader(),o.updateSize(),o}return i(o,t),o}(r.default);t.CmdSendHoldRoom=d;var h=function(t){function o(){var o=t.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(e.MONEY_BET_CONFIG),o.packHeader(),o.updateSize(),o}return i(o,t),o}(r.default);t.SendGetGameConfig=h;var p=function(t){function o(o){var n=t.call(this)||this;return n.initData(100),n.setControllerId(1),n.setCmdId(e.TOPSERVER),n.packHeader(),n.putByte(o),n.updateSize(),n}return i(o,t),o}(r.default);t.SendGetTopServer=p;var f=function(t){function o(o,n){var i=t.call(this)||this;if(i.initData(100),i.setControllerId(1),i.setCmdId(e.CHEAT_CARDS),i.packHeader(),i.putByte(o),i.putByte(0),i.putShort(n.length),o)for(var a=0;a<n.length;a++)i.putByte(n[a]);return i.updateSize(),i}return i(o,t),o}(r.default);t.SendCardCheat=f;var y=function(t){function o(o){var n=t.call(this)||this;return n.initData(100),n.setControllerId(1),n.setCmdId(e.DAT_CUOC),n.packHeader(),n.putByte(o),n.updateSize(),n}return i(o,t),o}(r.default);t.CmdSendDatCuoc=y;var g=function(t){function o(o,n){var i=t.call(this)||this;return i.initData(100),i.setControllerId(1),i.setCmdId(e.YEU_CAU_DANH_BIEN),i.packHeader(),i.putByte(o),i.putByte(n),i.updateSize(),i}return i(o,t),o}(r.default);t.CmdSendDanhBien=g;var C=function(t){function o(o,n){var i=t.call(this)||this;return i.initData(100),i.setControllerId(1),i.setCmdId(e.KE_CUA),i.packHeader(),i.putByte(o),i.putByte(n),i.updateSize(),i}return i(o,t),o}(r.default);t.CmdSendKeCua=C;var m=function(t){function o(o){var n=t.call(this)||this;return n.initData(100),n.setControllerId(1),n.setCmdId(e.DONG_Y_DANH_BIEN),n.packHeader(),n.putByte(o),n.updateSize(),n}return i(o,t),o}(r.default);t.CmdSendAcceptDanhBien=m;var v=function(t){function o(){var o=t.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(e.MO_BAI),o.packHeader(),o.updateSize(),o}return i(o,t),o}(r.default);t.CmdSendMoBai=v;var b=function(t){function o(){var o=t.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(e.CMD_PINGPONG),o.packHeader(),o.updateSize(),o}return i(o,t),o}(r.default);t.CmdSendPing=b;var B=function(t){function o(){var o=t.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(e.GET_LIST_ROOM),o.packHeader(),o.putInt(c.default.App.MONEY_TYPE),o.putInt(e.MAX_PLAYER),o.putLong(-1),o.putInt(0),o.putInt(0),o.putInt(50),o.updateSize(),o}return i(o,t),o}(r.default);t.SendGetListRoom=B;var R=function(t){function o(o){var n=t.call(this)||this;return n.initData(100),n.setControllerId(1),n.setCmdId(e.JOIN_GAME_ROOM_BY_ID),n.packHeader(),n.putInt(o),n.putString(""),n.updateSize(),n}return i(o,t),o}(r.default);t.SendJoinRoomById=R;var I=function(t){function o(o,n){var i=t.call(this)||this;return i.initData(100),i.setControllerId(1),i.setCmdId(e.CHAT_ROOM),i.packHeader(),i.putByte(o?1:0),i.putString(encodeURI(n)),i.updateSize(),i}return i(o,t),o}(r.default);t.SendChatRoom=I;var _=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e}(s.default);t.ReceivedLogin=_;var S=function(t){function e(e){var o=t.call(this,e)||this;o.list=[];var n=o.getShort();o.list=[];for(var i=0;i<n;i++){var a={};a.id=o.getInt(),a.userCount=o.getByte(),a.limitPlayer=o.getByte(),a.maxUserPerRoom=o.getInt(),a.moneyType=o.getByte(),a.moneyBet=o.getInt(),a.requiredMoney=o.getInt(),a.rule=o.getByte(),a.nameRoom=o.getString(),a.key=o.getBool(),a.quyban=o.getLong(),o.list.push(a)}return o}return i(e,t),e}(s.default);t.ReceivedGetListRoom=S;var P=function(t){function e(e){var o,n=t.call(this,e)||this;for(n.myChair=n.getByte(),n.chuongChair=n.getByte(),n.moneyBet=n.getLong(),n.roomId=n.getInt(),n.gameId=n.getInt(),n.moneyType=n.getByte(),n.rule=n.getByte(),n.playerSize=n.getShort(),n.playerStatus=[],o=0;o<n.playerSize;o++)n.playerStatus.push(n.getByte());for(n.playerSize=n.getShort(),n.playerInfos=[],o=0;o<n.playerSize;o++){var i={};i.nickName=n.getString(),i.avatar=n.getString(),i.money=n.getLong(),n.playerInfos.push(i)}return n.gameAction=n.getByte(),n.countDownTime=n.getByte(),n}return i(e,t),e}(s.default);t.ReceivedJoinRoomSucceed=P;var L=function(t){function e(e){var o=t.call(this,e)||this;return o.isAutoStart=o.getBool(),o.timeAutoStart=o.getByte(),o}return i(e,t),e}(s.default);t.ReceivedAutoStart=L;var w=function(t){function e(e){var o=t.call(this,e)||this,n=0;for(o.cardSize=o.getShort(),o.cards=[],n=0;n<o.cardSize;n++)o.cards.push(o.getByte());return o.gameId=o.getInt(),o.timeChiaBai=o.getByte(),o}return i(e,t),e}(s.default);t.ReceivedChiaBai=w;var O=function(t){function e(e){var o=t.call(this,e)||this;o.isRandom=o.getBool(),o.chair=o.getByte(),o.cardSize=o.getShort(),o.cards=[];for(var n=0;n<o.cardSize;n++)o.cards.push(o.getByte());return o}return i(e,t),e}(s.default);t.ReceivedFirstTurnDecision=O;var N=function(t){function e(e){var o=t.call(this,e)||this;return o.chair=o.getByte(),o.nickName=o.getString(),o}return i(e,t),e}(s.default);t.ReceivedUserLeaveRoom=N;var T=function(t){function e(e){var o=t.call(this,e)||this;return o.info={},o.info.nickName=o.getString(),o.info.avatar=o.getString(),o.info.money=o.getLong(),o.uChair=o.getByte(),o.uStatus=o.getByte(),o}return i(e,t),e}(s.default);t.ReceivedUserJoinRoom=T;var A=function(t){function e(e){var o=t.call(this,e)||this;o.myChair=o.getByte();var n=o.getShort();o.hasInfo=[];for(var i=0;i<n;i++)o.hasInfo.push(o.getBool());for(o.infos=[],i=0;i<n;i++){var a={};o.hasInfo[i]&&(a.nickName=o.getString(),a.avatar=o.getString(),a.money=o.getLong(),a.status=o.getInt()),o.infos.push(a)}return o}return i(e,t),e}(s.default);t.ReceivedUpdateMatch=A;var E=function(t){function e(e){var o=t.call(this,e)||this;o.listSize=o.getShort(),o.list=[];for(var n=0;n<o.listSize;n++){var i={};i.maxUserPerRoom=o.getByte(),i.moneyType=o.getByte(),i.moneyBet=o.getLong(),i.moneyRequire=o.getLong(),i.nPersion=o.getInt(),o.list.push(i)}return o}return i(e,t),e}(s.default);t.ReceivedBaCayConfig=E;var D=function(t){function e(e){var o=t.call(this,e)||this;return o.outChair=o.getByte(),o.isOutRoom=o.getBool(),o}return i(e,t),e}(s.default);t.ReceivedNotifyRegOutRoom=D;var M=function(t){function e(e){var o=t.call(this,e)||this;return o.reason=o.getByte(),o}return i(e,t),e}(s.default);t.ReceivedKickOff=M;var k=function(t){function e(e){var o=t.call(this,e)||this;return o.timeDatCuoc=o.getByte(),o}return i(e,t),e}(s.default);t.ReceivedMoiDatCuoc=k;var H=function(t){function e(e){var o=t.call(this,e)||this;return o.chairDatCuoc=o.getByte(),o.level=o.getByte(),o}return i(e,t),e}(s.default);t.ReceivedDatCuoc=H;var G=function(t){function e(e){var o=t.call(this,e)||this;return o.danhBienChair=o.getByte(),o.level=o.getByte(),o}return i(e,t),e}(s.default);t.ReceivedYeuCauDanhBien=G;var U=function(t){function e(e){var o=t.call(this,e)||this;return o.danhBienChair=o.getByte(),o.level=o.getByte(),o}return i(e,t),e}(s.default);t.ReceivedChapNhanDanhBien=U;var V=function(t){function e(e){var o=t.call(this,e)||this;return o.chairKeCuaFrom=o.getByte(),o.chairKeCuaTo=o.getByte(),o.level=o.getByte(),o}return i(e,t),e}(s.default);t.ReceivedKeCua=V;var F=function(t){function e(e){var o=t.call(this,e)||this;return o.chair=o.getByte(),o.chicKenBet=o.getLong(),o}return i(e,t),e}(s.default);t.ReceivedVaoGa=F;var Y=function(t){function e(e){var o=t.call(this,e)||this;o.chairMoBai=o.getByte(),o.cardSize=o.getShort(),o.cards=[];for(var n=0;n<o.cardSize;n++)o.cards.push(o.getByte());return o}return i(e,t),e}(s.default);t.ReceivedMoBai=Y;var x=function(t){function o(o){var n=t.call(this,o)||this,i=0,a=n.getShort();for(n.statusList=[],i=0;i<a;i++)n.statusList.push(n.getByte());for(n.cardList=[],i=0;i<n.statusList.length;i++){if(a=[],3==n.statusList[i])for(var r=n.getShort(),c=0;c<r;c++)a.push(n.getByte());n.cardList.push(a)}for(n.tienThangChuong=n.getLong(),n.tienThangGa=n.getLong(),n.keCuaMoneyList=[],n.danhBienMoneyList=[],a=n.getShort(),i=0;i<a;i++)n.keCuaMoneyList.push(n.getLong());for(a=n.getShort(),i=0;i<a;i++)n.danhBienMoneyList.push(n.getLong());for(n.tongTienCuoiVan=n.getLong(),n.tongTienCuocList=[],n.tongDanhBienList=[],n.tongKeCuaList=[],n.tongCuocGaList=[],n.tongCuoiVanList=[],n.currentMoneyList=[],n.getShort(),i=0;i<e.MAX_PLAYER;i++)a=0,3==n.statusList[i]&&(a=n.getLong()),n.tongTienCuocList.push(a);for(n.getShort(),i=0;i<e.MAX_PLAYER;i++)a=0,3==n.statusList[i]&&(a=n.getLong()),n.tongDanhBienList.push(a);for(n.getShort(),i=0;i<e.MAX_PLAYER;i++)a=0,3==n.statusList[i]&&(a=n.getLong()),n.tongKeCuaList.push(a);for(n.getShort(),i=0;i<e.MAX_PLAYER;i++)a=0,3==n.statusList[i]&&(a=n.getLong()),n.tongCuocGaList.push(a);for(n.getShort(),i=0;i<e.MAX_PLAYER;i++)a=0,3==n.statusList[i]&&(a=n.getLong()),n.tongCuoiVanList.push(a);for(n.getShort(),i=0;i<e.MAX_PLAYER;i++)a=0,3==n.statusList[i]&&(a=n.getLong()),n.currentMoneyList.push(a);return n.timeEndGame=n.getByte(),n}return i(o,t),o}(s.default);t.ReceivedEndGame=x;var K=function(t){function e(e){var o=t.call(this,e)||this;return o.chuongChair=o.getByte(),o}return i(e,t),e}(s.default);t.ReceivedDoiChuong=K;var j=function(t){function e(e){var o=t.call(this,e)||this;return o.chair=o.getByte(),o.isIcon=o.getBool(),o.content=decodeURI(o.getString()),o.nickname=o.getString(),o}return i(e,t),e}(s.default);t.ReceivedChatRoom=j;var W=function(t){function o(o){var n=t.call(this,o)||this;n.myChair=n.getByte(),n.chuongChair=n.getByte();var i=n.getShort();n.cards=[];for(var a=0;a<i;a++)n.cards.push(n.getByte());for(n.cuocDanhBienList=[],i=n.getShort(),a=0;a<i;a++)n.cuocDanhBienList[a]=n.getInt();for(n.cuocKeCuaList=[],i=n.getShort(),a=0;a<i;a++)n.cuocKeCuaList[a]=n.getInt();for(n.gameServerState=n.getByte(),n.isAutoStart=n.getBool(),n.gameAction=n.getByte(),n.countDownTime=n.getByte(),n.moneyType=n.getByte(),n.moneyBet=n.getLong(),n.gameId=n.getInt(),n.roomId=n.getInt(),n.hasInfo=[],i=n.getShort(),a=0;a<i;a++)n.hasInfo[a]=n.getBool();for(n.players=[],a=0;a<e.MAX_PLAYER;a++)n.hasInfo[a]?(n.players[a]=[],n.players[a].status=n.getByte(),n.players[a].money=n.getLong(),n.players[a].cuocGa=n.getInt(),n.players[a].cuocChuong=n.getInt(),n.players[a].avatar=n.getString(),n.players[a].nickName=n.getString()):(n.players[a]=[],n.players[a].status=0);return n}return i(o,t),o}(s.default);t.ReceivedGameInfo=W;var q=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e}(s.default);t.ReceivedJoinRoomFail=q})(a=o.cmd||(o.cmd={})),o.default=a,cc._RF.pop()},{"../../Loading/src/Configs":void 0,"../../Lobby/LobbyScript/Script/networks/Network.InPacket":void 0,"../../Lobby/LobbyScript/Script/networks/Network.OutPacket":void 0}],"BaiCao.Controller":[function(t,e,o){"use strict";cc._RF.push(e,"8823cz4QghOwpS4iXO2AMoB","BaiCao.Controller");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../Lobby/LobbyScript/Script/common/BroadcastReceiver"),c=t("../../Lobby/LobbyScript/Script/common/Utils"),s=t("../../Lobby/LobbyScript/Script/common/App"),l=t("../../Lobby/LobbyScript/Script/networks/Network.InPacket"),u=t("../../Lobby/LobbyScript/Script/networks/Network.Cmd"),d=t("../../Loading/src/Configs"),h=t("./BaiCao.Cmd"),p=t("./BaiCao.NetworkClient"),f=t("./BaiCao.CardUtil"),y=[],g=[[0,1,2,3,4,5,6,7],[1,2,3,4,5,6,7,0],[2,3,4,5,6,7,0,1],[3,4,5,6,7,0,1,2],[4,5,6,7,0,1,2,3],[5,6,7,0,1,2,3,4],[6,7,0,1,2,3,4,5],[7,0,1,2,3,4,5,6]],C=cc._decorator,m=C.ccclass,v=C.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.UI_ChooseRoom=null,e.labelNickName=null,e.labelCoin=null,e.contentListRooms=null,e.prefabItemRoom=null,e.scrollListRoom=null,e.edtFindRoom=null,e.btnHideRoomFull=null,e.isInitedUIRoom=!1,e.UI_Playing=null,e.meCards=null,e.groupPlayers=null,e.spriteCards=[],e.spriteCardBack=null,e.matchPot=null,e.labelMatchPot=null,e.cardsDeal=null,e.btnBet=null,e.btnOpenCard=null,e.btnLeaveRoom=null,e.hubChips=null,e.labelRoomId=null,e.labelRoomBet=null,e.actionBetting=null,e.betChooseValue=null,e.betChooseValueTarget=null,e.popupMatchResult=null,e.contentMatchResult=null,e.prefabItemResult=null,e.scrollMatchResult=null,e.notifyTimeStart=null,e.notifyTimeEnd=null,e.notifyTimeBet=null,e.UI_Chat=null,e.edtChatInput=null,e.popupNodity=null,e.labelNotifyContent=null,e.popupGuide=null,e.seatOwner=null,e.currentRoomBet=null,e.gameState=null,e.minutes=null,e.seconds=null,e.timeAutoStart=null,e.timeEnd=null,e.timeBet=null,e.intervalWaitting=null,e.intervalEnd=null,e.intervalBetting=null,e.currentCard=null,e.numCardOpened=0,e.arrBetValue=[],e.arrBetPos=[-157.5,-52.5,52.5,157.5],e.currentBetSelectedIndex=0,e.currentMatchPotValue=0,e.timeoutEndGame=null,e.timeoutChiaBaiDone=null,e.arrPosDanhBien=[],e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.seatOwner=-1,this.initConfigPlayer()},e.prototype.start=function(){this.showUIRooms(),s.default.instance.showErrLoading("\u0110ang k\u1ebft n\u1ed1i t\u1edbi server..."),p.default.getInstance().addOnOpen(function(){s.default.instance.showErrLoading("\u0110ang \u0111ang \u0111\u0103ng nh\u1eadp..."),p.default.getInstance().send(new u.default.SendLogin(d.default.Login.Nickname,d.default.Login.AccessToken))},this),p.default.getInstance().addOnClose(function(){s.default.instance.loadScene("Lobby")},this),p.default.getInstance().connect()},e.prototype.joinRoom=function(t){s.default.instance.showLoading(!0),p.default.getInstance().send(new h.default.SendJoinRoomById(t.id))},e.prototype.refeshListRoom=function(){this.contentListRooms.removeAllChildren(!0),p.default.getInstance().send(new h.default.SendGetListRoom)},e.prototype.findRoomId=function(){var t=this.edtFindRoom.string.trim();if(t.length>0)for(var e=parseInt(t),o=0;o<this.contentListRooms.childrenCount;o++)this.contentListRooms.children[o].getComponent("BaiCao.ItemRoom").roomInfo.id!=e&&(this.contentListRooms.children[o].active=!1);else for(o=0;o<this.contentListRooms.childrenCount;o++)this.contentListRooms.children[o].active=!0},e.prototype.hideRoomFull=function(){if(this.btnHideRoomFull.isChecked)for(var t=0;t<this.contentListRooms.childrenCount;t++){var e=this.contentListRooms.children[t].getComponent("BaiCao.ItemRoom");e.roomInfo.userCount==e.roomInfo.maxUserPerRoom&&(this.contentListRooms.children[t].active=!1)}else for(t=0;t<this.contentListRooms.childrenCount;t++)this.contentListRooms.children[t].active=!0},e.prototype.showUIRooms=function(){var t=this;this.UI_ChooseRoom.active=!0,this.isInitedUIRoom?r.default.send(r.default.USER_UPDATE_COIN):(this.isInitedUIRoom=!0,this.labelNickName.string=d.default.Login.Nickname,r.default.register(r.default.USER_UPDATE_COIN,function(){t.labelCoin.string=c.default.formatNumber(d.default.Login.Coin)},this),r.default.send(r.default.USER_UPDATE_COIN),this.setupListener())},e.prototype.closeUIRoom=function(){this.UI_ChooseRoom.active=!1},e.prototype.createRoom=function(){},e.prototype.playingNow=function(){for(var t=[],e=0;e<this.contentListRooms.childrenCount;e++)(n=this.contentListRooms.children[e].getComponent("BaiCao.ItemRoom")).roomInfo.requiredMoney<d.default.Login.Coin&&t.push(e);if(t.length>0){var o=t[0];for(e=0;e<t.length;e++){var n=this.contentListRooms.children[t[e]].getComponent("BaiCao.ItemRoom"),i=this.contentListRooms.children[o].getComponent("BaiCao.ItemRoom");n.roomInfo.userCount>i.roomInfo.userCount&&(o=t[e])}var a=this.contentListRooms.children[o].getComponent("BaiCao.ItemRoom");this.joinRoom(a.roomInfo)}else s.default.instance.alertDialog.showMsg("Kh\xf4ng \u0111\u1ee7 ti\u1ec1n tham gia\nb\u1ea5t k\u1ef3 ph\xf2ng n\xe0o !")},e.prototype.showUIChat=function(){this.UI_Chat.active=!0,this.UI_Chat.runAction(cc.moveTo(.5,420,0))},e.prototype.closeUIChat=function(){this.UI_Chat.runAction(cc.moveTo(.5,1e3,0))},e.prototype.chatEmotion=function(t,e){p.default.getInstance().send(new h.default.SendChatRoom(1,e)),this.closeUIChat()},e.prototype.chatMsg=function(){this.edtChatInput.string.trim().length>0&&(p.default.getInstance().send(new h.default.SendChatRoom(0,this.edtChatInput.string)),this.edtChatInput.string="",this.closeUIChat())},e.prototype.showPopupGuide=function(){this.popupGuide.active=!0},e.prototype.closePopupGuide=function(){this.popupGuide.active=!1},e.prototype.backToLobby=function(){p.default.getInstance().close(),s.default.instance.loadScene("Lobby")},e.prototype.showUIPlaying=function(){this.UI_Playing.active=!0},e.prototype.closeUIPlaying=function(){this.actionLeaveRoom()},e.prototype.setupMatch=function(t){this.showUIPlaying(),this.closePopupMatchResult(),this.closeUIChat();for(var e=1;e<8;e++)this.getPlayerHouse(e).showPopupBet(!1),this.getPlayerHouse(e).closePopupRequestDanhBien();var o=t.chuongChair,n=(t.countDownTime,t.gameAction),i=(t.gameId,t.moneyBet),a=(t.moneyType,t.myChair),r=t.playerInfos,s=(t.playerSize,t.playerStatus),l=t.roomId;t.rule,this.labelRoomId.string="B\xc0I C\xc0O - PH\xd2NG: "+l,this.labelRoomBet.string="M\u1ee8C C\u01af\u1ee2C: "+c.default.formatNumber(i)+"$",this.currentRoomBet=i,this.gameState=n,y[0].playerId=d.default.Login.Nickname,y[0].playerPos=a;var u=[],p=[],f=[];for(e=0;e<r.length;e++)""!==r[e].nickName&&(u.push(e),p.push(r[e]),f.push(s[e]));this.resetHubChips();for(var C=0;C<y.length;C++)y[C].playerPos=g[a][C];for(e=0;e<y.length;e++){var m=u.indexOf(y[e].playerPos),v=y[e].seatId;this.getPlayerHouse(v).resetPlayerInfo(),m>-1?(f[m]==h.default.Code.PLAYER_STATUS_SITTING||f[m]==h.default.Code.PLAYER_STATUS_PLAYING?(y[e].isViewer=!1,this.getPlayerHouse(v).setIsViewer(!1)):(y[e].isViewer=!0,this.getPlayerHouse(v).setIsViewer(!0)),this.setupSeatPlayer(v,p[m])):(this.getPlayerHouse(v).showBtnInvite(!0),y[e].isViewer=!0)}for(e=0;e<8;e++)this.getPlayerHouse(e).setOwner(!1);var b=this.findPlayerSeatByPos(o);-1!==b&&(this.getPlayerHouse(b).setOwner(!0),this.seatOwner=b),this.gameState},e.prototype.startWaittingCountDown=function(t){var e=this;this.timeAutoStart=t,this.setTimeWaittingCountDown(),this.notifyTimeStart.active=!0,this.unschedule(this.intervalWaitting),this.schedule(this.intervalWaitting=function(){e.timeAutoStart--,e.setTimeWaittingCountDown(),e.timeAutoStart<1&&(e.unschedule(e.intervalWaitting),e.notifyTimeStart.active=!1)},1)},e.prototype.setTimeWaittingCountDown=function(){this.seconds=Math.floor(this.timeAutoStart%60),this.notifyTimeStart.getComponent(cc.Label).string=" B\u1eaft \u0111\u1ea7u sau : "+this.seconds+"s "},e.prototype.startEndCountDown=function(t){var e=this;this.timeEnd=t,this.setTimeEndCountDown(),this.notifyTimeEnd.active=!0,this.unschedule(this.intervalEnd),this.schedule(this.intervalEnd=function(){e.timeEnd--,e.setTimeEndCountDown(),e.timeEnd<1&&(e.unschedule(e.intervalEnd),e.notifyTimeEnd.active=!1)},1)},e.prototype.setTimeEndCountDown=function(){this.seconds=Math.floor(this.timeEnd%60),this.notifyTimeEnd.getComponent(cc.Label).string=" K\u1ebft th\xfac sau : "+this.seconds+"s "},e.prototype.startBettingCountDown=function(t){var e=this;this.timeBet=t,this.actionBetting.active=!0,this.processBetting(1),this.unschedule(this.intervalBetting),this.schedule(this.intervalBetting=function(){e.timeBet--;var o=(e.timeBet/t).toFixed(1);e.processBetting(o),e.timeBet<1&&(e.unschedule(e.intervalBetting),e.actionBetting.active=!1)},1)},e.prototype.processBetting=function(t){this.actionBetting.children[0].getComponent(cc.Sprite).fillRange=t},e.prototype.getCardsScore=function(t){for(var e=0,o=0;o<3;o++)e+=f.default.getDiemById(t[o]);return e%10},e.prototype.openMeCard=function(t,e){var o=this,n=parseInt(e);this.getPlayerHouse(0).prepareCardReal(n);var i=f.default.getNormalId(this.currentCard[n]);this.getPlayerHouse(0).transformToCardReal(n,this.spriteCards[i]),this.numCardOpened+=1,3==this.numCardOpened&&(this.btnOpenCard.active=!0,this.btnBet.active=!1,this.getPlayerHouse(0).showCardName(this.getCardsScore(this.currentCard)+" \u0110i\u1ec3m"),setTimeout(function(){o.getPlayerHouse(0).resetCardReady()},200))},e.prototype.moveChipsToHubNow=function(t){this.hubChips.children[2*t].position=cc.v2(25,80),this.hubChips.children[2*t].scale=0,this.hubChips.children[2*t+1].position=cc.v2(25,80),this.hubChips.children[2*t+1].scale=0},e.prototype.fxMoveChips=function(t,e,o,n){t.runAction(cc.sequence(cc.delayTime(e),cc.scaleTo(0,1,1),cc.spawn(cc.moveTo(.8,o,n),cc.scaleTo(.8,0,0))))},e.prototype.resetHubChips=function(){for(var t=[70,280,280,260,100,-260,-375,-360],e=[-195,-150,-55,70,90,85,-30,-155],o=0;o<8;o++)this.hubChips.children[2*o].position=cc.v2(t[o],e[o]),this.hubChips.children[2*o+1].position=cc.v2(t[o],e[o]);for(o=0;o<16;o++)this.hubChips.children[o].active=!1},e.prototype.setupBet=function(){this.currentBetSelectedIndex=0,this.betChooseValueTarget.y=this.arrBetPos[this.currentBetSelectedIndex]},e.prototype.showPopupMatchResult=function(t){this.popupMatchResult.active=!0,this.contentMatchResult.removeAllChildren(!0);for(var e=0;e<t.length;e++){var o=cc.instantiate(this.prefabItemResult);o.getComponent("BaiCao.ItemResult").initItem(t[e]),this.contentMatchResult.addChild(o)}this.scrollMatchResult.scrollToTop(.2)},e.prototype.closePopupMatchResult=function(){this.popupMatchResult.active=!1},e.prototype.setupListener=function(){var t=this;p.default.getInstance().addListener(function(e){switch(new l.default(e).getCmdId()){case h.default.Code.LOGIN:s.default.instance.showLoading(!1),t.refeshListRoom(),p.default.getInstance().send(new h.default.CmdReconnectRoom);break;case h.default.Code.TOPSERVER:case h.default.Code.CMD_PINGPONG:case h.default.Code.CMD_JOIN_ROOM:case h.default.Code.CMD_RECONNECT_ROOM:case h.default.Code.CMD_RECONNECT_ROOM:case h.default.Code.MONEY_BET_CONFIG:s.default.instance.showLoading(!1);break;case h.default.Code.JOIN_ROOM_FAIL:s.default.instance.showLoading(!1);var o="L\u1ed7i "+(n=new h.default.ReceivedJoinRoomFail(e)).getError()+", kh\xf4ng x\xe1c \u0111\u1ecbnh.";switch(n.getError()){case 1:o="L\u1ed7i ki\u1ec3m tra th\xf4ng tin!";break;case 2:o="Kh\xf4ng t\xecm \u0111\u01b0\u1ee3c ph\xf2ng th\xedch h\u1ee3p. Vui l\xf2ng th\u1eed l\u1ea1i sau!";break;case 3:o="B\u1ea1n kh\xf4ng \u0111\u1ee7 ti\u1ec1n v\xe0o ph\xf2ng ch\u01a1i n\xe0y!";break;case 4:o="Kh\xf4ng t\xecm \u0111\u01b0\u1ee3c ph\xf2ng th\xedch h\u1ee3p. Vui l\xf2ng th\u1eed l\u1ea1i sau!";break;case 5:o="M\u1ed7i l\u1ea7n v\xe0o ph\xf2ng ph\u1ea3i c\xe1ch nhau 10 gi\xe2y!";break;case 6:o="H\u1ec7 th\u1ed1ng b\u1ea3o tr\xec!";break;case 7:o="Kh\xf4ng t\xecm th\u1ea5y ph\xf2ng ch\u01a1i!";break;case 8:o="M\u1eadt kh\u1ea9u ph\xf2ng ch\u01a1i kh\xf4ng \u0111\xfang!";break;case 9:o="Ph\xf2ng ch\u01a1i \u0111\xe3 \u0111\u1ee7 ng\u01b0\u1eddi!";break;case 10:o="B\u1ea1n b\u1ecb ch\u1ee7 ph\xf2ng kh\xf4ng cho v\xe0o b\xe0n!"}s.default.instance.alertDialog.showMsg(o);break;case h.default.Code.GET_LIST_ROOM:for(var n=new h.default.ReceivedGetListRoom(e),i=0;i<n.list.length;i++){var a=n.list[i],u=cc.instantiate(t.prefabItemRoom);u.getComponent("BaiCao.ItemRoom").initItem(a),t.contentListRooms.addChild(u)}t.scrollListRoom.scrollToTop(.2);break;case h.default.Code.JOIN_GAME_ROOM_BY_ID:s.default.instance.showLoading(!1);break;case h.default.Code.MO_BAI:s.default.instance.showLoading(!1);var C=(n=new h.default.ReceivedMoBai(e)).chairMoBai,m=n.cards,v=t.findPlayerSeatByPos(C);if(-1!=v&&0!=v){t.getPlayerHouse(v).prepareToTransform();for(var b=0;b<3;b++){var B=f.default.getNormalId(m[b]);t.getPlayerHouse(v).transformToCardReal(b,t.spriteCards[B])}t.getPlayerHouse(v).showCardName(t.getCardsScore(m)+" \u0110i\u1ec3m")}break;case h.default.Code.BAT_DAU:s.default.instance.showLoading(!1),n=new h.default.ReceivedFirstTurnDecision(e),t.resetHubChips(),t.closePopupMatchResult();break;case h.default.Code.KET_THUC:s.default.instance.showLoading(!1),n=new h.default.ReceivedEndGame(e),t.unschedule(t.intervalEnd),t.notifyTimeEnd.active=!1;for(var R=n.cardList,I=(n.tienThangChuong,n.tienThangGa,n.keCuaMoneyList,n.danhBienMoneyList,n.tongTienCuoiVan,n.tongTienCuocList),_=n.tongDanhBienList,S=n.tongKeCuaList,P=n.tongCuocGaList,L=n.tongCuoiVanList,w=n.currentMoneyList,O=(n.timeEndGame,[]),N=0;N<8;N++)R[N].length>0&&O.push(N);var T=[];for(N=0;N<8;N++){var A=O.indexOf(y[N].playerPos);if(-1!==A){m=R[O[A]];var E=t.getPlayerHouse(N).node.children[2].children[0];for(b=0;b<3;b++)1==E.children[b].scale&&(B=f.default.getNormalId(m[b]),t.getPlayerHouse(N).transformToCardReal(b,t.spriteCards[B]));t.getPlayerHouse(N).showCardName(t.getCardsScore(m)+" \u0110i\u1ec3m"),T.push({userName:y[N].playerId,bet:I[O[A]],bien:_[O[A]],ke:S[O[A]],ga:P[O[A]],total:L[O[A]]});var D={moneyChange:L[O[A]],money:w[O[A]],ga:P[O[A]]};0==N&&(d.default.Login.Coin=D.money,r.default.send(r.default.USER_UPDATE_COIN)),D.moneyChange>=0?t.getPlayerHouse(N).fxWin(D):t.getPlayerHouse(N).fxLose(D)}}T.length>0&&setTimeout(function(){t.showPopupMatchResult(T)},4e3);break;case h.default.Code.YEU_CAU_DANH_BIEN:s.default.instance.showLoading(!1);var M=(n=new h.default.ReceivedYeuCauDanhBien(e)).danhBienChair,k=n.level;if(t.arrPosDanhBien.indexOf(M)>-1);else{var H=t.currentRoomBet*k,G=t.findPlayerSeatByPos(M);-1!=G&&t.getPlayerHouse(G).showPopupRequestDanhBien(H)}break;case h.default.Code.CHIA_BAI:for(s.default.instance.showLoading(!1),n=new h.default.ReceivedChiaBai(e),t.btnBet.active=!1,t.btnOpenCard.active=!1,N=1;N<8;N++)t.getPlayerHouse(N).showPopupBet(!1),t.getPlayerHouse(N).closePopupRequestDanhBien();t.matchPot.getComponent(cc.Button).interactable=!1,t.matchPot.children[0].color=cc.Color.GRAY,m=n.cards;var U=n.timeChiaBai;clearTimeout(t.timeoutEndGame),t.timeoutEndGame=setTimeout(function(){t.startEndCountDown(U)},2e3),t.currentCard=m;var V=t.getNumPlayers(),F=V.length;for(N=0;N<24;N++)t.cardsDeal.children[N].active=!(N>=3*F),t.cardsDeal.children[N].position=cc.v2(0,0);for(b=0;b<3;b++)for(var Y=0;Y<F;Y++){var x=V[Y];if(-1!==x){var K=t.cardsDeal.children[b*F+Y],j=t.groupPlayers.children[x].position;K.runAction(cc.sequence(cc.delayTime(.1*(b*F+Y)),cc.moveTo(.2,j)))}}var W=1e3*(.4+.1*(2*F+(F-1)));clearTimeout(t.timeoutChiaBaiDone),t.timeoutChiaBaiDone=setTimeout(function(){for(var e=0;e<24;e++)t.cardsDeal.children[e].active=!1;for(e=0;e<F;e++){var o=V[e];-1!==o&&(0==o&&t.getPlayerHouse(o).resetCardReady(),t.getPlayerHouse(o).showCardReady(!0),t.getPlayerHouse(o).showCardReal(!1))}},W);break;case h.default.Code.KE_CUA:s.default.instance.showLoading(!1),(n=new h.default.ReceivedKeCua(e)).chairKeCuaFrom,n.chairKeCuaTo,k=n.level;break;case h.default.Code.TU_DONG_BAT_DAU:s.default.instance.showLoading(!1),(n=new h.default.ReceivedAutoStart(e)).isAutoStart&&(t.resetHubChips(),t.startWaittingCountDown(n.timeAutoStart),t.btnBet.active=!1,t.btnOpenCard.active=!1,t.matchPot.active=!1,t.matchPot.getComponent(cc.Button).interactable=!0,t.matchPot.children[0].color=cc.Color.WHITE,t.resetPlayersPlaying(),t.arrPosDanhBien=[]),t.closePopupMatchResult();break;case h.default.Code.DONG_Y_DANH_BIEN:s.default.instance.showLoading(!1),M=(n=new h.default.ReceivedChapNhanDanhBien(e)).danhBienChair,k=n.level,t.arrPosDanhBien.push(M);var q=t.findPlayerSeatByPos(M);-1!=q&&(t.getPlayerHouse(q).disableDanhBien(k),t.getPlayerHouse(q).playFxDanhBien());break;case h.default.Code.DAT_CUOC:s.default.instance.showLoading(!1);var z=(n=new h.default.ReceivedDatCuoc(e)).chairDatCuoc,J=(k=n.level,t.findPlayerSeatByPos(z));-1!=J&&(t.getPlayerHouse(J).setBet(t.arrBetValue[k-1]),t.getPlayerHouse(J).addChips());break;case h.default.Code.THONG_TIN_BAN_CHOI:s.default.instance.showLoading(!1),n=new h.default.ReceivedGameInfo(e),t.closeUIRoom(),t.showUIPlaying(),t.closePopupMatchResult(),t.closeUIChat();var X=n.myChair,Z=n.chuongChair,Q=(m=n.cards,n.cuocDanhBienList,n.cuocKeCuaList,n.gameServerState,n.isAutoStart,n.gameAction),$=(n.countDownTime,n.moneyType,n.moneyBet),tt=(n.gameId,n.roomId),et=n.hasInfo;n.players,t.labelRoomId.string="B\xc0I C\xc0O - PH\xd2NG: "+tt,t.labelRoomBet.string="M\u1ee8C C\u01af\u1ee2C: "+c.default.formatNumber($)+"$",t.currentRoomBet=$,t.gameState=Q,t.currentCard=m,y[0].playerId=d.default.Login.Nickname,y[0].playerPos=X;var ot=[];for(N=0;N<et.length;N++)et[N]&&ot.push(N);for(b=0;b<y.length;b++)y[b].playerPos=g[X][b];for(N=0;N<y.length;N++){var nt=ot.indexOf(y[N].playerPos),it=y[N].seatId;t.getPlayerHouse(it).resetPlayerInfo(),nt>-1?(t.getPlayerHouse(it).setIsViewer(!1),t.setupSeatPlayer(it,{nickName:"",avatar:c.default.randomRange(1,9),money:""})):(t.getPlayerHouse(it).showBtnInvite(!0),y[N].isViewer=!0)}for(N=0;N<8;N++)t.getPlayerHouse(N).setOwner(!1);var at=t.findPlayerSeatByPos(Z);-1!==at&&(t.getPlayerHouse(at).setOwner(!0),t.seatOwner=at),t.resetHubChips();break;case h.default.Code.DANG_KY_THOAT_PHONG:s.default.instance.showLoading(!1);var rt=(n=new h.default.ReceivedNotifyRegOutRoom(e)).outChair,ct=n.isOutRoom,st=t.findPlayerSeatByPos(rt);-1!==st&&(ct?t.getPlayerHouse(st).showNotify("S\u1eafp r\u1eddi b\xe0n !"):t.getPlayerHouse(st).showNotify("Kh\xf4 M\xe1u !"));break;case h.default.Code.VAO_GA:s.default.instance.showLoading(!1);var lt=(n=new h.default.ReceivedVaoGa(e)).chair,ut=n.chicKenBet,dt=t.findPlayerSeatByPos(lt);-1!=dt&&(t.hubChips.children[2*dt].active=!0,t.hubChips.children[2*dt+1].active=!0,t.fxMoveChips(t.hubChips.children[2*dt],.1,t.matchPot.x,t.matchPot.y),t.fxMoveChips(t.hubChips.children[2*dt+1],.2,t.matchPot.x,t.matchPot.y),t.currentMatchPotValue+=ut,t.labelMatchPot.string=c.default.formatNumber(t.currentMatchPotValue),t.getPlayerHouse(dt).playFxVaoGa());break;case h.default.Code.DOI_CHUONG:for(s.default.instance.showLoading(!1),n=new h.default.ReceivedDoiChuong(e),N=0;N<8;N++)t.getPlayerHouse(N).setOwner(!1);var ht=t.findPlayerSeatByPos(n.chuongChair);-1!=ht&&(t.getPlayerHouse(ht).setOwner(!0),t.seatOwner=ht);break;case h.default.Code.MOI_DAT_CUOC:for(s.default.instance.showLoading(!1),n=new h.default.ReceivedMoiDatCuoc(e),t.startBettingCountDown(n.timeDatCuoc),t.arrBetValue=[],t.matchPot.active=!0,t.currentMatchPotValue=0,t.labelMatchPot.string="0",N=0;N<4;N++){t.arrBetValue.push(t.currentRoomBet*(N+1));var pt=t.currentRoomBet*(4-N);t.betChooseValue.children[N].children[0].getComponent(cc.Label).string=1500==pt?"1.5K":c.default.formatNumberMin(pt)}0==t.seatOwner?(t.btnOpenCard.active=!1,t.btnBet.active=!1,t.matchPot.getComponent(cc.Button).interactable=!1,t.matchPot.children[0].color=cc.Color.GRAY):(t.btnBet.active=!0,t.btnOpenCard.active=!1,t.matchPot.getComponent(cc.Button).interactable=!0,t.matchPot.children[0].color=cc.Color.WHITE,t.setupBet()),t.numCardOpened=0;break;case h.default.Code.CHEAT_CARDS:case h.default.Code.DANG_KY_CHOI_TIEP:case h.default.Code.UPDATE_OWNER_ROOM:s.default.instance.showLoading(!1);break;case h.default.Code.JOIN_ROOM_SUCCESS:s.default.instance.showLoading(!1),n=new h.default.ReceivedJoinRoomSucceed(e),t.closeUIRoom(),t.setupMatch(n);break;case h.default.Code.LEAVE_GAME:s.default.instance.showLoading(!1),lt=(n=new h.default.ReceivedUserLeaveRoom(e)).chair;var ft=t.findPlayerSeatByPos(lt);if(-1!==ft){for(N=0;N<y.length;N++)y[N].seatId==ft&&(y[N].playerId=-1,y[N].isViewer=!0);t.getPlayerHouse(ft).resetPlayerInfo(),t.getPlayerHouse(ft).showBtnInvite(!0),1==t.getNumPlayers().length&&(t.resetPlayersPlaying(),t.matchPot.active=!1),0==ft&&(t.UI_Playing.active=!1,t.UI_ChooseRoom.active=!0,t.refeshListRoom())}break;case h.default.Code.NOTIFY_KICK_FROM_ROOM:s.default.instance.showLoading(!1),n=new h.default.ReceivedKickOff(e);break;case h.default.Code.NEW_USER_JOIN:s.default.instance.showLoading(!1),D=(n=new h.default.ReceivedUserJoinRoom(e)).info;var yt=n.uChair,gt=n.uStatus;for(N=0;N<y.length;N++)if(y[N].playerPos==yt){it=y[N].seatId,t.getPlayerHouse(it).resetPlayerInfo();var Ct={avatar:D.avatar,nickName:D.nickName,money:D.money};t.setupSeatPlayer(it,Ct),gt==h.default.Code.PLAYER_STATUS_VIEWER?(t.getPlayerHouse(it).setIsViewer(!0),y[it].isViewer=!0):(y[it].isViewer=!1,t.getPlayerHouse(it).setIsViewer(!1))}break;case h.default.Code.NOTIFY_USER_GET_JACKPOT:s.default.instance.showLoading(!1);break;case h.default.Code.UPDATE_MATCH:s.default.instance.showLoading(!1),X=(n=new h.default.ReceivedUpdateMatch(e)).myChair,et=n.hasInfo;var mt=n.infos;for(N=0;N<et.length;N++){var vt=y[N].playerPos;et[vt]?(t.getPlayerHouse(N).setGold(mt[vt].money),y[N].playerId=mt[vt].nickName,mt[vt].status==h.default.Code.PLAYER_STATUS_SITTING||mt[vt].status==h.default.Code.PLAYER_STATUS_PLAYING?(y[N].isViewer=!1,t.getPlayerHouse(N).setIsViewer(!1)):(y[N].isViewer=!0,t.getPlayerHouse(N).setIsViewer(!0)),t.setupSeatPlayer(N,mt[vt])):(y[N].playerId=-1,y[N].isViewer=!0)}break;case h.default.Code.CHAT_ROOM:s.default.instance.showLoading(!1),lt=(n=new h.default.ReceivedChatRoom(e)).chair;var bt=n.isIcon,Bt=n.content;if(bt){var Rt=t.findPlayerSeatByPos(lt);-1!=Rt&&t.getPlayerHouse(Rt).showChatEmotion(Bt)}else{var It=t.findPlayerSeatByPos(lt);-1!=It&&t.getPlayerHouse(It).showChatMsg(Bt)}}},this)},e.prototype.actionLeaveRoom=function(){p.default.getInstance().send(new h.default.CmdSendRequestLeaveGame)},e.prototype.actionOpenCard=function(){p.default.getInstance().send(new h.default.CmdSendMoBai),this.btnOpenCard.active=!1},e.prototype.actionSendVaoGa=function(){p.default.getInstance().send(new h.default.SendVaoGa),this.matchPot.children[0].color=cc.Color.WHITE,this.matchPot.getComponent(cc.Button).interactable=!1},e.prototype.actionAcceptDanhBien=function(t,e){p.default.getInstance().send(new h.default.CmdSendAcceptDanhBien(y[e].playerPos)),this.getPlayerHouse(e).closePopupRequestDanhBien(!1)},e.prototype.increaseBetValue=function(){this.currentBetSelectedIndex==this.arrBetValue.length-1||(this.currentBetSelectedIndex+=1),this.betChooseValueTarget.y=this.arrBetPos[this.currentBetSelectedIndex]},e.prototype.decreaseBetValue=function(){0==this.currentBetSelectedIndex||(this.currentBetSelectedIndex-=1),this.betChooseValueTarget.y=this.arrBetPos[this.currentBetSelectedIndex]},e.prototype.actionBet=function(){p.default.getInstance().send(new h.default.CmdSendDatCuoc(this.currentBetSelectedIndex+1)),this.btnBet.active=!1;for(var t=0;t<y.length;t++)t===this.seatOwner||y[t].isViewer||-1===y[t].playerId||(this.getPlayerHouse(t).setBet(this.currentRoomBet),this.getPlayerHouse(t).addChips(),0!=t&&(this.getPlayerHouse(t).showPopupBet(!0),this.getPlayerHouse(t).setupBetValue(this.currentRoomBet)))},e.prototype.actionDanhBien=function(t,e){var o=parseInt(e.substring(0,1)),n=parseInt(e.substring(1,2)),i=this.findPlayerPosBySeat(o);-1!=i&&(this.getPlayerHouse(o).disableDanhBien(n),this.getPlayerHouse(o).showNotify("\u0110\xe1nh bi\xean"),p.default.getInstance().send(new h.default.CmdSendDanhBien(i,n)))},e.prototype.actionKeCua=function(t,e){var o=parseInt(e.substring(0,1)),n=parseInt(e.substring(1,2))-2,i=this.findPlayerPosBySeat(o);-1!=i&&(this.getPlayerHouse(o).disableKeCua(n),p.default.getInstance().send(new h.default.CmdSendKeCua(i,n)))},e.prototype.initConfigPlayer=function(){y=[];for(var t=0;t<8;t++)y.push({seatId:t,playerId:-1,playerPos:-1,isViewer:!0})},e.prototype.resetPlayersPlaying=function(){for(var t=0;t<8;t++)this.getPlayerHouse(t).resetMatchHistory()},e.prototype.setupSeatPlayer=function(t,e){y[t].playerId=e.nickName,this.getPlayerHouse(t).setAvatar(e.avatar),this.getPlayerHouse(t).setName(e.nickName),this.getPlayerHouse(t).setGold(e.money)},e.prototype.findPlayerSeatByUid=function(t){for(var e=-1,o=0;o<y.length;o++)y[o].playerId===t&&(e=y[o].seatId);return e},e.prototype.findPlayerPosBySeat=function(t){return y[t].playerPos},e.prototype.findPlayerSeatByPos=function(t){if(-1==t)return-1;for(var e=-1,o=0;o<y.length;o++)y[o].playerPos===t&&(e=y[o].seatId);return e},e.prototype.getPlayerHouse=function(t){return this.groupPlayers.children[t].getComponent("BaiCao.Player")},e.prototype.getNumPlayers=function(){for(var t=[],e=0;e<y.length;e++)-1===y[e].playerId||y[e].isViewer||t.push(y[e].seatId);return t},e.prototype.update=function(){},e.instance=null,a([v(cc.Node)],e.prototype,"UI_ChooseRoom",void 0),a([v(cc.Label)],e.prototype,"labelNickName",void 0),a([v(cc.Label)],e.prototype,"labelCoin",void 0),a([v(cc.Node)],e.prototype,"contentListRooms",void 0),a([v(cc.Prefab)],e.prototype,"prefabItemRoom",void 0),a([v(cc.ScrollView)],e.prototype,"scrollListRoom",void 0),a([v(cc.EditBox)],e.prototype,"edtFindRoom",void 0),a([v(cc.Toggle)],e.prototype,"btnHideRoomFull",void 0),a([v(cc.Node)],e.prototype,"UI_Playing",void 0),a([v(cc.Node)],e.prototype,"meCards",void 0),a([v(cc.Node)],e.prototype,"groupPlayers",void 0),a([v(cc.SpriteFrame)],e.prototype,"spriteCards",void 0),a([v(cc.SpriteFrame)],e.prototype,"spriteCardBack",void 0),a([v(cc.Node)],e.prototype,"matchPot",void 0),a([v(cc.Label)],e.prototype,"labelMatchPot",void 0),a([v(cc.Node)],e.prototype,"cardsDeal",void 0),a([v(cc.Node)],e.prototype,"btnBet",void 0),a([v(cc.Node)],e.prototype,"btnOpenCard",void 0),a([v(cc.Button)],e.prototype,"btnLeaveRoom",void 0),a([v(cc.Node)],e.prototype,"hubChips",void 0),a([v(cc.Label)],e.prototype,"labelRoomId",void 0),a([v(cc.Label)],e.prototype,"labelRoomBet",void 0),a([v(cc.Node)],e.prototype,"actionBetting",void 0),a([v(cc.Node)],e.prototype,"betChooseValue",void 0),a([v(cc.Node)],e.prototype,"betChooseValueTarget",void 0),a([v(cc.Node)],e.prototype,"popupMatchResult",void 0),a([v(cc.Node)],e.prototype,"contentMatchResult",void 0),a([v(cc.Prefab)],e.prototype,"prefabItemResult",void 0),a([v(cc.ScrollView)],e.prototype,"scrollMatchResult",void 0),a([v(cc.Node)],e.prototype,"notifyTimeStart",void 0),a([v(cc.Node)],e.prototype,"notifyTimeEnd",void 0),a([v(cc.Node)],e.prototype,"notifyTimeBet",void 0),a([v(cc.Node)],e.prototype,"UI_Chat",void 0),a([v(cc.EditBox)],e.prototype,"edtChatInput",void 0),a([v(cc.Node)],e.prototype,"popupNodity",void 0),a([v(cc.Label)],e.prototype,"labelNotifyContent",void 0),a([v(cc.Node)],e.prototype,"popupGuide",void 0),o=a([m],e)}(cc.Component);o.default=b,cc._RF.pop()},{"../../Loading/src/Configs":void 0,"../../Lobby/LobbyScript/Script/common/App":void 0,"../../Lobby/LobbyScript/Script/common/BroadcastReceiver":void 0,"../../Lobby/LobbyScript/Script/common/Utils":void 0,"../../Lobby/LobbyScript/Script/networks/Network.Cmd":void 0,"../../Lobby/LobbyScript/Script/networks/Network.InPacket":void 0,"./BaiCao.CardUtil":"BaiCao.CardUtil","./BaiCao.Cmd":"BaiCao.Cmd","./BaiCao.NetworkClient":"BaiCao.NetworkClient"}],"BaiCao.ItemResult":[function(t,e,o){"use strict";cc._RF.push(e,"bfa281xRbFIXYvZlv9D71E0","BaiCao.ItemResult");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../Lobby/LobbyScript/Script/common/Utils"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelUserName=null,e.labelBet=null,e.labelBien=null,e.labelKe=null,e.labelGa=null,e.labelTotal=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.initItem=function(t){this.labelUserName.string=t.userName,this.labelBet.string=r.default.formatNumber(t.bet),this.labelBien.string=r.default.formatNumber(t.bien),this.labelKe.string=r.default.formatNumber(t.ke),this.labelGa.string=r.default.formatNumber(t.ga),this.labelTotal.string=r.default.formatNumber(t.total),this.labelBet.node.color=t.bet>0?cc.Color.YELLOW:cc.Color.WHITE,this.labelBien.node.color=t.bien>0?cc.Color.YELLOW:cc.Color.WHITE,this.labelKe.node.color=t.ke>0?cc.Color.YELLOW:cc.Color.WHITE,this.labelGa.node.color=t.ga>0?cc.Color.YELLOW:cc.Color.WHITE,this.labelTotal.node.color=t.total>0?cc.Color.YELLOW:cc.Color.WHITE},a([l(cc.Label)],e.prototype,"labelUserName",void 0),a([l(cc.Label)],e.prototype,"labelBet",void 0),a([l(cc.Label)],e.prototype,"labelBien",void 0),a([l(cc.Label)],e.prototype,"labelKe",void 0),a([l(cc.Label)],e.prototype,"labelGa",void 0),a([l(cc.Label)],e.prototype,"labelTotal",void 0),a([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../Lobby/LobbyScript/Script/common/Utils":void 0}],"BaiCao.ItemRoom":[function(t,e,o){"use strict";cc._RF.push(e,"35822yBG6dOfY3wYyq4yJS6","BaiCao.ItemRoom");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BaiCao.Controller"),c=t("../../Lobby/LobbyScript/Script/common/Utils"),s=cc._decorator,l=s.ccclass,u=s.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelBet=null,e.labelBetMin=null,e.labelNumPlayers=null,e.progressNumPlayers=null,e.roomInfo=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.initItem=function(t){this.roomInfo=t,this.labelBet.string=c.default.formatNumber(t.moneyBet),this.labelBetMin.string=c.default.formatNumber(t.requiredMoney),this.labelNumPlayers.string=t.userCount+"/"+t.maxUserPerRoom,this.progressNumPlayers.fillRange=t.userCount/t.maxUserPerRoom},e.prototype.chooseRoom=function(){r.default.instance.joinRoom(this.roomInfo)},a([u(cc.Label)],e.prototype,"labelBet",void 0),a([u(cc.Label)],e.prototype,"labelBetMin",void 0),a([u(cc.Label)],e.prototype,"labelNumPlayers",void 0),a([u(cc.Sprite)],e.prototype,"progressNumPlayers",void 0),a([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../Lobby/LobbyScript/Script/common/Utils":void 0,"./BaiCao.Controller":"BaiCao.Controller"}],"BaiCao.NetworkClient":[function(t,e,o){"use strict";cc._RF.push(e,"49497VFSR9CKbNn0Zli/4Jo","BaiCao.NetworkClient");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../Loading/src/Configs"),r=t("../../Lobby/LobbyScript/Script/networks/Network.NetworkClient"),c=t("../../Lobby/LobbyScript/Script/networks/Network.NetworkListener"),s=function(t){function e(){var e=t.call(this)||this;return e.listeners=new Array,e.isUseWSS=a.default.App.USE_WSS,e}return i(e,t),e.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},e.prototype.connect=function(){t.prototype.connect.call(this,a.default.App.HOST_BAICAO.host,a.default.App.HOST_BAICAO.port)},e.prototype.onOpen=function(e){t.prototype.onOpen.call(this,e)},e.prototype.onMessage=function(t){for(var e=new Uint8Array(t.data),o=0;o<this.listeners.length;o++){var n=this.listeners[o];n.target&&n.target instanceof Object&&n.target.node?n.callback(e):(this.listeners.splice(o,1),o--)}},e.prototype.addListener=function(t,e){this.listeners.push(new c.default(e,t))},e.prototype.send=function(t){for(var e=new Int8Array(t._length),o=0;o<t._length;o++)e[o]=t._data[o];null!=this.ws&&this.isConnected()&&this.ws.send(e.buffer)},e}(r.default);o.default=s,cc._RF.pop()},{"../../Loading/src/Configs":void 0,"../../Lobby/LobbyScript/Script/networks/Network.NetworkClient":void 0,"../../Lobby/LobbyScript/Script/networks/Network.NetworkListener":void 0}],"BaiCao.Player":[function(t,e,o){"use strict";cc._RF.push(e,"62496vjvC9JXqua2Il+i42X","BaiCao.Player");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../Lobby/LobbyScript/Script/common/App"),c=t("../../Lobby/LobbyScript/Script/common/Utils"),s=cc._decorator,l=s.ccclass,u=s.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnInvite=null,e.avatar=null,e.cardReady=null,e.cardReal=null,e.userName=null,e.userGold=null,e.owner=null,e.cardsName=null,e.actionVaoGa=null,e.actionDanhBien=null,e.actionViewer=null,e.actionThinking=null,e.actionWin=null,e.goldWin=null,e.actionLose=null,e.goldLose=null,e.hub=null,e.goldBet=null,e.prefabItemChip=null,e.notify=null,e.chatEmotion=null,e.chatMsg=null,e.shadowAvatar=null,e.shadowInfo=null,e.spriteCardBack=null,e.popupBet=null,e.popupRequestDanhBien=null,e.labelValueDanhBien=null,e.posCardOpened=null,e.timeoutNotify=null,e.timeoutShowCardName=null,e.timeoutChat=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.updatePosCardOpened=function(t){this.posCardOpened=t},e.prototype.showChatEmotion=function(t){var e=this;this.node.children[7].active=!0,this.chatEmotion.active=!0,this.chatMsg.active=!1,clearTimeout(this.timeoutChat),this.chatEmotion.getComponent(sp.Skeleton).setAnimation(0,t,!0),this.timeoutChat=setTimeout(function(){e.chatEmotion.active=!1,e.chatMsg.active=!1},3e3)},e.prototype.showChatMsg=function(t){var e=this;this.node.children[7].active=!0,this.chatEmotion.active=!1,this.chatMsg.active=!0,clearTimeout(this.timeoutChat),this.chatMsg.children[1].getComponent(cc.Label).string=t,this.timeoutChat=setTimeout(function(){e.chatEmotion.active=!1,e.chatMsg.active=!1},3e3)},e.prototype.showPopupBet=function(t){this.popupBet.active=t,t&&(this.popupBet.children[2].active=!0,this.popupBet.children[3].active=!0,this.popupBet.children[5].active=!0,this.popupBet.children[6].active=!0,this.setCanDanhBien(!0),this.setCanKeCua(!0))},e.prototype.setupBetValue=function(t){this.popupBet.children[2].children[1].getComponent(cc.Label).string=c.default.formatNumber(t),this.popupBet.children[3].children[1].getComponent(cc.Label).string=c.default.formatNumber(2*t),this.popupBet.children[5].children[1].getComponent(cc.Label).string=c.default.formatNumber(t),this.popupBet.children[6].children[1].getComponent(cc.Label).string=c.default.formatNumber(2*t)},e.prototype.disableDanhBien=function(t){1==t?this.popupBet.children[3].active=!1:this.popupBet.children[2].active=!1,this.setCanDanhBien(!1)},e.prototype.disableKeCua=function(t){1==t?this.popupBet.children[6].active=!1:this.popupBet.children[5].active=!1,this.setCanKeCua(!1)},e.prototype.setCanDanhBien=function(t){this.popupBet.children[2].getComponent(cc.Button).interactable=t,this.popupBet.children[3].getComponent(cc.Button).interactable=t},e.prototype.setCanKeCua=function(t){this.popupBet.children[5].getComponent(cc.Button).interactable=t,this.popupBet.children[6].getComponent(cc.Button).interactable=t},e.prototype.showBtnInvite=function(t){this.btnInvite.active=t},e.prototype.setOwner=function(t){this.owner.active=t},e.prototype.setAvatar=function(t){this.node.children[1].active=!0,this.avatar.getComponent(cc.Sprite).spriteFrame=r.default.instance.getAvatarSpriteFrame(t)},e.prototype.setIsViewer=function(t){this.shadowAvatar.active=t,this.shadowInfo.active=t},e.prototype.setName=function(t){this.node.children[3].active=!0,this.userName.string=t},e.prototype.showCardReady=function(t){this.node.children[2].active=!0,this.cardReady.active=t},e.prototype.showCardReal=function(t){this.node.children[2].active=!0,this.cardReal.active=t},e.prototype.prepareToTransform=function(){this.prepareCardReal(0),this.prepareCardReal(1),this.prepareCardReal(2)},e.prototype.prepareCardReal=function(t){this.cardReal.children[t].runAction(cc.scaleTo(0,0,1))},e.prototype.transformToCardReal=function(t,e){this.showCardReal(!0),this.cardReal.children[t].children[0].getComponent(cc.Sprite).spriteFrame=e,this.cardReady.children[t].runAction(cc.sequence(cc.scaleTo(.15,0,1),cc.callFunc(function(){}))),this.cardReal.children[t].runAction(cc.sequence(cc.delayTime(.15),cc.scaleTo(.15,1,1),cc.callFunc(function(){})))},e.prototype.showCardName=function(t){var e=this;this.cardsName.active=!0,this.cardsName.children[0].getComponent(cc.Label).string=t,clearTimeout(this.timeoutShowCardName),this.timeoutShowCardName=setTimeout(function(){e.cardsName.active=!1},4500)},e.prototype.setGold=function(t){this.actionThinking.active=!1,this.showGold(!0),this.userGold.string=this.formatGold(t)},e.prototype.setBet=function(t){this.showPlayerBet(!0),this.goldBet.string=this.formatGold(t)},e.prototype.addChips=function(){var t=cc.instantiate(this.prefabItemChip),e=cc.instantiate(this.prefabItemChip);this.hub.addChild(t),this.hub.addChild(e)},e.prototype.showPlayerBet=function(t){this.node.children[5].active=t,t||this.hub.removeAllChildren(!0)},e.prototype.setCardReal01=function(t){this.cardReal.children[0].children[0].getComponent(cc.Sprite).spriteFrame=t},e.prototype.setCardReal02=function(t){this.cardReal.children[1].children[0].getComponent(cc.Sprite).spriteFrame=t},e.prototype.showPlayCountdown=function(){this.node.children[4].active=!0,this.actionThinking.active=!0,this.processThinking(0)},e.prototype.hidePlayCountdown=function(){this.actionThinking.active=!1},e.prototype.processThinking=function(t){this.actionThinking.getComponent(cc.Sprite).fillRange=t},e.prototype.showGold=function(t){this.node.children[3].children[2].active=t},e.prototype.showPopupRequestDanhBien=function(t){this.popupRequestDanhBien.active=!0,this.labelValueDanhBien.string=this.formatGold(t)},e.prototype.closePopupRequestDanhBien=function(){this.popupRequestDanhBien.active=!1},e.prototype.prepareFxAction=function(){this.node.children[4].active=!0,this.resetAction()},e.prototype.playFxDanhBien=function(){this.node.children[4].active=!0,this.actionDanhBien.active=!0,this.actionDanhBien.runAction(cc.sequence(cc.scaleTo(0,0),cc.scaleTo(.1,1.1,1.1),cc.scaleTo(.05,1,1)))},e.prototype.playFxVaoGa=function(){this.node.children[4].active=!0,this.actionVaoGa.active=!0,this.actionVaoGa.runAction(cc.sequence(cc.scaleTo(0,0),cc.scaleTo(.1,1.1,1.1),cc.scaleTo(.05,1,1)))},e.prototype.playFxViewer=function(){this.prepareFxAction(),this.actionViewer.active=!0},e.prototype.fxOtherPlayerFold=function(){this.cardReady.runAction(cc.moveBy(.5,0,-100))},e.prototype.fxMeFold=function(){this.shadowCardReal(!0),this.cardReal.runAction(cc.moveBy(.5,0,-20))},e.prototype.showEatGa=function(t){this.actionWin.children[3].active=t},e.prototype.fxWin=function(t){var e=this;this.node.children[4].active=!0,this.actionWin.active=!0,this.fxGoldChange(0,t.moneyChange,this.goldWin.node),this.setGold(this.formatGold(t.money)),this.showEatGa(t.ga>0),setTimeout(function(){e.actionWin.active=!1,e.node.children[4].active=!1},2500)},e.prototype.fxLose=function(t){var e=this;this.node.children[4].active=!0,this.actionLose.active=!0,this.fxGoldChange(0,t.moneyChange,this.goldLose.node),this.setGold(this.formatGold(t.money)),setTimeout(function(){e.actionLose.active=!1,e.node.children[4].active=!1},2500)},e.prototype.shadowCardReady=function(t){this.cardReady.children[0].color=t?cc.Color.GRAY:cc.Color.WHITE,this.cardReady.children[1].color=t?cc.Color.GRAY:cc.Color.WHITE,this.cardReady.children[2].color=t?cc.Color.GRAY:cc.Color.WHITE},e.prototype.shadowCardReal=function(t){this.cardReal.children[0].children[0].color=t?cc.Color.GRAY:cc.Color.WHITE,this.cardReal.children[1].children[0].color=t?cc.Color.GRAY:cc.Color.WHITE,this.cardReal.children[2].children[0].color=t?cc.Color.GRAY:cc.Color.WHITE},e.prototype.setCardWin=function(t,e){this.cardReal.children[t].children[0].color=e?cc.Color.WHITE:cc.Color.GRAY},e.prototype.showNotify=function(t){var e=this;this.notify.active=!0,this.notify.children[1].getComponent(cc.Label).string=t,clearTimeout(this.timeoutNotify),this.timeoutNotify=setTimeout(function(){e.notify.active=!1},1500)},e.prototype.resetAction=function(){for(var t=0;t<this.node.children[4].childrenCount;t++)this.node.children[4].children[t].active=!1},e.prototype.resetMatchHistory=function(){this.resetCardReady(),this.resetCardReal(),this.node.children[2].active=!1,this.showGold(!0),this.cardsName.active=!1,this.resetAction(),this.node.children[5].active=!1,this.goldBet.string="0",this.hub.removeAllChildren(!0)},e.prototype.resetCardReady=function(){this.cardReady.children[0].scale=1,this.cardReady.children[1].scale=1,this.cardReady.children[2].scale=1,this.cardReady.active=!1},e.prototype.resetCardReal=function(){this.cardReal.active=!1,this.cardReal.y=0,this.cardReal.children[0].children[0].getComponent(cc.Sprite).spriteFrame=this.spriteCardBack,this.cardReal.children[1].children[0].getComponent(cc.Sprite).spriteFrame=this.spriteCardBack,this.cardReal.children[2].children[0].getComponent(cc.Sprite).spriteFrame=this.spriteCardBack,this.shadowCardReal(!1)},e.prototype.resetPlayerInfo=function(){for(var t=0;t<this.node.childrenCount;t++)this.node.children[t].active=!1;this.cardReal.children[0].children[0].getComponent(cc.Sprite).spriteFrame=this.spriteCardBack,this.cardReal.children[1].children[0].getComponent(cc.Sprite).spriteFrame=this.spriteCardBack,this.cardReal.children[2].children[0].getComponent(cc.Sprite).spriteFrame=this.spriteCardBack,this.cardReady.active=!1,this.cardReal.active=!1,this.cardsName.active=!1,this.actionVaoGa.active=!1,this.actionDanhBien.active=!1,this.actionViewer.active=!1,this.actionThinking.active=!1,this.actionWin.active=!1,this.actionLose.active=!1,this.goldBet.string="0",this.hub.removeAllChildren(!0),this.setIsViewer(!0)},e.prototype.fxGoldChange=function(t,e,o){var n=this,i=e-t;o.getComponent(cc.Label).string=this.formatGold(t);var a=Math.floor(i/10),r=cc.repeat(cc.sequence(cc.delayTime(.05),cc.callFunc(function(){t+=a,o.getComponent(cc.Label).string=(i>0?"+":"")+n.formatGold(t)})),10),c=cc.sequence(r,cc.callFunc(function(){t=e,o.getComponent(cc.Label).string=(i>0?"+":"")+n.formatGold(t)}));o.runAction(c)},e.prototype.formatGold=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},a([u(cc.Node)],e.prototype,"btnInvite",void 0),a([u(cc.Node)],e.prototype,"avatar",void 0),a([u(cc.Node)],e.prototype,"cardReady",void 0),a([u(cc.Node)],e.prototype,"cardReal",void 0),a([u(cc.Label)],e.prototype,"userName",void 0),a([u(cc.Label)],e.prototype,"userGold",void 0),a([u(cc.Node)],e.prototype,"owner",void 0),a([u(cc.Node)],e.prototype,"cardsName",void 0),a([u(cc.Node)],e.prototype,"actionVaoGa",void 0),a([u(cc.Node)],e.prototype,"actionDanhBien",void 0),a([u(cc.Node)],e.prototype,"actionViewer",void 0),a([u(cc.Node)],e.prototype,"actionThinking",void 0),a([u(cc.Node)],e.prototype,"actionWin",void 0),a([u(cc.Label)],e.prototype,"goldWin",void 0),a([u(cc.Node)],e.prototype,"actionLose",void 0),a([u(cc.Label)],e.prototype,"goldLose",void 0),a([u(cc.Node)],e.prototype,"hub",void 0),a([u(cc.Label)],e.prototype,"goldBet",void 0),a([u(cc.Prefab)],e.prototype,"prefabItemChip",void 0),a([u(cc.Node)],e.prototype,"notify",void 0),a([u(cc.Node)],e.prototype,"chatEmotion",void 0),a([u(cc.Node)],e.prototype,"chatMsg",void 0),a([u(cc.Node)],e.prototype,"shadowAvatar",void 0),a([u(cc.Node)],e.prototype,"shadowInfo",void 0),a([u(cc.SpriteFrame)],e.prototype,"spriteCardBack",void 0),a([u(cc.Node)],e.prototype,"popupBet",void 0),a([u(cc.Node)],e.prototype,"popupRequestDanhBien",void 0),a([u(cc.Label)],e.prototype,"labelValueDanhBien",void 0),a([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../Lobby/LobbyScript/Script/common/App":void 0,"../../Lobby/LobbyScript/Script/common/Utils":void 0}],"BaiCao.Res":[function(t,e,o){"use strict";cc._RF.push(e,"1b81bbcPQNAC4ICKZf7JrVh","BaiCao.Res"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){var t=this;this.cards=[],this.cardItem=null,cc.loader.loadResDir("sprites/LaBai",cc.SpriteFrame,function(e,o){t.cards=o}),cc.loader.loadRes("prefabs/card/card",cc.Prefab,function(e,o){t.cardItem=o})}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.getCardFace=function(t){return t<10&&(t="0"+t),this.cards.filter(function(e){return e.name=="labai_"+t})[0]},t.prototype.getCardItem=function(){return this.cardItem},t}();o.default=n,cc._RF.pop()},{}]},{},["BaiCao.Card","BaiCao.CardUtil","BaiCao.Cmd","BaiCao.Controller","BaiCao.ItemResult","BaiCao.ItemRoom","BaiCao.NetworkClient","BaiCao.Player","BaiCao.Res"]);