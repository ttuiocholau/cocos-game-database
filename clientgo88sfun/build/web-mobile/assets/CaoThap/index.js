window.__require=function t(e,n,o){function r(i,c){if(!n[i]){if(!e[i]){var s=i.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+i+"'")}i=s}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(t){return r(e[i][1][t]||t)},p,p.exports,t,e,n,o)}return n[i].exports}for(var a="function"==typeof __require&&__require,i=0;i<o.length;i++)r(o[i]);return r}({"CaoThap.CaoThapController":[function(t,e,n){"use strict";cc._RF.push(e,"36018wZkFBHeaYfjyMBFEbx","CaoThap.CaoThapController");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var r,a=arguments.length,i=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(i=(a<3?r(i):a>3?r(e,n,i):r(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0}),n.ButtonBet=void 0;var i=t("../../Loading/src/BundleControl"),c=t("../../Loading/src/Configs"),s=t("../../Lobby/LobbyScript/MiniGame"),l=t("../../Lobby/LobbyScript/Script/common/App"),p=t("../../Lobby/LobbyScript/Script/common/BroadcastReceiver"),u=t("../../Lobby/LobbyScript/Script/common/Tween"),d=t("../../Lobby/LobbyScript/Script/common/Utils"),b=t("../../Lobby/LobbyScript/Script/networks/MiniGameNetworkClient"),f=t("../../Lobby/LobbyScript/Script/networks/Network.InPacket"),h=t("./CaoThap.Cmd"),m=cc._decorator,g=m.ccclass,y=m.property,C=function(){function t(){this.button=null,this._isActive=!1}return t.prototype.setActive=function(t){this._isActive=t,this.button.node.color=t?cc.Color.WHITE:cc.Color.GRAY,this.button.interactable=!t},a([y(cc.Button)],t.prototype,"button",void 0),a([g("CaoThap.ButtonBet")],t)}();n.ButtonBet=C;var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprAtlasCards=null,e.sprCardBack=null,e.buttonBets=[],e.lblJackpot=null,e.lblSession=null,e.lblUp=null,e.lblCurrent=null,e.lblDown=null,e.lblStatus=null,e.lblTime=null,e.lblPlay=null,e.btnNewTurn=null,e.btnClose=null,e.btnPlay=null,e.btnUp=null,e.btnDown=null,e.sprAt=null,e.sprCard=null,e.lblToast=null,e.lblWinCoin=null,e.popups=[],e.sprBtn=[],e.fontBtn=[],e.listBet=[1e3,1e4,5e4,1e5,5e5],e.betIdx=0,e.oldBetIdx=0,e.isCanChangeBet=!0,e.currentTime=0,e.currentTimeInt=0,e.isPlaying=!1,e.numA=0,e.cardNameMap=new Object,e.popupHonor=null,e.popupHistory=null,e.popupGuide=null,e}return r(e,t),e.prototype.start=function(){for(var t=this,e=0;e<13;e++)for(var n=0;n<4;n++){var o=(e+2).toString();switch(o){case"11":o="J";break;case"12":o="Q";break;case"13":o="K";break;case"14":o="A"}var r="";switch(n){case 0:r="\u2660";break;case 1:r="\u2663";break;case 2:r="\u2666";break;case 3:r="\u2665"}this.cardNameMap[4*e+n]=o+r}var a,i=function(e){(a=s.buttonBets[e]).setActive(e==s.betIdx),a.button.node.on("click",function(){if(t.isCanChangeBet){l.default.instance.showBgMiniGame("CaoThap"),t.oldBetIdx=t.betIdx,t.betIdx=e;for(var n=0;n<t.buttonBets.length;n++)t.buttonBets[n].setActive(n==t.betIdx);t.isCanChangeBet=!1,t.scheduleOnce(function(){t.isCanChangeBet=!0},1),b.default.getInstance().send(new h.default.SendChangeRoom(t.oldBetIdx,t.betIdx))}else t.showToast(l.default.instance.getTextLang("txt_notify_fast_action"))})},s=this;for(e=0;e<this.buttonBets.length;e++)i(e);p.default.register(p.default.USER_LOGOUT,function(){t.node.active&&t.dismiss()},this),b.default.getInstance().addOnClose(function(){t.node.active&&t.dismiss()},this),b.default.getInstance().addListener(function(e){if(t.node.active)switch(new f.default(e).getCmdId()){case h.default.Code.SCRIBE:var n=new h.default.ReceiveScribe(e);t.betIdx=n.roomId;for(var o=0;o<t.buttonBets.length;o++)t.buttonBets[o].setActive(o==t.betIdx);for(t.btnPlay.interactable=!0,o=0;o<t.buttonBets.length;o++)t.buttonBets[o].button.interactable=!0;break;case h.default.Code.UPDATE_INFO:for(n=new h.default.ReceiveUpdateInfo(e),t.numA=n.numA,t.lblUp.string=0==n.money1?"":d.default.formatNumber(n.money1),t.lblCurrent.string=d.default.formatNumber(n.money2),t.lblDown.string=0==n.money3?"":d.default.formatNumber(n.money3),t.lblSession.string="#"+n.referenceId.toString(),t.sprCard.spriteFrame=t.sprAtlasCards.getSpriteFrame("card"+n.card),t.sprAt.fillRange=t.numA/3,t.currentTime=n.time,t.btnNewTurn.interactable=n.step>1,t.btnNewTurn.node.getComponent(cc.Sprite).spriteFrame=n.step>1?t.sprBtn[0]:t.sprBtn[1],t.btnNewTurn.node.getComponentInChildren(cc.Label).font=n.step>1?t.fontBtn[0]:t.fontBtn[1],t.btnPlay.node.active=!1,t.btnPlay.node.active=!1,t.lblStatus.string="",t.btnUp.interactable=n.money1>0,t.btnDown.interactable=n.money3>0,o=0;o<t.buttonBets.length;o++)t.buttonBets[o].button.interactable=!1;var r=n.cards.split(",");for(o=0;o<r.length-1;o++)o>0&&(t.lblStatus.string+=","),t.lblStatus.string+=t.cardNameMap[r[o]];t.isPlaying=!0;break;case h.default.Code.UPDATE_TIME:n=new h.default.ReceiveUpdateTime(e),t.currentTime=n.time;break;case h.default.Code.START:var a=new h.default.ReceiveStart(e);if(0!=a.error)return void(3==a.error&&(t.showToast(l.default.instance.getTextLang("txt_not_enough")),t.btnPlay.node.active=!0,t.btnPlay.node.active=!0));for(c.default.Login.Coin=a.currentMoney,p.default.send(p.default.USER_UPDATE_COIN),t.lblStatus.string="",t.lblUp.string="",t.lblDown.string="",t.lblCurrent.string=d.default.formatNumber(a.money2),t.lblSession.string="#"+a.referenceId.toString(),t.sprAt.fillRange=0,t.btnNewTurn.interactable=!1,t.btnNewTurn.node.getComponent(cc.Sprite).spriteFrame=t.sprBtn[1],t.btnNewTurn.node.getComponentInChildren(cc.Label).font=t.fontBtn[1],o=0;o<t.buttonBets.length;o++)t.buttonBets[o].button.interactable=!1;48!=a.card&&49!=a.card&&50!=a.card&&51!=a.card||t.numA++,t.spinCard(a.card,function(){t.lblStatus.string+=t.cardNameMap[a.card],t.lblUp.string=0==a.money1?"":d.default.formatNumber(a.money1),t.lblDown.string=0==a.money3?"":d.default.formatNumber(a.money3),t.btnUp.interactable=t.isPlaying&&a.money1>0,t.btnDown.interactable=t.isPlaying&&a.money3>0,t.sprAt.fillRange=t.numA/3}),t.currentTime=120,t.isPlaying=!0;break;case h.default.Code.PLAY:var i=new h.default.ReceivePlay(e);for(t.currentTime=120,o=0;o<t.buttonBets.length;o++)t.buttonBets[o].button.interactable=!1;48!=i.card&&49!=i.card&&50!=i.card&&51!=i.card||t.numA++,t.spinCard(i.card,function(){""!=t.lblStatus.string&&(t.lblStatus.string+=","),t.lblStatus.string+=t.cardNameMap[i.card],t.lblUp.string=0==i.money1?"":d.default.formatNumber(i.money1),t.lblCurrent.string=d.default.formatNumber(i.money2),t.lblDown.string=0==i.money3?"":d.default.formatNumber(i.money3),t.btnUp.interactable=t.isPlaying&&i.money1>0,t.btnDown.interactable=t.isPlaying&&i.money3>0,t.btnNewTurn.interactable=t.isPlaying,t.btnNewTurn.node.getComponent(cc.Sprite).spriteFrame=t.isPlaying?t.sprBtn[0]:t.sprBtn[1],t.btnNewTurn.node.getComponentInChildren(cc.Label).font=t.isPlaying?t.fontBtn[0]:t.fontBtn[1]});break;case h.default.Code.STOP:var s=new h.default.ReceiveStop(e);t.isPlaying=!1;var b=3;switch(s.result){case 4:b=.5}c.default.Login.Coin=s.currentMoney,t.scheduleOnce(function(){p.default.send(p.default.USER_UPDATE_COIN),t.lblStatus.string=l.default.instance.getTextLang("txt_caothap_play"),t.sprCard.spriteFrame=t.sprCardBack,t.btnNewTurn.interactable=!1,t.btnNewTurn.node.getComponent(cc.Sprite).spriteFrame=t.sprBtn[1],t.btnNewTurn.node.getComponentInChildren(cc.Label).font=t.fontBtn[1],t.btnPlay.node.active=!0,t.lblPlay.node.active=!0,t.sprAt.fillRange=0,t.numA=0;for(var e=0;e<t.buttonBets.length;e++)t.buttonBets[e].button.interactable=!0;t.lblTime.string="2:00",t.currentTime=0,t.lblUp.string="",t.lblDown.string="",t.lblCurrent.string=d.default.formatNumber(t.listBet[t.betIdx]),t.lblWinCoin.node.stopAllActions(),t.lblWinCoin.node.setPosition(-26,-16),t.lblWinCoin.node.opacity=0,t.lblWinCoin.string="+"+d.default.formatNumber(s.moneyExchange),t.lblWinCoin.node.active=!0,t.lblWinCoin.node.runAction(cc.sequence(cc.spawn(cc.fadeIn(.2),cc.moveBy(2,cc.v2(0,100))),cc.fadeOut(.15),cc.callFunc(function(){t.lblWinCoin.node.active=!1})))},b);break;case h.default.Code.CHANGE_ROOM:if(0!=(n=new h.default.ReceiveChangeRoom(e)).status)for(t.betIdx=t.oldBetIdx,o=0;o<t.buttonBets.length;o++)t.buttonBets[o].setActive(o==t.betIdx);break;case h.default.Code.UPDATE_JACKPOT:n=new h.default.ReceiveUpdateJackpot(e),u.default.numberTo(t.lblJackpot,n.value,.3)}},this)},e.prototype.update=function(t){if(this.currentTime>0){this.currentTime=Math.max(0,this.currentTime-t);var e=parseInt(this.currentTime.toString());this.currentTimeInt!=e&&(this.currentTimeInt=e,this.lblTime.string=this.longToTime(this.currentTimeInt))}},e.prototype.showToast=function(t){this.lblToast.string=t;var e=this.lblToast.node.parent;e.stopAllActions(),e.active=!0,e.opacity=0,e.runAction(cc.sequence(cc.fadeIn(.1),cc.delayTime(2),cc.fadeOut(.2),cc.callFunc(function(){e.active=!1})))},e.prototype.spinCard=function(t,e){var n=this,o=15;this.schedule(function(){0==--o?(n.sprCard.node.color=cc.Color.WHITE,n.sprCard.spriteFrame=n.sprAtlasCards.getSpriteFrame("card"+t),e()):(n.sprCard.node.color=cc.Color.BLACK.fromHEX("#CCCCCC"),n.sprCard.spriteFrame=n.sprAtlasCards.getSpriteFrame("card"+d.default.randomRangeInt(0,52)))},.1,o-1,0)},e.prototype.longToTime=function(t){var e=t%60;return parseInt((t/60).toString())+":"+(e<10?"0":"")+e},e.prototype.show=function(){if(this.node.active)this.reOrder();else{t.prototype.show.call(this),l.default.instance.showBgMiniGame("CaoThap"),this.lblToast.node.parent.active=!1,this.lblStatus.string=l.default.instance.getTextLang("txt_caothap_play"),this.lblSession.string="",this.lblUp.string="",this.lblDown.string="",this.lblCurrent.string=d.default.formatNumber(this.listBet[this.betIdx]),this.sprAt.fillRange=0,this.btnNewTurn.interactable=!1,this.btnNewTurn.node.getComponent(cc.Sprite).spriteFrame=this.sprBtn[1],this.btnNewTurn.node.getComponentInChildren(cc.Label).font=this.fontBtn[1],this.btnUp.interactable=!1,this.btnDown.interactable=!1,this.btnPlay.interactable=!1,this.lblWinCoin.node.active=!1,this.isCanChangeBet=!0,this.betIdx=0;for(var e=0;e<this.buttonBets.length;e++)this.buttonBets[e].setActive(e==this.betIdx);b.default.getInstance().send(new h.default.SendScribe(this.betIdx))}},e.prototype.actStart=function(){l.default.instance.showBgMiniGame("CaoThap"),this.btnPlay.node.active=!1,this.lblPlay.node.active=!1,b.default.getInstance().send(new h.default.SendStart(this.listBet[this.betIdx]))},e.prototype.actUp=function(){l.default.instance.showBgMiniGame("CaoThap"),this.btnUp.interactable=!1,this.btnDown.interactable=!1,this.btnNewTurn.interactable=!1,this.btnNewTurn.node.getComponent(cc.Sprite).spriteFrame=this.sprBtn[1],this.btnNewTurn.node.getComponentInChildren(cc.Label).font=this.fontBtn[1],b.default.getInstance().send(new h.default.SendPlay(this.listBet[this.betIdx],!0))},e.prototype.actDown=function(){l.default.instance.showBgMiniGame("CaoThap"),this.btnUp.interactable=!1,this.btnDown.interactable=!1,this.btnNewTurn.interactable=!1,this.btnNewTurn.node.getComponent(cc.Sprite).spriteFrame=this.sprBtn[1],this.btnNewTurn.node.getComponentInChildren(cc.Label).font=this.fontBtn[1],b.default.getInstance().send(new h.default.SendPlay(this.listBet[this.betIdx],!1))},e.prototype.actStop=function(){l.default.instance.showBgMiniGame("CaoThap"),this.btnNewTurn.interactable=!1,this.btnNewTurn.node.getComponent(cc.Sprite).spriteFrame=this.sprBtn[1],this.btnNewTurn.node.getComponentInChildren(cc.Label).font=this.fontBtn[1],b.default.getInstance().send(new h.default.SendStop(this.listBet[this.betIdx]))},e.prototype.dismiss=function(){t.prototype.dismiss.call(this);for(var e=0;e<this.popups.length;e++)this.popups[e].active=!1;l.default.instance.hideGameMini("CaoThap"),b.default.getInstance().send(new h.default.SendUnScribe(this.betIdx))},e.prototype.actPopupGuide=function(){var t=this;null==this.popupGuide?i.default.loadPrefabGame("CaoThap","res/prefabs/PopupGuide",function(){},function(e){l.default.instance.showLoading(!1),t.popupGuide=cc.instantiate(e).getComponent("Dialog"),t.popupGuide.node.parent=cc.director.getScene().getChildByName("Canvas"),t.popupGuide.show(),t.popups.push(t.popupGuide.node)}):this.popupGuide.show()},e.prototype.actPopupHistory=function(){var t=this;null==this.popupHistory?i.default.loadPrefabGame("CaoThap","res/prefabs/PopupHistory",function(){},function(e){l.default.instance.showLoading(!1),t.popupHistory=cc.instantiate(e).getComponent("CaoThap.PopupHistory"),t.popupHistory.node.parent=cc.director.getScene().getChildByName("Canvas"),t.popupHistory.show(),t.popups.push(t.popupHistory.node)}):this.popupHistory.show()},e.prototype.actPopupHonor=function(){var t=this;null==this.popupHonor?i.default.loadPrefabGame("CaoThap","res/prefabs/PopupHonors",function(){},function(e){l.default.instance.showLoading(!1),t.popupHonor=cc.instantiate(e).getComponent("CaoThap.PopupHonors"),t.popupHonor.node.parent=cc.director.getScene().getChildByName("Canvas"),t.popupHonor.show(),t.popups.push(t.popupHonor.node)}):this.popupHonor.show()},e.prototype.reOrder=function(){t.prototype.reOrder.call(this)},a([y(cc.SpriteAtlas)],e.prototype,"sprAtlasCards",void 0),a([y(cc.SpriteFrame)],e.prototype,"sprCardBack",void 0),a([y([C])],e.prototype,"buttonBets",void 0),a([y(cc.Label)],e.prototype,"lblJackpot",void 0),a([y(cc.Label)],e.prototype,"lblSession",void 0),a([y(cc.Label)],e.prototype,"lblUp",void 0),a([y(cc.Label)],e.prototype,"lblCurrent",void 0),a([y(cc.Label)],e.prototype,"lblDown",void 0),a([y(cc.Label)],e.prototype,"lblStatus",void 0),a([y(cc.Label)],e.prototype,"lblTime",void 0),a([y(cc.Label)],e.prototype,"lblPlay",void 0),a([y(cc.Button)],e.prototype,"btnNewTurn",void 0),a([y(cc.Button)],e.prototype,"btnClose",void 0),a([y(cc.Button)],e.prototype,"btnPlay",void 0),a([y(cc.Button)],e.prototype,"btnUp",void 0),a([y(cc.Button)],e.prototype,"btnDown",void 0),a([y(cc.Sprite)],e.prototype,"sprAt",void 0),a([y(cc.Sprite)],e.prototype,"sprCard",void 0),a([y(cc.Label)],e.prototype,"lblToast",void 0),a([y(cc.Label)],e.prototype,"lblWinCoin",void 0),a([y([cc.Node])],e.prototype,"popups",void 0),a([y([cc.SpriteFrame])],e.prototype,"sprBtn",void 0),a([y([cc.BitmapFont])],e.prototype,"fontBtn",void 0),a([g],e)}(s.default);n.default=v,cc._RF.pop()},{"../../Loading/src/BundleControl":void 0,"../../Loading/src/Configs":void 0,"../../Lobby/LobbyScript/MiniGame":void 0,"../../Lobby/LobbyScript/Script/common/App":void 0,"../../Lobby/LobbyScript/Script/common/BroadcastReceiver":void 0,"../../Lobby/LobbyScript/Script/common/Tween":void 0,"../../Lobby/LobbyScript/Script/common/Utils":void 0,"../../Lobby/LobbyScript/Script/networks/MiniGameNetworkClient":void 0,"../../Lobby/LobbyScript/Script/networks/Network.InPacket":void 0,"./CaoThap.Cmd":"CaoThap.Cmd"}],"CaoThap.Cmd":[function(t,e,n){"use strict";cc._RF.push(e,"f5d2dv+EAxA86iOBlbg0cVg","CaoThap.Cmd");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.cmd=void 0;var a,i=t("../../Loading/src/Configs"),c=t("../../Lobby/LobbyScript/Script/networks/Network.InPacket"),s=t("../../Lobby/LobbyScript/Script/networks/Network.OutPacket"),l=cc._decorator;l.ccclass,l.property,function(t){var e=function(){function t(){}return t.SCRIBE=6004,t.UNSCRIBE=6005,t.START=6001,t.PLAY=6002,t.CHANGE_ROOM=6006,t.UPDATE_TIME=6008,t.UPDATE_INFO=6009,t.UPDATE_JACKPOT=6003,t.STOP=6007,t}();t.Code=e;var n=function(t){function n(n){var o=t.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(e.SCRIBE),o.packHeader(),o.putByte(n),o.updateSize(),o}return r(n,t),n}(s.default);t.SendScribe=n;var o=function(t){function e(e){var n=t.call(this,e)||this;return n.status=0,n.roomId=0,n.status=n.getByte(),n.roomId=n.getByte(),n}return r(e,t),e}(c.default);t.ReceiveScribe=o;var a=function(t){function n(n){var o=t.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(e.UNSCRIBE),o.packHeader(),o.putByte(n),o.updateSize(),o}return r(n,t),n}(s.default);t.SendUnScribe=a;var l=function(t){function n(n,o){var r=t.call(this)||this;return r.initData(100),r.setControllerId(1),r.setCmdId(e.CHANGE_ROOM),r.packHeader(),r.putByte(n),r.putByte(o),r.updateSize(),r}return r(n,t),n}(s.default);t.SendChangeRoom=l;var p=function(t){function e(e){var n=t.call(this,e)||this;return n.status=0,n.status=n.getByte(),n}return r(e,t),e}(c.default);t.ReceiveChangeRoom=p;var u=function(t){function n(n){var o=t.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(e.START),o.packHeader(),o.putInt(n),o.putByte(i.default.App.MONEY_TYPE),o.updateSize(),o}return r(n,t),n}(s.default);t.SendStart=u;var d=function(t){function e(e){var n=t.call(this,e)||this;return n.error=0,n.referenceId=0,n.card=0,n.money1=0,n.money2=0,n.money3=0,n.currentMoney=0,n.error=n.getError(),n.referenceId=n.getLong(),n.card=n.getByte(),n.money1=n.getLong(),n.money2=n.getLong(),n.money3=n.getLong(),n.currentMoney=n.getLong(),n}return r(e,t),e}(c.default);t.ReceiveStart=d;var b=function(t){function n(n,o){var r=t.call(this)||this;return r.initData(100),r.setControllerId(1),r.setCmdId(e.PLAY),r.packHeader(),r.putInt(n),r.putByte(i.default.App.MONEY_TYPE),r.putByte(o?1:0),r.updateSize(),r}return r(n,t),n}(s.default);t.SendPlay=b;var f=function(t){function e(e){var n=t.call(this,e)||this;return n.card=0,n.money1=0,n.money2=0,n.money3=0,n.card=n.getByte(),n.money1=n.getLong(),n.money2=n.getLong(),n.money3=n.getLong(),n}return r(e,t),e}(c.default);t.ReceivePlay=f;var h=function(t){function n(n){var o=t.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(e.STOP),o.packHeader(),o.putInt(n),o.putByte(i.default.App.MONEY_TYPE),o.updateSize(),o}return r(n,t),n}(s.default);t.SendStop=h;var m=function(t){function e(e){var n=t.call(this,e)||this;return n.result=0,n.currentMoney=0,n.moneyExchange=0,n.result=n.getByte(),n.currentMoney=n.getLong(),n.moneyExchange=n.getLong(),n}return r(e,t),e}(c.default);t.ReceiveStop=m;var g=function(t){function e(e){var n=t.call(this,e)||this;return n.numA=0,n.card=0,n.money1=0,n.money2=0,n.money3=0,n.time=0,n.step=0,n.referenceId=0,n.cards="",n.numA=n.getByte(),n.card=n.getByte(),n.money1=n.getLong(),n.money2=n.getLong(),n.money3=n.getLong(),n.time=n.getShort(),n.step=n.getByte(),n.referenceId=n.getLong(),n.cards=n.getString(),n}return r(e,t),e}(c.default);t.ReceiveUpdateInfo=g;var y=function(t){function e(e){var n=t.call(this,e)||this;return n.value=0,n.value=n.getLong(),n}return r(e,t),e}(c.default);t.ReceiveUpdateJackpot=y;var C=function(t){function e(e){var n=t.call(this,e)||this;return n.time=0,n.time=n.getShort(),n}return r(e,t),e}(c.default);t.ReceiveUpdateTime=C}(a=n.cmd||(n.cmd={})),n.default=a,cc._RF.pop()},{"../../Loading/src/Configs":void 0,"../../Lobby/LobbyScript/Script/networks/Network.InPacket":void 0,"../../Lobby/LobbyScript/Script/networks/Network.OutPacket":void 0}],"CaoThap.PopupHistory":[function(t,e,n){"use strict";cc._RF.push(e,"ca485p4tQhO3JvdidJzPzNa","CaoThap.PopupHistory");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var r,a=arguments.length,i=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(i=(a<3?r(i):a>3?r(e,n,i):r(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../Loading/src/Configs"),c=t("../../Loading/src/Http"),s=t("../../Lobby/LobbyScript/Script/common/App"),l=t("../../Lobby/LobbyScript/Script/common/Dialog"),p=t("../../Lobby/LobbyScript/Script/common/Utils"),u=cc._decorator,d=u.ccclass,b=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lblPage=null,e.itemTemplate=null,e.fontNum=[],e.page=1,e.maxPage=1,e.items=new Array,e}return r(e,t),e.prototype.show=function(){t.prototype.show.call(this),s.default.instance.showBgMiniGame("CaoThap");for(var e=0;e<this.items.length;e++)this.items[e].active=!1;null!=this.itemTemplate&&(this.itemTemplate.active=!1)},e.prototype.dismiss=function(){t.prototype.dismiss.call(this);for(var e=0;e<this.items.length;e++)this.items[e].active=!1},e.prototype._onShowed=function(){t.prototype._onShowed.call(this),this.page=1,this.maxPage=1,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData()},e.prototype.actNextPage=function(){this.page<this.maxPage&&(this.page++,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData())},e.prototype.actPrevPage=function(){this.page>1&&(this.page--,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData())},e.prototype.loadData=function(){var t=this;s.default.instance.showLoading(!0),c.default.get(i.default.App.API,{c:107,mt:i.default.App.MONEY_TYPE,p:this.page,nn:i.default.Login.Nickname},function(e,n){if(s.default.instance.showLoading(!1),null==e&&n.success){if(0==t.items.length){for(var o=0;o<6;o++)(a=cc.instantiate(t.itemTemplate)).parent=t.itemTemplate.parent,t.items.push(a);t.itemTemplate.destroy(),t.itemTemplate=null}t.maxPage=n.totalPages,t.lblPage.string=t.page+"/"+t.maxPage;for(var r=0;r<t.items.length;r++){var a=t.items[r];if(r<n.results.length){var i=n.results[r];a.getChildByName("Session").getComponent(cc.Label).string=i.transId,a.getChildByName("Time").getComponent(cc.Label).string=i.timestamp,a.getChildByName("Bet").getComponent(cc.Label).string=p.default.formatNumber(i.betValue),a.getChildByName("Result").getComponent(cc.Label).string=i.cards,a.getChildByName("Win").getComponent(cc.Label).string=p.default.formatNumber(i.prize),a.getChildByName("Win").getComponent(cc.Label).font=i.prize>0?t.fontNum[1]:t.fontNum[0],a.getChildByName("Step").getComponent(cc.Label).string=p.default.formatNumber(i.step),1==i.step?a.getChildByName("BetDoor").getComponent(cc.Label).string="":a.getChildByName("BetDoor").getComponent(cc.Label).string=0==i.potBet?"D\u01b0\u1edbi":"Tr\xean",a.active=!0}else a.active=!1}}})},a([b(cc.Label)],e.prototype,"lblPage",void 0),a([b(cc.Node)],e.prototype,"itemTemplate",void 0),a([b([cc.BitmapFont])],e.prototype,"fontNum",void 0),a([d],e)}(l.default);n.default=f,cc._RF.pop()},{"../../Loading/src/Configs":void 0,"../../Loading/src/Http":void 0,"../../Lobby/LobbyScript/Script/common/App":void 0,"../../Lobby/LobbyScript/Script/common/Dialog":void 0,"../../Lobby/LobbyScript/Script/common/Utils":void 0}],"CaoThap.PopupHonors":[function(t,e,n){"use strict";cc._RF.push(e,"2102dKYcKJPSaCuwo7ODtFN","CaoThap.PopupHonors");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var r,a=arguments.length,i=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(i=(a<3?r(i):a>3?r(e,n,i):r(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../Loading/src/Configs"),c=t("../../Loading/src/Http"),s=t("../../Lobby/LobbyScript/Script/common/App"),l=t("../../Lobby/LobbyScript/Script/common/Dialog"),p=t("../../Lobby/LobbyScript/Script/common/Utils"),u=cc._decorator,d=u.ccclass,b=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lblPage=null,e.itemTemplate=null,e.page=1,e.maxPage=1,e.items=new Array,e}return r(e,t),e.prototype.show=function(){t.prototype.show.call(this),s.default.instance.showBgMiniGame("CaoThap");for(var e=0;e<this.items.length;e++)this.items[e].active=!1;null!=this.itemTemplate&&(this.itemTemplate.active=!1)},e.prototype.dismiss=function(){t.prototype.dismiss.call(this);for(var e=0;e<this.items.length;e++)this.items[e].active=!1},e.prototype._onShowed=function(){t.prototype._onShowed.call(this),this.page=1,this.maxPage=1,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData()},e.prototype.actNextPage=function(){this.page<this.maxPage&&(this.page++,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData())},e.prototype.actPrevPage=function(){this.page>1&&(this.page--,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData())},e.prototype.loadData=function(){var t=this;s.default.instance.showLoading(!0),c.default.get(i.default.App.API,{c:108,mt:i.default.App.MONEY_TYPE,p:this.page},function(e,n){if(s.default.instance.showLoading(!1),null==e&&n.success){if(0==t.items.length){for(var o=0;o<6;o++)(a=cc.instantiate(t.itemTemplate)).parent=t.itemTemplate.parent,t.items.push(a);t.itemTemplate.destroy(),t.itemTemplate=null}t.maxPage=n.totalPages,t.lblPage.string=t.page+"/"+t.maxPage;for(var r=0;r<t.items.length;r++){var a=t.items[r];if(r<n.results.length){var i=n.results[r];switch(a.getChildByName("Time").getComponent(cc.Label).string=i.timestamp,a.getChildByName("Account").getComponent(cc.Label).string=i.nickname,a.getChildByName("Bet").getComponent(cc.Label).string=p.default.formatNumber(i.betValue),a.getChildByName("Win").getComponent(cc.Label).string=p.default.formatNumber(i.prize),i.result){case 4:a.getChildByName("Result").getComponent(cc.Label).string="Th\u1eafng l\u1edbn";break;default:a.getChildByName("Result").getComponent(cc.Label).string="N\u1ed5 h\u0169"}a.active=!0}else a.active=!1}}})},a([b(cc.Label)],e.prototype,"lblPage",void 0),a([b(cc.Node)],e.prototype,"itemTemplate",void 0),a([d],e)}(l.default);n.default=f,cc._RF.pop()},{"../../Loading/src/Configs":void 0,"../../Loading/src/Http":void 0,"../../Lobby/LobbyScript/Script/common/App":void 0,"../../Lobby/LobbyScript/Script/common/Dialog":void 0,"../../Lobby/LobbyScript/Script/common/Utils":void 0}]},{},["CaoThap.CaoThapController","CaoThap.Cmd","CaoThap.PopupHistory","CaoThap.PopupHonors"]);