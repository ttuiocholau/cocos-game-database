window.__require=function t(e,o,n){function i(c,a){if(!o[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var u=o[c]={exports:{}};e[c][0].call(u.exports,function(t){return i(e[c][1][t]||t)},u,u.exports,t,e,o,n)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({"Loto.Cmd":[function(t,e,o){"use strict";var n;cc._RF.push(e,"1140fJ0WcxGeb+cOSwh7NU0","Loto.Cmd"),Object.defineProperty(o,"__esModule",{value:!0}),o.cmd=void 0,cc._decorator.ccclass,function(t){var e=function(){function t(){}return t.currentChannel=0,t.LOTO_LOCATION={MienBac:0,MienTrung:1,MienNam:2},t.LOTO_CHANNEL={NONE:0,MIEN_BAC:1},t.LOTO_CHANNEL_NAME=["NONE","Mi\u1ec1n B\u1eafc"],t.LOTO_GAME_MODE={None:0,BaoLo2So:1,BaoLo3So:2,LoXien2:3,LoXien3:4,LoXien4:5,Dau:6,Duoi:7,DeDau:8,DeDacBiet:9,DanhDauDuoi:10,BaCang:11,BaCangDau:12,BaCangDuoi:13,BaCangDauDuoi:14,LoTruotXien4:15,LoTruotXien8:16,LoTruotXien10:17,XiuChuDau:18,XiuChuDuoi:19,XiuChuDauDuoi:20,Da2:21,Da3:22,Da4:23,LoTruotXien14:24,LoTruotXien12:25},t.LOTO_GAME_MODE_NAME=["NONE","Bao L\xf4 2","Bao L\xf4 3","L\xf4 Xi\xean 2","L\xf4 Xi\xean 3","L\xf4 Xi\xean 4","\u0110\u1ea7u","\u0110u\xf4i","\u0110\u1ec1 \u0110\u1ea7u","\u0110\u1ec1 \u0110\u1eb7c Bi\u1ec7t","\u0110\xe1nh \u0110\u1ea7u \u0110u\xf4i","Ba C\xe0ng","Ba C\xe0ng \u0110\u1ea7u","Ba C\xe0ng \u0110u\xf4i","Ba C\xe0ng \u0110\u1ea7u \u0110u\xf4i","L\xf4 Tr\u01b0\u1ee3t Xi\xean 4","L\xf4 Tr\u01b0\u1ee3t Xi\xean 8","L\xf4 Tr\u01b0\u1ee3t Xi\xean 10","X\u1ec9u Ch\u1ee7 \u0110\u1ea7u","X\u1ec9u Ch\u1ee7 \u0110u\xf4i","X\u1ec9u Ch\u1ee7 \u0110\u1ea7u \u0110u\xf4i","\u0110\xe1 2","\u0110\xe1 3","\u0110\xe1 4","L\xf4 Tr\u01b0\u1ee3t Xi\xean 14","L\xf4 Tr\u01b0\u1ee3t Xi\xean 12"],t.LOTO_GAME_MODE_NUM_REQUIRE=[0,1,1,2,3,4,1,1,1,1,1,1,1,1,1,4,8,10,1,1,1,2,3,4,14,12],t.LOTO_GROUP_BAC=[1,2,4,5,6],t.LOTO_GROUP_TRUNG=[1,2,3,4,5,6],t.LOTO_GROUP_NAM=[1,3,4,6,7,8],t.LOTO_MODE_BAC=[1,2,3,4,5,9,11,16,17,24,25],t.LOTO_MODE_TRUNG=[1,2,3,4,5,6,7,8,9,12,13,14,15,16,17],t.LOTO_MODE_NAM=[1,2,6,7,8,9,10,15,16,17,18,19,20,21,22,23],t.LOTO_CHANNEL_BAC=[1],t.LOTO_CHANNEL_TRUNG=[2,3,4,5,6,7,8,9,10,11,12,13,14,15],t.LOTO_CHANNEL_NAM=[16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],t}();t.Code=e}(n=o.cmd||(o.cmd={})),o.default=n,cc._RF.pop()},{}],"Loto.Controller":[function(t,e,o){"use strict";cc._RF.push(e,"1be046yHmFLZa3wHIBKZlRO","Loto.Controller");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],c=0,a=r.length;c<a;c++,i++)n[i]=r[c];return n};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../Lobby/LobbyScript/Script/networks/ShootFishNetworkClient"),s=t("../../Loading/src/Configs"),l=t("../../Lobby/LobbyScript/Script/common/App"),u=t("../../Lobby/LobbyScript/Script/common/Utils"),h=t("../../Lobby/LobbyScript/Script/common/BroadcastReceiver"),p=t("./Loto.Cmd"),d=t("../../Loading/src/Http"),f=cc._decorator,b=f.ccclass,m=f.property,C=t("../../Lobby/LobbyScript/Script/networks/MiniGameNetworkClient"),g=t("../../Lobby/LobbyScript/Script/networks/Network.InPacket"),y=t("../../Lobby/LobbyScript/Script/common/SPUtils"),L=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelUserGold=null,e.currentMode=null,e.listModes=null,e.contentMode=null,e.labelGameGuide=null,e.listLocation=[],e.listTabs=[],e.contentTabs=null,e.edtChatInput=null,e.contentChat=null,e.prefabItemChat=null,e.scrollChat=null,e.contentNewBet=null,e.prefabItemNewBet=null,e.scrollNewBet=null,e.labelTabResult=[],e.betDate=null,e.currentBetChannel=null,e.btnBetChannel=null,e.betChannel=null,e.contentBetChannel=null,e.prefabItemChannel=null,e.scrollBetChannel=null,e.btnTabResultChannel=null,e.tabResultDate=null,e.currentTabResultChannel=null,e.btnPopupResultChannel=null,e.popupResultDate=null,e.currentPopupResultChannel=null,e.btnCancelChangeChannel=null,e.numberSelector=null,e.contentNumSelector=null,e.prefabItemNumber=null,e.scrollNumSelector=null,e.btnOpenNumberSelector=null,e.contentDescMode=null,e.contentNumPicked=null,e.prefabItemNumberPicked=null,e.scrollNumPicked=null,e.edtBet=null,e.labelTotalBet=null,e.labelWinValue=null,e.popupHistory=null,e.contentHistory=null,e.prefabItemHistory=null,e.popupResult=null,e.labelResult=[],e.contentTime=null,e.popupNotify=null,e.labelMsg=null,e.musicBackground=null,e.sessionDate="",e.today="",e.GAME_MODE=1,e.GAME_LOCATION=0,e.GAME_CHANNEL=1,e.currentNumPicked=[],e.currentBetValue=0,e.currentWinValue=0,e.numRequest=0,e.numRequestCompleted=0,e.numRequired=0,e.musicSlotState=null,e.remoteMusicBackground=null,e.helpCenter=[],e.currentGameHelp="",e.channelsOpen=[],e.modesOpen=[],e.arrDates=null,e.popupResultCurrentChannelId=null,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){var t=this;o.instance=this,this.sessionDate="";var e=new Date,n=e.getDate(),i=e.getMonth()+1,r=e.getFullYear();this.sessionDate+=""+r,this.sessionDate+=i<10?"0"+i:i,this.sessionDate+=n<10?"0"+n:n,this.today=(n<10?"0"+n:n)+"/"+(i<10?"0"+i:i)+"/"+r;var c=new Date;this.arrDates=[c];for(var u=1;u<7;u++){var d=new Date(c);d.setDate(d.getDate()-u),this.arrDates.push(d)}a.default.getInstance().checkConnect(function(e){e?(h.default.send(h.default.USER_UPDATE_COIN),t&&t.node&&t.node.parent&&s.default.Login.CoinFish<=0&&l.default.instance.confirmDialog.show3("Ti\u1ec1n trong L\xf4 \u0110\u1ec1 c\u1ee7a b\u1ea1n \u0111\xe3 h\u1ebft, b\u1ea1n c\xf3 mu\u1ed1n chuy\u1ec3n ti\u1ec1n v\xe0o kh\xf4ng?","C\xf3",function(e){e&&t.popupCoinTransfer.show()})):l.default.instance.alertDialog.showMsgWithOnDismissed("\u0110\u0103ng nh\u1eadp th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i.",function(){t.actBack()})}),a.default.getInstance().addOnClose(function(){l.default.instance.showErrLoading("M\u1ea5t k\u1ebft n\u1ed1i, \u0111ang th\u1eed k\u1ebft n\u1ed1i l\u1ea1i...")},this),C.default.getInstance().addListener(function(t){switch(new g.default(t).getCmdId()){case p.default.Code.GET_MONEY_USE:var e=new p.default.ResGetMoneyUse(t);s.default.Login.Coin=e.moneyUse,h.default.send(h.default.USER_UPDATE_COIN)}},this)},e.prototype.start=function(){var t=this,e=cc.sys.localStorage.getItem("musicLoto");null!=e?this.musicSlotState=parseInt(e):(this.musicSlotState=1,cc.sys.localStorage.setItem("musicLoto","1")),1==this.musicSlotState&&(this.remoteMusicBackground=cc.audioEngine.playMusic(this.musicBackground,!0)),this.initNumSelector(1e3),h.default.register(h.default.USER_UPDATE_COIN,function(){t.labelUserGold.string=u.default.formatNumber(s.default.Login.CoinFish)},this),h.default.send(h.default.USER_UPDATE_COIN),a.default.getInstance().addListener(function(e,o){switch(e){case"onLOTO1":var n=cc.instantiate(t.prefabItemNewBet);n.getComponent("Loto.ItemNewBet").initItem({nickname:o.nickname,channel:o.channel,mode:o.mode,bet:o.cost,nums:o.number}),t.contentNewBet.addChild(n),t.scrollNewBet.scrollToBottom(.2);break;case"LOTO2":case"LOTO3":case"LOTO4":case"LOTO5":case"LOTO6":break;case"onLOTO7":var i=cc.instantiate(t.prefabItemChat);i.getComponent("Loto.ItemChat").initItem({nickname:o.nickname,msg:o.msg}),t.contentChat.addChild(i),t.scrollChat.scrollToBottom(.2)}},this),this.listTabs[0].isChecked=!0,this.contentTabs.children[0].active=!0,this.requestGetChatHistory(),this.requestGetNewBetHistory(),l.default.instance.showLoading(!0),this.requestGetGameAvailable(),this.betDate.string=this.today,this.requestGetCalculateResult(),this.onBetChannelSelected(0,1),this.changeMode(null,1)},e.prototype.showListMode=function(){this.listModes.active=!this.listModes.active,this.listModes.parent.children[2].angle=this.listModes.active?0:180},e.prototype.changeMode=function(t,e){var o=parseInt(e);this.listModes.active=!1,this.listModes.parent.children[2].angle=180;var n=this.listModes.children[o-1].children[0].getComponent(cc.Label).string;this.currentMode.children[1].getComponent(cc.Label).string=n,this.resetContentModeState(),this.contentMode.children[o-1].active=!0,this.contentMode.children[o-1].children[0].getComponent(cc.Toggle).isChecked=!0;var i=[];switch(o){case 1:i=[1,2];break;case 2:i=[3,4,5];break;case 3:i=[6,7];break;case 4:i=[8,9,10];break;case 5:i=[11,12,13,14];break;case 6:i=[17,24,25];break;case 7:i=[18,19,20];break;case 8:i=[21,22,23]}var r=[];switch(this.GAME_LOCATION){case p.default.Code.LOTO_LOCATION.MienBac:r=p.default.Code.LOTO_MODE_BAC;break;case p.default.Code.LOTO_LOCATION.MienTrung:r=p.default.Code.LOTO_MODE_TRUNG;break;case p.default.Code.LOTO_LOCATION.MienNam:r=p.default.Code.LOTO_MODE_NAM}for(var c=this.contentMode.children[o-1],a=0,s=-1,l=0;l<i.length;l++)-1!=r.indexOf(i[l])?(-1==s&&(a=l),s++,c.children[l].active=!0):c.children[l].active=!1;var u=i[a];this.GAME_LOCATION==p.default.Code.LOTO_LOCATION.MienTrung&&11==u&&(u=i[1],this.contentMode.children[o-1].children[1].getComponent(cc.Toggle).isChecked=!0),this.chooseMode(null,u)},e.prototype.chooseMode=function(t,e){this.GAME_MODE=parseInt(e);var o=-1;switch(this.GAME_MODE){case 6:case 7:o=10;break;case 1:case 3:case 4:case 5:case 8:case 9:case 10:case 15:case 16:case 17:case 21:case 22:case 23:case 24:case 25:o=100;break;case 2:case 11:case 12:case 13:case 14:case 18:case 19:case 20:o=1e3}this.numRequired=p.default.Code.LOTO_GAME_MODE_NUM_REQUIRE[this.GAME_MODE],this.changeGameGuide(),this.currentNumPicked=[],this.labelTotalBet.string="0",this.edtBet.string="1",this.updateNumSelector(o),this.requestGetPayWinRate()},e.prototype.chooseLocation=function(t){var e=this.listLocation.indexOf(t);this.GAME_LOCATION=e;var o=0;switch(this.GAME_LOCATION){case p.default.Code.LOTO_LOCATION.MienBac:this.setupGroup(p.default.Code.LOTO_GROUP_BAC),o=1;break;case p.default.Code.LOTO_LOCATION.MienTrung:this.setupGroup(p.default.Code.LOTO_GROUP_TRUNG),o=2;break;case p.default.Code.LOTO_LOCATION.MienNam:this.setupGroup(p.default.Code.LOTO_GROUP_NAM),o=16}this.changeMode(null,1),this.onBetChannelSelected("0",o)},e.prototype.setupGroup=function(t){for(var e=0;e<this.listModes.childrenCount;e++){var o=t.indexOf(e+1);this.listModes.children[e].active=-1!=o}},e.prototype.actionCancelBet=function(){this.currentNumPicked=[],this.labelTotalBet.string="0",this.labelWinValue.string=""+this.currentWinValue,this.edtBet.string="1",this.resetContentNumberPicked(),this.chooseMode(null,this.GAME_MODE)},e.prototype.actionSubmitBet=function(){var t=(new Date).getHours(),e=(new Date).getMinutes();if(18==t&&e>5||t>=19)this.showPopupNotify("H\u1ebft th\u1eddi gian \u0111\u1eb7t c\u01b0\u1ee3c.\nTh\u1eddi gian \u0111\u1eb7t c\u01b0\u1ee3c t\u1eeb 0h t\u1edbi 18h05.");else{if(1==this.numRequired){if(this.currentNumPicked.length<1){var o="B\u1ea1n c\u1ea7n ch\u1ecdn \xedt nh\u1ea5t 1 s\u1ed1 !";return void this.showPopupNotify(o)}}else if(this.currentNumPicked.length!==this.numRequired)return o="B\u1ea1n c\u1ea7n ch\u1ecdn "+this.numRequired+" s\u1ed1 !",void this.showPopupNotify(o);if(0!=this.currentBetValue){var n,i=1e3*parseInt(this.edtBet.string);if(n=1==this.numRequired?i*this.currentBetValue*this.currentNumPicked.length:i*this.currentBetValue,s.default.Login.CoinFish>=n)switch(l.default.instance.showLoading(!0),this.numRequired){case 1:this.numRequest=0,this.numRequestCompleted=this.currentNumPicked.length;for(var r=0;r<this.currentNumPicked.length;r++)this.requestPlay(this.currentNumPicked[r],i);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 12:case 14:this.numRequest=0,this.numRequestCompleted=1,this.requestPlay(this.currentNumPicked,i)}else this.showPopupNotify("B\u1ea1n kh\xf4ng c\xf3 \u0111\u1ee7 ti\u1ec1n !")}else this.showPopupNotify("Vui L\xf2ng Ch\u1ecdn L\u1ea1i \u0110\xe0i Mi\u1ec1n B\u1eafc")}},e.prototype.changeFlexFeatures=function(t){var e=this.listTabs.indexOf(t);switch(this.resetContentTabsState(),this.contentTabs.children[e].active=!0,e){case 0:this.scrollChat.scrollToBottom(.2);break;case 1:this.scrollNewBet.scrollToBottom(.2);break;case 2:this.tabResultDate.string=this.today,this.onBetChannelSelected("1",p.default.Code.LOTO_CHANNEL.MIEN_BAC)}},e.prototype.actionSendChat=function(){var t=this.edtChatInput.string.trim();t.length>0&&(this.requestChat(t),this.edtChatInput.string="")},e.prototype.showBetChannel=function(t,e){if(this.btnBetChannel.children[0].angle=180,this.btnTabResultChannel.children[0].angle=180,this.btnPopupResultChannel.children[0].angle=180,this.btnCancelChangeChannel.active=!0,this.betChannel.active=!this.betChannel.active,"0"==e?(this.btnBetChannel.children[0].angle=this.betChannel.active?0:180,this.betChannel.position=cc.v2(-385,-75)):"1"==e?(this.btnTabResultChannel.children[0].angle=this.betChannel.active?0:180,this.betChannel.position=cc.v2(485,-15)):"2"==e&&(this.btnPopupResultChannel.children[0].angle=this.betChannel.active?0:180,this.betChannel.position=cc.v2(60,35)),0==this.contentBetChannel.childrenCount)for(var o=1;o<2;o++){var n={name:p.default.Code.LOTO_CHANNEL_NAME[o],id:o,from:e},i=cc.instantiate(this.prefabItemChannel);i.getComponent("Loto.ItemChannel").initItem(n),this.contentBetChannel.addChild(i)}else for(o=0;o<this.contentBetChannel.childrenCount;o++)this.contentBetChannel.children[o].getComponent("Loto.ItemChannel").updateInfo(e);if(this.contentBetChannel.children[0].active=!0,"0"==e){var r=[];switch(this.GAME_LOCATION){case p.default.Code.LOTO_LOCATION.MienBac:r=p.default.Code.LOTO_CHANNEL_BAC;break;case p.default.Code.LOTO_LOCATION.MienTrung:r=p.default.Code.LOTO_CHANNEL_TRUNG;break;case p.default.Code.LOTO_LOCATION.MienNam:r=p.default.Code.LOTO_CHANNEL_NAM}for(o=0;o<this.contentBetChannel.childrenCount;o++){var c=r.indexOf(o+1);this.contentBetChannel.children[o].active=-1!=c}}this.scrollBetChannel.scrollToOffset(cc.v2(0,0),.2)},e.prototype.onBetChannelSelected=function(t,e){this.btnCancelChangeChannel.active=!1,this.betChannel.active=!1,"0"==t?(this.btnBetChannel.children[0].angle=180,this.currentBetChannel.string=p.default.Code.LOTO_CHANNEL_NAME[e],this.GAME_CHANNEL=e,this.actionCancelBet()):"1"==t?(this.btnTabResultChannel.children[0].angle=180,this.currentTabResultChannel.string=p.default.Code.LOTO_CHANNEL_NAME[e],this.requestGetLotoResult(this.sessionDate,e)):"2"==t&&(this.btnPopupResultChannel.children[0].angle=180,this.currentPopupResultChannel.string=p.default.Code.LOTO_CHANNEL_NAME[e],this.popupResultCurrentChannelId=e,this.chooseTime(null,0))},e.prototype.cancelChangeChannel=function(){this.btnCancelChangeChannel.active=!1,this.btnBetChannel.children[0].angle=180,this.btnTabResultChannel.children[0].angle=180,this.btnPopupResultChannel.children[0].angle=180,this.betChannel.active=!1},e.prototype.initNumSelector=function(t){if(t>0){for(var e=0;e<t;e++){var o=cc.instantiate(this.prefabItemNumber);o.getComponent("Loto.ItemNumber").initItem(t,e),this.contentNumSelector.addChild(o)}this.scrollNumSelector.scrollToOffset(cc.v2(0,0),.2)}},e.prototype.updateNumSelector=function(t){for(var e=0;e<1e3;e++)e<t?(this.contentNumSelector.children[e].active=!0,this.contentNumSelector.children[e].getComponent(cc.Toggle).isChecked=!1,this.contentNumSelector.children[e].getComponent("Loto.ItemNumber").formatName(t)):this.contentNumSelector.children[e].active=!1;this.scrollNumSelector.scrollToOffset(cc.v2(0,0),.2)},e.prototype.openNumSelector=function(){var t=this.numberSelector.children[0].height;this.numberSelector.children[0].height=480==t?365:480,this.contentNumSelector.height=480==t?345:460,this.contentNumSelector.parent.height=480==t?345:460,this.scrollNumSelector.node.height=480==t?345:460,this.btnOpenNumberSelector.y=480==t?-375:-490,this.contentDescMode.active=480==t},e.prototype.addNumberPicked=function(t){this.currentNumPicked.push(t);var e=cc.instantiate(this.prefabItemNumberPicked);e.getComponent("Loto.ItemNumSelected").initItem(t),this.contentNumPicked.addChild(e),this.scrollNumPicked.scrollToRight(.5),1==this.numRequired?this.labelTotalBet.string=""+this.currentBetValue*parseInt(this.edtBet.string)*this.currentNumPicked.length:this.labelTotalBet.string=""+this.currentBetValue*parseInt(this.edtBet.string),this.labelWinValue.string=""+this.currentWinValue*parseInt(this.edtBet.string)},e.prototype.removeNumberPicked=function(t){this.resetContentNumberPicked();var e=c(this.currentNumPicked);this.currentNumPicked=[];for(var o=0;o<e.length;o++)if(e[o]!=t){this.currentNumPicked.push(e[o]);var n=cc.instantiate(this.prefabItemNumberPicked);n.getComponent("Loto.ItemNumSelected").initItem(e[o]),this.contentNumPicked.addChild(n)}this.scrollNumPicked.scrollToRight(.5),1==this.numRequired?this.labelTotalBet.string=""+this.currentBetValue*parseInt(this.edtBet.string)*this.currentNumPicked.length:this.labelTotalBet.string=""+this.currentBetValue*parseInt(this.edtBet.string),this.labelWinValue.string=""+this.currentWinValue*parseInt(this.edtBet.string)},e.prototype.changeGameGuide=function(){this.currentGameHelp="";for(var t=0;t<this.helpCenter.length;t++){var e=this.helpCenter[t];e.gameMode==this.GAME_MODE&&e.location==this.GAME_LOCATION&&(this.currentGameHelp=e.help)}this.labelGameGuide.string=this.currentGameHelp},e.prototype.resetContentModeState=function(){for(var t=0;t<this.contentMode.childrenCount;t++)this.contentMode.children[t].active=!1},e.prototype.resetContentTabsState=function(){for(var t=0;t<this.contentTabs.childrenCount;t++)this.contentTabs.children[t].active=!1},e.prototype.resetContentNumberPicked=function(){this.contentNumPicked.removeAllChildren()},e.prototype.resetContentNumSelector=function(){this.contentNumSelector.removeAllChildren()},e.prototype.showPopupResult=function(){this.popupResult.active=!0,this.popupResultDate.string=this.formatDate(this.arrDates[0]);for(var t=0;t<this.arrDates.length;t++){var e=this.arrDates[t];this.contentTime.children[1].children[t].children[0].getComponent(cc.Label).string=this.formatDate(e)}this.onBetChannelSelected("2",p.default.Code.LOTO_CHANNEL.MIEN_BAC)},e.prototype.showContentTime=function(){var t=this.contentTime.scaleY;this.contentTime.stopAllActions(),t<.5?(this.contentTime.scaleY=0,this.contentTime.runAction(cc.scaleTo(.2,1,1))):(this.contentTime.scaleY=1,this.contentTime.runAction(cc.scaleTo(.2,1,0)))},e.prototype.chooseTime=function(t,e){this.contentTime.scaleY=0;var o=this.arrDates[parseInt(e)];this.popupResultDate.string=this.formatDate(o);var n=this.getSession(o);this.requestGetLotoResult(n,this.popupResultCurrentChannelId)},e.prototype.formatDate=function(t){var e=""+(t.getMonth()+1),o=""+t.getDate(),n=t.getFullYear();return e.length<2&&(e="0"+e),o.length<2&&(o="0"+o),[o,e,n].join("/")},e.prototype.getSession=function(t){var e=""+(t.getMonth()+1),o=""+t.getDate(),n=t.getFullYear();return e.length<2&&(e="0"+e),o.length<2&&(o="0"+o),[n,e,o].join("")},e.prototype.closePopupResult=function(){this.popupResult.active=!1},e.prototype.showPopupHistory=function(){this.requestGetPlayerRequest()},e.prototype.closePopupHistory=function(){this.popupHistory.active=!1},e.prototype.showPopupNotify=function(t){this.popupNotify.active=!0,this.labelMsg.string=t},e.prototype.closePopupNotify=function(){this.popupNotify.active=!1},e.prototype.onTextChangeBet=function(t){t.length>0?(0==/^[0-9]*$/.test(t)&&(l.default.instance.alertDialog.showMsg("Ti\u1ec1n c\u01b0\u1ee3c ph\u1ea3i l\xe0 s\u1ed1 d\u01b0\u01a1ng"),this.edtBet.string="1",t="1"),0==parseInt(t)&&(this.edtBet.string="1",t="1"),this.edtBet.string=""+parseInt(t)):(this.edtBet.string="1",t="1");var e=parseInt(t);1==this.numRequired?this.labelTotalBet.string=""+this.currentBetValue*e*this.currentNumPicked.length:this.labelTotalBet.string=""+this.currentBetValue*e,this.labelWinValue.string=""+this.currentWinValue*e},e.prototype.requestPlay=function(t,e){var o=this;a.default.getInstance().request("LOTO1",{appId:"xxeng",userId:s.default.Login.UserIdFish,number:t,session:this.sessionDate,mode:this.GAME_MODE,channel:this.GAME_CHANNEL,pay:e},function(t){if(200!=t.code)return l.default.instance.showLoading(!1),void l.default.instance.alertDialog.showMsg("L\u1ed7i "+t.code+", "+t.msg);o.numRequest+=1,o.numRequest==o.numRequestCompleted&&(o.showPopupNotify("\u0110\u1eb7t th\xe0nh c\xf4ng !"),o.numRequest=0,o.numRequestCompleted=0,o.actionCancelBet(),l.default.instance.showLoading(!1)),s.default.Login.CoinFish=t.cash,h.default.send(h.default.USER_UPDATE_COIN)},this)},e.prototype.requestGetPayWinRate=function(){var t=this;a.default.getInstance().request("LOTO2",{mode:this.GAME_MODE,channel:this.GAME_CHANNEL},function(e){200==e.code&&(t.currentNumPicked=[],t.resetContentNumberPicked(),t.currentBetValue=e.payRate,t.currentWinValue=e.winRate,t.edtBet.string="1",t.labelTotalBet.string="0",t.labelWinValue.string=e.winRate)},this)},e.prototype.requestGetCalculateResult=function(){a.default.getInstance().request("LOTO3",{session:this.sessionDate},function(t){t.code},this)},e.prototype.requestGetPlayerRequest=function(){var t=this;a.default.getInstance().request("LOTO4",null,function(e){if(200==e.code){t.popupHistory.active=!0,t.contentHistory.removeAllChildren(!0);for(var o=e.data,n=0;n<o.length;n++){var i=cc.instantiate(t.prefabItemHistory);i.getComponent("Loto.ItemHistory").initItem(n,o[n]),t.contentHistory.addChild(i)}}},this)},e.prototype.requestGetLotoResult=function(t,e){var o=this;a.default.getInstance().request("LOTO5",{session:t,channel:e},function(t){if(200==t.code){if(o.popupResult.active)for(var e=0;e<9;e++)o.labelResult[e].string="......";else for(e=0;e<9;e++)o.labelTabResult[e].string="......";var n=t.data;if(0==n.channel||0==n.session);else{(n=t.data).results,"[]"==n.result8&&(o.popupResult.active?o.labelResult[8].string="":o.labelTabResult[8].string="");var i=o.popupResult.active?"    ":"  ";for(e=0;e<8;e++){var r=n["result"+e];0==e&&(r=n.resultSp);for(var c=JSON.parse(r),a="",s=0;s<c.length;s++)s<c.length-1?a=2!=s||3!=e&&5!=e?a+c[s].toString()+i:a+c[s].toString()+"\n":a+=c[s].toString();o.popupResult.active?o.labelResult[e].string=a:o.labelTabResult[e].string=a}}}},this)},e.prototype.requestGetHelp=function(){var t=this;a.default.getInstance().request("LOTO6",null,function(e){200==e.code&&(t.helpCenter=e.data,t.changeGameGuide())},this)},e.prototype.requestChat=function(t){a.default.getInstance().request("LOTO7",{msg:t},function(t){t.code},this)},e.prototype.requestGetChatHistory=function(){var t=this;a.default.getInstance().request("LOTO8",null,function(e){if(200==e.code){t.contentChat.removeAllChildren(!0);for(var o=e.data,n=0;n<o.length;n++){var i=cc.instantiate(t.prefabItemChat);i.getComponent("Loto.ItemChat").initItem({nickname:o[n].nickname,msg:o[n].msg}),t.contentChat.addChild(i)}t.scrollChat.scrollToBottom(.2)}},this)},e.prototype.requestGetGameAvailable=function(){var t=this;a.default.getInstance().request("LOTO9",null,function(e){if(200==e.code){if(l.default.instance.showLoading(!1),t.channelsOpen=e.channels,t.modesOpen=e.modes,0==t.modesOpen.length)for(var o=0;o<24;o++)t.modesOpen.push(o);if(0==t.channelsOpen.length)for(o=0;o<37;o++)t.channelsOpen.push(o);t.chooseLocation(t.listLocation[0]),t.listLocation[0].isChecked=!0,t.GAME_LOCATION=p.default.Code.LOTO_LOCATION.MienBac,t.onBetChannelSelected("0",p.default.Code.LOTO_CHANNEL.MIEN_BAC),t.requestGetHelp(),t.requestGetPayWinRate()}},this)},e.prototype.requestGetNewBetHistory=function(){var t=this;a.default.getInstance().request("LOTO10",null,function(e){if(200==e.code){t.contentNewBet.removeAllChildren(!0);for(var o=e.data,n=0;n<o.length;n++){var i=o[n],r=cc.instantiate(t.prefabItemNewBet);r.getComponent("Loto.ItemNewBet").initItem({nickname:i.nickname,channel:i.channel,mode:i.mode,bet:i.cost,nums:i.number}),t.contentNewBet.addChild(r)}t.scrollNewBet.scrollToBottom(.2)}},this)},e.prototype.actLogin=function(){var t=this,e=s.default.Login.Username,o=s.default.Login.Password;l.default.instance.showLoading(!0),d.default.get(s.default.App.API,{c:3,un:e,pw:md5(o)},function(n,i){if(l.default.instance.showLoading(!1),null==n)switch(parseInt(i.errorCode)){case 0:s.default.Login.AccessToken=i.accessToken,s.default.Login.SessionKey=i.sessionKey,s.default.Login.Username=e,s.default.Login.Password=o,s.default.Login.IsLogin=!0;var r=JSON.parse(base64.decode(s.default.Login.SessionKey));s.default.Login.Nickname=r.nickname,s.default.Login.Avatar=r.avatar,s.default.Login.Coin=r.vinTotal,s.default.Login.LuckyWheel=r.luckyRotate,s.default.Login.IpAddress=r.ipAddress,s.default.Login.CreateTime=r.createTime,s.default.Login.Birthday=r.birthday,s.default.Login.Birthday=r.birthday,s.default.Login.VipPoint=r.vippoint,s.default.Login.VipPointSave=r.vippointSave,y.default.setUserName(s.default.Login.Username),y.default.setUserPass(s.default.Login.Password),l.default.instance.buttonMiniGame.show(),h.default.send(h.default.USER_INFO_UPDATED);break;case 1007:l.default.instance.alertDialog.showMsg("Th\xf4ng tin \u0111\u0103ng nh\u1eadp kh\xf4ng h\u1ee3p l\u1ec7.");break;case 2001:t.popupUpdateNickname.show2(e,o);break;default:l.default.instance.alertDialog.showMsg("\u0110\u0103ng nh\u1eadp kh\xf4ng th\xe0nh c\xf4ng vui l\xf2ng th\u1eed l\u1ea1i sau.")}else l.default.instance.alertDialog.showMsg("\u0110\u0103ng nh\u1eadp kh\xf4ng th\xe0nh c\xf4ng, vui l\xf2ng ki\u1ec3m tra l\u1ea1i k\u1ebft n\u1ed1i.")})},e.prototype.actBack=function(){cc.audioEngine.stopAll(),l.default.instance.loadScene("Lobby")},e.instance=null,r([m(cc.Label)],e.prototype,"labelUserGold",void 0),r([m(cc.Node)],e.prototype,"currentMode",void 0),r([m(cc.Node)],e.prototype,"listModes",void 0),r([m(cc.Node)],e.prototype,"contentMode",void 0),r([m(cc.Label)],e.prototype,"labelGameGuide",void 0),r([m(cc.Toggle)],e.prototype,"listLocation",void 0),r([m(cc.Toggle)],e.prototype,"listTabs",void 0),r([m(cc.Node)],e.prototype,"contentTabs",void 0),r([m(cc.EditBox)],e.prototype,"edtChatInput",void 0),r([m(cc.Node)],e.prototype,"contentChat",void 0),r([m(cc.Prefab)],e.prototype,"prefabItemChat",void 0),r([m(cc.ScrollView)],e.prototype,"scrollChat",void 0),r([m(cc.Node)],e.prototype,"contentNewBet",void 0),r([m(cc.Prefab)],e.prototype,"prefabItemNewBet",void 0),r([m(cc.ScrollView)],e.prototype,"scrollNewBet",void 0),r([m([cc.Label])],e.prototype,"labelTabResult",void 0),r([m(cc.Label)],e.prototype,"betDate",void 0),r([m(cc.Label)],e.prototype,"currentBetChannel",void 0),r([m(cc.Node)],e.prototype,"btnBetChannel",void 0),r([m(cc.Node)],e.prototype,"betChannel",void 0),r([m(cc.Node)],e.prototype,"contentBetChannel",void 0),r([m(cc.Prefab)],e.prototype,"prefabItemChannel",void 0),r([m(cc.ScrollView)],e.prototype,"scrollBetChannel",void 0),r([m(cc.Node)],e.prototype,"btnTabResultChannel",void 0),r([m(cc.Label)],e.prototype,"tabResultDate",void 0),r([m(cc.Label)],e.prototype,"currentTabResultChannel",void 0),r([m(cc.Node)],e.prototype,"btnPopupResultChannel",void 0),r([m(cc.Label)],e.prototype,"popupResultDate",void 0),r([m(cc.Label)],e.prototype,"currentPopupResultChannel",void 0),r([m(cc.Node)],e.prototype,"btnCancelChangeChannel",void 0),r([m(cc.Node)],e.prototype,"numberSelector",void 0),r([m(cc.Node)],e.prototype,"contentNumSelector",void 0),r([m(cc.Prefab)],e.prototype,"prefabItemNumber",void 0),r([m(cc.ScrollView)],e.prototype,"scrollNumSelector",void 0),r([m(cc.Node)],e.prototype,"btnOpenNumberSelector",void 0),r([m(cc.Node)],e.prototype,"contentDescMode",void 0),r([m(cc.Node)],e.prototype,"contentNumPicked",void 0),r([m(cc.Prefab)],e.prototype,"prefabItemNumberPicked",void 0),r([m(cc.ScrollView)],e.prototype,"scrollNumPicked",void 0),r([m(cc.EditBox)],e.prototype,"edtBet",void 0),r([m(cc.Label)],e.prototype,"labelTotalBet",void 0),r([m(cc.Label)],e.prototype,"labelWinValue",void 0),r([m(cc.Node)],e.prototype,"popupHistory",void 0),r([m(cc.Node)],e.prototype,"contentHistory",void 0),r([m(cc.Prefab)],e.prototype,"prefabItemHistory",void 0),r([m(cc.Node)],e.prototype,"popupResult",void 0),r([m([cc.Label])],e.prototype,"labelResult",void 0),r([m(cc.Node)],e.prototype,"contentTime",void 0),r([m(cc.Node)],e.prototype,"popupNotify",void 0),r([m(cc.Label)],e.prototype,"labelMsg",void 0),r([m({type:cc.AudioClip})],e.prototype,"musicBackground",void 0),o=r([b],e)}(cc.Component);o.default=L,cc._RF.pop()},{"../../Loading/src/Configs":void 0,"../../Loading/src/Http":void 0,"../../Lobby/LobbyScript/Script/common/App":void 0,"../../Lobby/LobbyScript/Script/common/BroadcastReceiver":void 0,"../../Lobby/LobbyScript/Script/common/SPUtils":void 0,"../../Lobby/LobbyScript/Script/common/Utils":void 0,"../../Lobby/LobbyScript/Script/networks/MiniGameNetworkClient":void 0,"../../Lobby/LobbyScript/Script/networks/Network.InPacket":void 0,"../../Lobby/LobbyScript/Script/networks/ShootFishNetworkClient":void 0,"./Loto.Cmd":"Loto.Cmd"}],"Loto.ItemChannel":[function(t,e,o){"use strict";cc._RF.push(e,"f4b03Zm9+hMQpmh+Zyf2xn9","Loto.ItemChannel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./Loto.Controller"),a=cc._decorator,s=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelName=null,e.itemInfo=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.initItem=function(t){this.itemInfo=t,this.labelName.string=t.name},e.prototype.itemClicked=function(){c.default.instance.onBetChannelSelected(this.itemInfo.from,this.itemInfo.id)},e.prototype.updateInfo=function(t){this.itemInfo.from=t},r([l(cc.Label)],e.prototype,"labelName",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./Loto.Controller":"Loto.Controller"}],"Loto.ItemChat":[function(t,e,o){"use strict";cc._RF.push(e,"21886x+CspPJJFuy7Y7oLfg","Loto.ItemChat");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.initItem=function(t){this.node.getComponent(cc.RichText).string="<color=#ffcc00>"+t.nickname+" : </c><color=#ffffff>"+t.msg+"</color>"},r([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],"Loto.ItemHistory":[function(t,e,o){"use strict";cc._RF.push(e,"a8e98d9AThE4azoMBB563ic","Loto.ItemHistory");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./Loto.Cmd"),a=t("../../Lobby/LobbyScript/Script/common/Utils"),s=cc._decorator,l=s.ccclass,u=s.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg=null,e.labelTime=null,e.labelMode=null,e.labelNums=null,e.labelBet=null,e.labelWin=null,e.labelResult=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.initItem=function(t,e){if(this.bg.active=t%2!=0,this.labelTime.string=e.timePlay.split(" ")[0],this.labelMode.string=c.default.Code.LOTO_GAME_MODE_NAME[e.gameMode],e.number.toString().indexOf(","),e.number.length>0&&-1!=e.number.toString().indexOf(","))for(var o=0;o<e.number.length;o++)this.labelNums.string+=0==o?"":5==o?"\n":", ",this.labelNums.string+=e.number[o];else this.labelNums.string=e.number.toString();this.labelBet.string=a.default.formatNumber(e.pay*e.payRate),this.labelWin.string=a.default.formatNumber(e.win),0==e.status?this.labelResult.string="Ch\u1edd k\u1ebft qu\u1ea3 XS":1==e.status?this.labelResult.string="Ho\xe0n th\xe0nh":this.labelResult.string="L\u1ed7i"},r([u(cc.Node)],e.prototype,"bg",void 0),r([u(cc.Label)],e.prototype,"labelTime",void 0),r([u(cc.Label)],e.prototype,"labelMode",void 0),r([u(cc.Label)],e.prototype,"labelNums",void 0),r([u(cc.Label)],e.prototype,"labelBet",void 0),r([u(cc.Label)],e.prototype,"labelWin",void 0),r([u(cc.Label)],e.prototype,"labelResult",void 0),r([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../Lobby/LobbyScript/Script/common/Utils":void 0,"./Loto.Cmd":"Loto.Cmd"}],"Loto.ItemNewBet":[function(t,e,o){"use strict";cc._RF.push(e,"b0260L7jYFFFaLQQwN8cuIC","Loto.ItemNewBet");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../Lobby/LobbyScript/Script/common/Utils"),a=t("./Loto.Cmd"),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.initItem=function(t){this.node.getComponent(cc.RichText).string="<color=#ffcc00>"+t.nickname+" : </c><color=#ff0000>\u0110\u1eb7t c\u01b0\u1ee3c "+c.default.formatNumber(t.bet)+" Gold</c><color=#ffffff> C\u01b0\u1ee3c \u0111\xe0i </c><color=#0036ff>"+a.default.Code.LOTO_CHANNEL_NAME[t.channel]+" </c><color=#ffffff> lo\u1ea1i </c><color=#ff0000>"+a.default.Code.LOTO_GAME_MODE_NAME[t.mode]+"</c> <color=#00ff9c>"+t.nums+" </c>"},r([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../../Lobby/LobbyScript/Script/common/Utils":void 0,"./Loto.Cmd":"Loto.Cmd"}],"Loto.ItemNumSelected":[function(t,e,o){"use strict";cc._RF.push(e,"8defb3yBhpPuYfS/aE78cMA","Loto.ItemNumSelected");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelNumber=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.initItem=function(t){this.labelNumber.string=t},r([s(cc.Label)],e.prototype,"labelNumber",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],"Loto.ItemNumber":[function(t,e,o){"use strict";cc._RF.push(e,"1b398MAPnBPtpaf/K5cX9oJ","Loto.ItemNumber");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./Loto.Controller"),a=cc._decorator,s=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelValue=null,e.itemInfo=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.initItem=function(t,e){this.itemInfo=e,this.formatName(t)},e.prototype.formatName=function(t){var e=this.itemInfo;10==t||(100==t?this.itemInfo<10&&(e="0"+this.itemInfo):this.itemInfo<10?e="00"+this.itemInfo:this.itemInfo<100&&(e="0"+this.itemInfo)),this.labelValue.string=e},e.prototype.choose=function(){this.node.getComponent(cc.Toggle).isChecked?c.default.instance.addNumberPicked(this.labelValue.string):c.default.instance.removeNumberPicked(this.labelValue.string)},r([l(cc.Label)],e.prototype,"labelValue",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./Loto.Controller":"Loto.Controller"}],"Loto.LotoPopupCoinTransfer":[function(t,e,o){"use strict";cc._RF.push(e,"122a5cZR3dMPLlfSqMoGDFW","Loto.LotoPopupCoinTransfer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.LotoTabCashOut=o.LotoTabCashIn=void 0;var c=t("../../Lobby/LobbyScript/Script/common/Dialog"),a=t("../../Lobby/LobbyScript/Script/common/BroadcastReceiver"),s=t("../../Lobby/LobbyScript/Script/common/Utils"),l=t("../../Loading/src/Configs"),u=t("../../Lobby/LobbyScript/Script/common/App"),h=t("../../Lobby/LobbyScript/Script/networks/MiniGameNetworkClient"),p=t("../../Lobby/LobbyScript/Lobby.Cmd"),d=t("../../Lobby/LobbyScript/Script/networks/ShootFishNetworkClient"),f=cc._decorator,b=f.ccclass,m=f.property,C=function(){function t(){this.lblBalance=null,this.edbCoin=null,this.quickButtons=null,this.popup=null,this.values=[5e4,1e5,2e5,5e5,1e6,2e6,5e6,1e7,2e7]}return t.prototype.start=function(t){var e=this;this.popup=t,this.edbCoin.node.on("editing-did-ended",function(){var t=s.default.stringToInt(e.edbCoin.string);e.edbCoin.string=s.default.formatNumber(t)});for(var o,n=function(t){o=i.quickButtons.children[t];var n=i.values[t];o.getComponentInChildren(cc.Label).string=s.default.formatNumber(n),o.on("click",function(){e.edbCoin.string=s.default.formatNumber(n)})},i=this,r=0;r<this.quickButtons.childrenCount;r++)n(r)},t.prototype.submit=function(){var t=this,e=s.default.stringToInt(this.edbCoin.string);e<=0?u.default.instance.alertDialog.showMsg("S\u1ed1 ti\u1ec1n \u0111\xe3 nh\u1eadp kh\xf4ng h\u1ee3p l\u1ec7."):(u.default.instance.showLoading(!0),d.default.getInstance().request("xxengCashin",{ccash:e},function(o){u.default.instance.showLoading(!1),o.ok?(l.default.Login.CoinFish=o.newCash,l.default.Login.Coin=l.default.Login.Coin-e,a.default.send(a.default.USER_UPDATE_COIN),u.default.instance.alertDialog.showMsg("Thao t\xe1c th\xe0nh c\xf4ng."),t.reset(),h.default.getInstance().send(new p.default.ReqGetMoneyUse)):u.default.instance.alertDialog.showMsg("Thao t\xe1c th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i sau.")},this.popup))},t.prototype.reset=function(){this.edbCoin.string="",this.lblBalance.string=s.default.formatNumber(l.default.Login.Coin)},r([m(cc.Label)],t.prototype,"lblBalance",void 0),r([m(cc.EditBox)],t.prototype,"edbCoin",void 0),r([m(cc.Node)],t.prototype,"quickButtons",void 0),r([b("LotoPopupCoinTransfer.LotoTabCashIn")],t)}();o.LotoTabCashIn=C;var g=function(){function t(){this.lblBalance=null,this.edbCoin=null,this.quickButtons=null,this.popup=null,this.values=[5e4,1e5,2e5,5e5,1e6,2e6,5e6,1e7,2e7]}return t.prototype.start=function(t){var e=this;this.popup=t,this.edbCoin.node.on("editing-did-ended",function(){var t=s.default.stringToInt(e.edbCoin.string);e.edbCoin.string=s.default.formatNumber(t)});for(var o,n=function(t){o=i.quickButtons.children[t];var n=i.values[t];o.getComponentInChildren(cc.Label).string=s.default.formatNumber(n),o.on("click",function(){e.edbCoin.string=s.default.formatNumber(n)})},i=this,r=0;r<this.quickButtons.childrenCount;r++)n(r)},t.prototype.submit=function(){var t=this,e=s.default.stringToInt(this.edbCoin.string);e<=0?u.default.instance.alertDialog.showMsg("S\u1ed1 ti\u1ec1n \u0111\xe3 nh\u1eadp kh\xf4ng h\u1ee3p l\u1ec7."):(u.default.instance.showLoading(!0),d.default.getInstance().request("xxengCashin",{ccash:-e},function(o){u.default.instance.showLoading(!1),o.ok?(l.default.Login.CoinFish=o.newCash,l.default.Login.Coin=l.default.Login.Coin+e,a.default.send(a.default.USER_UPDATE_COIN),u.default.instance.alertDialog.showMsg("Thao t\xe1c th\xe0nh c\xf4ng."),t.reset(),h.default.getInstance().send(new p.default.ReqGetMoneyUse)):u.default.instance.alertDialog.showMsg("Thao t\xe1c th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i sau.")},this.popup))},t.prototype.reset=function(){this.edbCoin.string="",this.lblBalance.string=s.default.formatNumber(l.default.Login.CoinFish)},r([m(cc.Label)],t.prototype,"lblBalance",void 0),r([m(cc.EditBox)],t.prototype,"edbCoin",void 0),r([m(cc.Node)],t.prototype,"quickButtons",void 0),r([b("LotoPopupCoinTransfer.LotoTabCashOut")],t)}();o.LotoTabCashOut=g;var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tabs=null,e.tabContents=null,e.tabCashIn=null,e.tabCashOut=null,e.tabSelectedIdx=0,e}return i(e,t),e.prototype.start=function(){for(var t=this,e=function(e){o.tabs.toggleItems[e].node.on("toggle",function(){t.tabSelectedIdx=e,t.onTabChanged()})},o=this,n=0;n<this.tabs.toggleItems.length;n++)e(n);a.default.register(a.default.USER_UPDATE_COIN,function(){t.tabCashIn.lblBalance.string=s.default.formatNumber(l.default.Login.Coin),t.tabCashOut.lblBalance.string=s.default.formatNumber(l.default.Login.CoinFish)},this),this.tabCashIn.start(this),this.tabCashOut.start(this)},e.prototype.show=function(){t.prototype.show.call(this),this.tabSelectedIdx=0,this.tabs.toggleItems[this.tabSelectedIdx].isChecked=!0,this.onTabChanged()},e.prototype.onTabChanged=function(){for(var t=0;t<this.tabContents.childrenCount;t++)this.tabContents.children[t].active=t==this.tabSelectedIdx;for(var e=0;e<this.tabs.toggleItems.length;e++)this.tabs.toggleItems[e].node.getComponentInChildren(cc.LabelOutline).color=e==this.tabSelectedIdx?cc.Color.BLACK.fromHEX("#AA5F00"):cc.Color.BLACK.fromHEX("#4677F3");switch(this.tabSelectedIdx){case 0:this.tabCashIn.reset();break;case 1:this.tabCashOut.reset()}},e.prototype.actSubmitCashIn=function(){this.tabCashIn.submit()},e.prototype.actSubmitCashOut=function(){this.tabCashOut.submit()},e.prototype.actClearCashIn=function(){this.tabCashIn.edbCoin.string="0"},e.prototype.actClearCashOut=function(){this.tabCashOut.edbCoin.string="0"},r([m(cc.ToggleContainer)],e.prototype,"tabs",void 0),r([m(cc.Node)],e.prototype,"tabContents",void 0),r([m(C)],e.prototype,"tabCashIn",void 0),r([m(g)],e.prototype,"tabCashOut",void 0),r([b],e)}(c.default);o.default=y,cc._RF.pop()},{"../../Loading/src/Configs":void 0,"../../Lobby/LobbyScript/Lobby.Cmd":void 0,"../../Lobby/LobbyScript/Script/common/App":void 0,"../../Lobby/LobbyScript/Script/common/BroadcastReceiver":void 0,"../../Lobby/LobbyScript/Script/common/Dialog":void 0,"../../Lobby/LobbyScript/Script/common/Utils":void 0,"../../Lobby/LobbyScript/Script/networks/MiniGameNetworkClient":void 0,"../../Lobby/LobbyScript/Script/networks/ShootFishNetworkClient":void 0}]},{},["Loto.Cmd","Loto.Controller","Loto.ItemChannel","Loto.ItemChat","Loto.ItemHistory","Loto.ItemNewBet","Loto.ItemNumSelected","Loto.ItemNumber","Loto.LotoPopupCoinTransfer"]);